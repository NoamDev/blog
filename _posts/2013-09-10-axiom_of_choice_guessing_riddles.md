---
id: 2845
title: "איך אקסיומת הבחירה הופכת אותנו ל(כמעט) יודעי כל"
date: 2013-09-10 17:16:23
layout: post
categories: 
  - משחקים וחידות מתמטיות
tags: 
  - אקסיומת הבחירה
  - תוצאות לא אינטואיטיביות
---
הנה חידה: אליס ובוב משחקים במשחק. אליס בוחרת פונקציה ממשית {::nomarkdown}\( f:\mathbb{R}\to\mathbb{R}\){:/nomarkdown} כלשהי. בוב בתורו בוחר איזה שהוא מספר {::nomarkdown}\( x\in\mathbb{R}\){:/nomarkdown}, ואז אליס מגלה לו את ערכי {::nomarkdown}\( f\){:/nomarkdown} על כל מספר ממשי פרט ל-{::nomarkdown}\( x\){:/nomarkdown}, דהיינו מגלה לו את הקבוצה {::nomarkdown}\( \left\{ \left(y,f\left(y\right)\right)\ \|\ y\ne x\right\} \){:/nomarkdown}. כעת בוב מנחש מהו {::nomarkdown}\( f\left(x\right)\){:/nomarkdown}, ומצליח בהסתברות 1. איך, בשם גאוס ואוילר, בוב מצליח לעשות משהו כזה?

לפני שאעבור להציג את הפתרון שאני חושב עליו, הנה כמה הבהרות טכניות. ראשית, כשאני מדבר על "הסתברות" צריך להבהיר מה מרחב ההסתברות הרלוונטי. אני קצת משאיר את זה מעומעם, אבל גם שלב בחירת ה-{::nomarkdown}\( x\){:/nomarkdown} שבוב אומר יכול להיות הסתברותי, וגם שלב בחירת הערך שבוב יגיד בתור {::nomarkdown}\( f\left(x\right)\){:/nomarkdown} יכול להיות הסתברותי. אנחנו רוצים שההסתברות להצלחה תהיה 1 בסך הכל.

הדבר השני שצריך לשים לב אליו הוא שהחידה הזו לא מציאותית, במובן זה שבני אנוש אמיתיים לא יכולים לשחק את המשחק הזה, ואפילו לא מחשבים רגילים: הקבוצה שאליס נותנת לבוב, של כל ערכי הפונקציה {::nomarkdown}\( f\){:/nomarkdown} חוץ מאשר על {::nomarkdown}\( x\){:/nomarkdown}, היא קבוצה ענקית - <strong>לא בת מניה</strong> - ולכן אי אפשר לקרוא את כולה בזמן סופי. מכאן שאני אמנם מבקש להסביר מה ה<strong>אלגוריתם</strong> שבוב הולך לבצע, אבל לא מניח שהאלגוריתם הזה יהיה ניתן לתכנות במחשב - הוא יכול לכלול להטוטים מתמטיים שונים ומשונים. עדיין, החידה מרתקת גם כך.

עם זאת, החידה הזו מתגמדת אל מול חידת המשך דומה מאוד שגם אותה אני רוצה לתאר: הפעם יש לנו 100 בובים, ולאליס יש פונקציה {::nomarkdown}\( f:\mathbb{N}\to\mathbb{R}\){:/nomarkdown}. ראשית כל הם מתייעצים ומסכימים על אסטרטגיה, ואחר כך כל אחד מהם מוכנס לחדר עם אליס ויכול לתחקר אותה על הפונקציה של אליס כרצונו. כלומר, הוא יכול לשאול על כמה ערכים - גם מספר אינסופי שלהם - לחשוב, לשאול על עוד ערכים בהתבסס על התשובות שכבר קיבל, וכן הלאה. בסופו של דבר הוא חייב להגיד את הערך של {::nomarkdown}\( f\){:/nomarkdown} על קלט כלשהו שעליו הוא לא שאל. המטרה היא ש-99 מבין 100 הבובים יענו את התשובה הנכונה. לא "בהסתברות" - אבסולוטית.

כתמיד, אני מציע שנצא כעת להפסקה שבה אתם מנסים לפתור את החידות בעצמכם, ואחרי שנחזור מההפסקה אסביר את הפתרון שאני חושב עליו.

<strong><a href="http://www.gadial.net/wp-content/uploads/2013/09/set_theory.png"><img class="alignnone size-full wp-image-2847" alt="set_theory" src="http://www.gadial.net/wp-content/uploads/2013/09/set_theory.png" width="255" height="354" /></a></strong>

ראשית כל, אני רוצה לציין את מה שאולי חלקכם כבר שמו אליו לב - החידה הזו דומה מאוד לחידה אחרת שהזכרתי בעבר בבלוג, אפילו כמעט זהה. החידה הוצגה <a href="http://www.gadial.net/2008/08/18/secret_sharing_riddle/">כאן</a> ונפתרה <a href="http://www.gadial.net/2008/08/22/secret_sharing_riddle_solution/">כאן</a> והיא הולכת ככה: יש לנו אינסוף (בן מניה) של אסירים שעל הראש של כל אחד מהם יש כובע שיכול להיות שחור או לבן. כולם רואים את הכובעים של כולם למעט של עצמם. מתישהו מכים בגונג וכולם צריכים בו זמנית לומר מה צבע הכובע שיש להם על הראש, ומותר שרק מספר סופי של אסירים יטעו. באופן די מרהיב, זה ניתן לביצוע בדרך דומה מאוד לפתרון שאציג עכשיו; ההבדל העקרוני בין החידה הזו ובין החידה הנוכחית הוא שכאן מדובר על אינסוף לא בן מניה של אסירים (זה מתבטא בכך שהתחום של {::nomarkdown}\( f\){:/nomarkdown} הוא {::nomarkdown}\( \mathbb{R}\){:/nomarkdown}) ואינסוף לא בן מניה של צבעי כובעים (זה מתבטא בכך שהטווח של {::nomarkdown}\( f\){:/nomarkdown} הוא {::nomarkdown}\( \mathbb{R}\){:/nomarkdown}) ובמקום "מספר סופי של טעויות" מדברים על "הצלחה בהסתברות 1" (תכף נבין למה זה שקול), ואת החידה הזו אפשר לנסח במונחים של אליס ובוב, מה שגורם לכך שלמרות שברור לי ששתי החידות זהות ברמה העקרונית, חידת האסירים והכובעים נראית לי כמו חידה קטנה ונחמדה, ואילו החידה הנוכחית גורמת לי לתחושת "מה לכל הרוחות?!" עזה.

אז איך פותרים? הרעיון פשוט יחסית: נגדיר יחס שקילות על קבוצת כל הפונקציות הממשיות, כך ש-{::nomarkdown}\( f\){:/nomarkdown} שקול ל-{::nomarkdown}\( g\){:/nomarkdown} אם הן נבדלות רק במספר סופי של מקומות. פורמלית, {::nomarkdown}\( f\sim g\){:/nomarkdown} אם ורק אם {::nomarkdown}\( \left\|\left\{ x\in\mathbb{R}\ \|\ f\left(x\right)\ne g\left(x\right)\right\} \right\|&lt;\infty\){:/nomarkdown}. קל לראות שזה אכן יחס שקילות ({::nomarkdown}\( f\){:/nomarkdown} נבדלת מעצמה על 0 מקומות; {::nomarkdown}\( f\){:/nomarkdown} נבדלת מ-{::nomarkdown}\( g\){:/nomarkdown} באותם מקומות שבהם {::nomarkdown}\( g\){:/nomarkdown} נבדלת מ-{::nomarkdown}\( f\){:/nomarkdown}; אם {::nomarkdown}\( f\){:/nomarkdown} נבדלת מ-{::nomarkdown}\( g\){:/nomarkdown} ב-{::nomarkdown}\( n\){:/nomarkdown} מקומות ו-{::nomarkdown}\( g\){:/nomarkdown} נבדלת מ-{::nomarkdown}\( h\){:/nomarkdown} ב-{::nomarkdown}\( k\){:/nomarkdown} מקומות אז {::nomarkdown}\( f\){:/nomarkdown} נבדלת מ-{::nomarkdown}\( h\){:/nomarkdown} לכל היותר ב-{::nomarkdown}\( n+k\){:/nomarkdown} מקומות).

כל יחס שקילות משרה חלוקה למחלקות שקילות. כאן יש לנו בבירור אינסוף לא בן מניה של מחלקות שקילות (למשל, כל הפונקציות מהצורה {::nomarkdown}\( f\left(x\right)=c\){:/nomarkdown} כאשר {::nomarkdown}\( c\in\mathbb{R}\){:/nomarkdown} קבוע שייכות למחלקות שקילות שונות). אז אנחנו בוחרים <strong>נציג</strong> לכל מחלקת שקילות שכזו, אבל לשם כך אנחנו נזקקים לשימוש ב<a href="http://www.gadial.net/2007/07/04/axiom_of_choice/">אקסיומת הבחירה</a>, מה שאולי מסביר למה דברים לא אינטואיטיביים מתחילים לקרות.

בהינתן פונקציה {::nomarkdown}\( f\){:/nomarkdown} בואו נסמן ב-{::nomarkdown}\( \left[f\right]\){:/nomarkdown} את מחלקת השקילות שלה, וב-{::nomarkdown}\( g_{\left[f\right]}\){:/nomarkdown} את הנציגה של אותה מחלקת שקילות. כעת קל להציג את מה שבוב עושה:
<ul>
	<li>בוב מנחש מספר {::nomarkdown}\( x\){:/nomarkdown} באקראי ובהתפלגות אחידה מתוך הקטע {::nomarkdown}\( \left[0,1\right]\){:/nomarkdown} ושולח אותו אל אליס.</li>
	<li>בוב מקבל מאליס את כל ערכי {::nomarkdown}\( f\){:/nomarkdown} פרט לערך בנקודה {::nomarkdown}\( x\){:/nomarkdown}. הוא מסתכל על פונקציה {::nomarkdown}\( f^{\prime}\){:/nomarkdown} שמחזירה 0 על {::nomarkdown}\( x\){:/nomarkdown} וזהה ל-{::nomarkdown}\( f\){:/nomarkdown} בכל מקום אחר, דהיינו {::nomarkdown}\( f^{\prime}\left(y\right)=\begin{cases}f\left(y\right) &amp; y\ne x\\0 &amp; y=x\end{cases}\){:/nomarkdown}.</li>
	<li>בוב פולט את {::nomarkdown}\( g_{\left[f^{\prime}\right]}\left(x\right)\){:/nomarkdown}, כלומר הוא בודק מה הנציג של מחלקת השקילות של {::nomarkdown}\( f^{\prime}\){:/nomarkdown} ואומר ש-{::nomarkdown}\( f\){:/nomarkdown} מחזירה על {::nomarkdown}\( x\){:/nomarkdown} את מה שאותו נציג מחזיר על {::nomarkdown}\( x\){:/nomarkdown}.</li>
</ul>
עכשיו נשאר להבין למה זה מצליח בהסתברות 1. מה שלא אמרתי במפורש אבל הוא די ברור הוא ש-{::nomarkdown}\( f\sim g\){:/nomarkdown} כאשר {::nomarkdown}\( g\){:/nomarkdown} הוא הנציג שבחרנו בסוף התהליך שתיארתי בצורה מסובכת יותר מן הנדרש עם {::nomarkdown}\( f^{\prime}\){:/nomarkdown}. למה? כי אנחנו יודעים ש-{::nomarkdown}\( f^{\prime}\sim g\){:/nomarkdown} שהרי כך בחרנו את {::nomarkdown}\( g\){:/nomarkdown} - הנציג של מחלקת השקילות של {::nomarkdown}\( f^{\prime}\){:/nomarkdown}. כמו כן, {::nomarkdown}\( f\sim f^{\prime}\){:/nomarkdown} כי הם נבדלים לכל היותר על {::nomarkdown}\( x\){:/nomarkdown}; ולכן מטרנזיטיביות נובע ש-{::nomarkdown}\( f\sim g\){:/nomarkdown}. לכן, הסיכוי של בוב לטעות שווה לסיכוי שלו לנחש ערך של {::nomarkdown}\( x\){:/nomarkdown} כך ש-{::nomarkdown}\( f\left(x\right)\ne g\left(x\right)\){:/nomarkdown}. מה הסיכוי הזה? קבוצת הנקודות שעליהן {::nomarkdown}\( f,g\){:/nomarkdown} לא מסכימות היא סופית, ולכן גם החיתוך שלה עם הקטע {::nomarkdown}\( \left[0,1\right]\){:/nomarkdown} הוא סופי. בוב בוחר מספר בהתפלגות אחידה מהקטע {::nomarkdown}\( \left[0,1\right]\){:/nomarkdown} ולכן ההסתברות לבחור מספר השייך לקבוצה {::nomarkdown}\( A\){:/nomarkdown} כלשהי שווה ל<strong>מידה</strong> של {::nomarkdown}\( A\){:/nomarkdown} ב-{::nomarkdown}\( \left[0,1\right]\){:/nomarkdown}, אבל המידה של קבוצה סופית היא 0, כפי שכבר <a href="http://www.gadial.net/2010/02/24/rationals_are_zero_measure/">הראיתי בעבר בבלוג</a> (אפשר להוכיח שהמידה שלה קטנה מכל {::nomarkdown}\( \varepsilon\){:/nomarkdown} על ידי כך שמכסים את כל הנקודות שלה עם קטעים שאורך כל אחד מהם {::nomarkdown}\( \frac{\varepsilon}{2\left\|A\right\|}\){:/nomarkdown} וסכום אורכי הכיסויים יהיה {::nomarkdown}\( \frac{\varepsilon}{2}\){:/nomarkdown}). לכן ההסתברות לבחור {::nomarkdown}\( x\){:/nomarkdown} שעליו {::nomarkdown}\( f,g\){:/nomarkdown} מסכימות הוא 1. סוף הסיפור.

טוב, אז דבר אחד כבר ברור - הקטע של "הסתברות 1" כאן לוקה בבעיה הרגילה שיש לו כשמדובר על הסתברות רציפה ולא בדידה - המשמעות של "הסתברות 1" אינה "תמיד", אלא "<strong>כמעט </strong>תמיד". זה מטעה המון אנשים שלא בקיאים בניואנסים של הבדלים בין הסתברות בדידה ורציפה (לרוב בגלל שהם מכירים רק הסתברות בדידה) ואני מתנצל אם זה הטעה אתכם. עם זאת, זה עדיין לא מספיק כדי להפיס את הדעת שלי מהמוזרות של החידה הזו.

בואו נעשה סדר בדברים כדי להבין מה כל כך מוזר: אליס בחרה את {::nomarkdown}\( f\){:/nomarkdown} איך שבא לה. אין שום סיבה להניח שערכים של {::nomarkdown}\( f\){:/nomarkdown} הם תלויים אחד בשני. ייתכן שאליס בחרה כל ערך של {::nomarkdown}\( f\){:/nomarkdown} באופן אקראי ובלתי תלוי בשום ערך אחר. לכן, ה"מידע" שבוב קיבל על כל ערכי {::nomarkdown}\( f\){:/nomarkdown} פרט ל-{::nomarkdown}\( f\left(x\right)\){:/nomarkdown} <strong>לא אמור לתת לו שום מידע</strong> על מהו {::nomarkdown}\( f\left(x\right)\){:/nomarkdown}. לכן הייתי מצפה שבוב ייכשל כמעט תמיד, לא שבוב יצליח כמעט תמיד! הרי אם המשחק היה שונה ואליס פשוט הייתה בוחרת מספר ממשי יחיד כלשהו ובוב היה צריך לנחש מהו, בוב היה מפסיד כמעט תמיד. אז איך ייתכן שהסיטואציה השתנתה ככה? ונניח שאליס הייתה בוחרת פונקציה ובוב היה בוחר ערך {::nomarkdown}\( x\){:/nomarkdown} ומנחש את ערך הפונקציה עליו <strong>מבלי</strong> שאליס תשלח לו את המידע על שאר ערכי הפונקציה, האם בוב עדיין היה מצליח לנחש בהסתברות 1 את {::nomarkdown}\( f\left(x\right)\){:/nomarkdown}? זהו, שלא ברור איך, כלומר שליחת המידע הזו <strong>עזרה</strong> לבוב למרות שנראה שהיא לא אמורה לעזור לו בשום צורה.

זה מוזר. מאוד. ואין לי הסבר טוב שיפיס את האינטואיציה במקרה הזה. הדבר היחיד שאני יכול לומר הוא שהשלב הזה שבו בוב משתמש בערכים שאליס נתנה לו כדי "למצוא" את הנציג של מחלקת השקילות של הפונקציה הוא סוג של קסם שלא מובן מאליו שבכלל יכול לקרות. הרי אם הייתי אומר "בוב מקבל מאליס את כל ערכי {::nomarkdown}\( f\){:/nomarkdown} פרט לערך בנקודה {::nomarkdown}\( x\){:/nomarkdown} ואז פולט את {::nomarkdown}\( f\left(x\right)\){:/nomarkdown}" הייתם צועקים עלי שבוב ביצע פה משהו לא חוקי כי מאיפה לו לדעת מהי {::nomarkdown}\( f\){:/nomarkdown}; אז באותה מידה אפשר לתהות מאיפה לו לדעת מהי {::nomarkdown}\( g_{\left[f^{\prime}\right]}\){:/nomarkdown}. אבל כן, זה הסבר שמרגיש קצת קלוש, רק שאין לי טוב ממנו.

בואו נעבור עכשיו לחידה השניה. היא מוזרה עוד יותר מהראשונה כי היא לא מערבת הסתברות ובפרט לא את ה"רמאות" של "המידה של קבוצה סופית היא 0". יותר מכך - כאן יש לנו מספר סופי של מתמטיקאים ומותר בדיוק לאחד מהם לטעות, כך שהטעות היא לא "סופית" בגודל שלה - היא לכל היותר 1. נשאלת השאלה - איך עושים את זה בכלל?

הדבר הראשון שחשבתי עליו הוא לקחת את הפתרון של החידה שלעיל ולנסות להשתמש בו. כאן {::nomarkdown}\( f\){:/nomarkdown} היא פונקציה מהטבעיים אל הממשיים, ואפשר לחשוב על פונקציה כזו בתור <strong>סדרה</strong>, אז מגדירים יחס שקילות על סדרות של ממשיים: {::nomarkdown}\( \left\{ a_{n}\right\} \sim\left\{ b_{n}\right\} \){:/nomarkdown} אם {::nomarkdown}\( \left\{ a_{n}\right\} \){:/nomarkdown} ו-{::nomarkdown}\( \left\{ b_{n}\right\} \){:/nomarkdown} נבדלות רק במספר סופי של איברים. כעת, מה קורה אם לוקחים את הפתרון לחידה המקורית ומנסים להשתמש בו? בוב יוכל לנחש מספר טבעי, לשאול את אליס על ערכי הסדרה ביתר המקומות, למצוא את הנציג של מחלקת השקילות של הסדרה של אליס ולענות בהתאם. הבעיה היא שהפתרון הזה הוא <strong>הסתברותי</strong> ואנחנו צריכים פתרון שעובד תמיד; וחוץ מזה, לא ברור איך לנחש מספר טבעי - אין התפלגות אחידה על כל הטבעיים - ובבירור הסתברות ההצלחה של בוב היא לא 1. בקיצור, העובדה שעכשיו ההסתברות היא על מרחב בדיד ({::nomarkdown}\( \mathbb{N}\){:/nomarkdown}) ולא מרחב רציף מקלקלת לנו את כל עניין ה"בהסתברות 1". צריך גישה אחרת.

אם כן, נכניס לתמונה תעלול חדש. נמספר את הבובים מ-{::nomarkdown}\( 0\){:/nomarkdown} עד 99, ולבוב מספר {::nomarkdown}\( k\){:/nomarkdown} נקצה את תת-הסדרה {::nomarkdown}\( h_{k}\){:/nomarkdown} שמוגדרת כך: {::nomarkdown}\( h_{k}\left(n\right)=f\left(100n+k\right)\){:/nomarkdown}. במילים אחרות, {::nomarkdown}\( h_{k}\){:/nomarkdown} היא תת-הסדרה שמתקבלת מ-{::nomarkdown}\( f\){:/nomarkdown} על ידי לקיחת האיברים שבמקומות ששקולים ל-{::nomarkdown}\( k\){:/nomarkdown} מודולו 100. כעת נסמן ב-{::nomarkdown}\( g_{k}\){:/nomarkdown} את הנציג של מחלקת השקילות {::nomarkdown}\( \left[h_{k}\right]\){:/nomarkdown} תחת יחס השקילות שהגדרנו על הסדרות.

עכשיו, בוב מספר {::nomarkdown}\( k\){:/nomarkdown} יפעל כך: ראשית, הוא יבקש מאליס את הערכים של {::nomarkdown}\( f\){:/nomarkdown} על כל הקלטים ש<strong>אינם</strong> מהצורה {::nomarkdown}\( 100n+k\){:/nomarkdown}, כלומר הוא בעצם יקבל את הערכים של כל ה-{::nomarkdown}\( h_{t}\){:/nomarkdown} עבור {::nomarkdown}\( t\ne k\){:/nomarkdown}.

שנית, לכל {::nomarkdown}\( h_{t}\){:/nomarkdown} שכזה, בוב מצליח באופן קסום (אקסיומת הבחירה?) להשיג את {::nomarkdown}\( g_{t}\){:/nomarkdown}. הוא משווה את {::nomarkdown}\( h_{t}\){:/nomarkdown} עם {::nomarkdown}\( g_{t}\){:/nomarkdown} ומוצא מה האינדקס המקסימלי שבו הם לא מסכימים: {::nomarkdown}\( E_{t}=\max\left\{ n\ \|\ h_{t}\left(n\right)\ne g_{t}\left(n\right)\right\} \){:/nomarkdown}.

עכשיו בוב יודע את {::nomarkdown}\( E_{t}\){:/nomarkdown} של כל הבובים האחרים מלבדו. הוא מקווה שיש לו מזל ושה-{::nomarkdown}\( E_{k}\){:/nomarkdown} שלו עצמו לא גדול יותר מזה של כל האחרים. הפואנטה המרכזית כאן היא שעבור <strong>אחד</strong> מהבובים זה לא יהיה נכון, ולכן אותו בוב עשוי להיכשל; אבל עבור כל 99 הבובים האחרים, זה יעבוד. אם כן, בוב מספר {::nomarkdown}\( k\){:/nomarkdown} יחשב את {::nomarkdown}\( E=\max\left\{ E_{t}\ \|\ t\ne k\right\} \){:/nomarkdown}. בהנחה שאכן {::nomarkdown}\( E_{k}\le E\){:/nomarkdown}, הרי ש-{::nomarkdown}\( g_{k}\left(E+1\right)=h_{k}\left(E+1\right)\){:/nomarkdown} ולכן בוב רק צריך למצוא את {::nomarkdown}\( g_{k}\){:/nomarkdown}. בשביל לעשות את זה הוא צריך להכיר את {::nomarkdown}\( h_{k}\){:/nomarkdown} באופן <strong>כמעט</strong> מלא, אז הוא פשוט ישאל את אליס על כל ערכי {::nomarkdown}\( h_{k}\){:/nomarkdown} פרט ל-{::nomarkdown}\( E+1\){:/nomarkdown}, יחשב את {::nomarkdown}\( g_{k}\){:/nomarkdown} מתוך מה שהוא קיבל, ולבסוף יפלוט את {::nomarkdown}\( g_{k}\left(E+1\right)\){:/nomarkdown}.

בבירור הפתרון עובד לכל בוב שעבורו {::nomarkdown}\( E_{k}\){:/nomarkdown} הוא לא המקסימלי (ולמעשה, אם {::nomarkdown}\( E_{k}\){:/nomarkdown} המקסימלי התקבל עבור שני בובים או יותר, אז <strong>כולם</strong> יענו נכון).

מה שמעניין בחידה הזו היא שהפתרון לא משתמש בשום קסמים חדשים - עדיין יש את הקסם הבלתי נמנע של אקסיומת הבחירה, אבל פרט אליו טכניקת הפתרון היא אמנם מחוכמת יחסית, אבל אין בה שום דבר "כבד" או "מתמטי" יותר מדי, והיא אלגוריתמית לגמרי פרט לבעיות הרגילות של לקבל מאליס אינסוף ערכים ולחשב מהם נציג של מחלקת שקילות. עם זאת, האפקט של הצלחה בחידה - העובדה ש-99 מתוך 100 המתמטיקאים מצליחים למצוא ערך של פונקציה שבכלל לא חייב להיות קשור לערכים שהם ראו - הוא מטורף לחלוטין. אני עדיין בהלם ממנו.

אז שוב, איך אני מסביר את הקסם הזה, מעבר לאמירה "נו, אקסיומת הבחירה, המתמטיקאים הללו והשטויות שלהם..."? בחיי שאין לי מושג. אולי אתם, בתגובות, תוכלו לעזור?
