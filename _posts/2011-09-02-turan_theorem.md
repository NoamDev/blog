---
id: 1313
title: "משפט טורן והולדת תורת הגרפים האקסטרמלית"
date: 2011-09-02 21:00:59
layout: post
categories: 
  - קומבינטוריקה
  - תורת הגרפים
tags: 
  - גרפים
  - משפט טורן
  - תורת הגרפים האקסטרמלית
  - תורת רמזי
---
<a href="http://www.gadial.net/?p=1261">לא מזמן</a> כתבתי פוסט על משפט רמזי שעסק בשאלה כמה גדולה צריכה להיות קבוצת ילדים על מנת שתיווצר בה קבוצה מגודל מסויים שכולם בה חברים או כולם בה לא חברים. זה היה מקרה פרטי של השאלה שבה עוסקים בתורת רמזי - כמה גדול צריך להיות אובייקט מתמטי כלשהו לפני שתצוץ בו תכונה מסויימת.

הפעם אני רוצה לעסוק בתחום דומה בקומבינטוריקה (תת-תחום של תורת רמזי? המעמד הרשמי לא ממש חשוב) - תורת הגרפים האקסטרמלית. כפי שניתן לנחש, האובייקטים שלנו כאן הם <a href="http://www.gadial.net/?p=125">גרפים</a> (אבל נו באמת - איזה אובייקט ביקום לא ניתן לתיאור על ידי גרף?) ואנחנו רוצים להבין את תכונותיהם של הגרפים הקיצוניים ביותר שמקיימים (או שלא מקיימים) תכונה כלשהי. באופן קצת יותר קונקרטי, עבור תכונה {::nomarkdown}\( \Phi\){:/nomarkdown} כלשהי של גרפים, שאלה מרכזית היא זו: מה המספר המקסימלי של קשתות שגרף עם {::nomarkdown}\( n\){:/nomarkdown} צמתים יכול להכיל ועדיין לקיים את התכונה {::nomarkdown}\( \Phi\){:/nomarkdown}? המספר הזה מסומן לרוב כ-{::nomarkdown}\( \mbox{ex}\left(n,\Phi\right)\){:/nomarkdown} (אפשר לחשוב עליו כפונקציה של {::nomarkdown}\( n\){:/nomarkdown} עם פרמטר {::nomarkdown}\( \Phi\){:/nomarkdown}). לא תמיד אפשר לדעת במדויק את {::nomarkdown}\( \mbox{ex}\left(n,\Phi\right)\){:/nomarkdown}, כמובן, ולרוב מסתפקים בהערכה.

המקרה המעניין הראשון הוא זה שבו {::nomarkdown}\( \Phi\){:/nomarkdown} היא התכונה "להכיל תת-גרף מסויים". אז אנחנו שואלים את השאלה הקלאסית של תורת רמזי - מתי אובייקט הוא גדול דיו כדי שמבנה מסויים יצוץ בתוכו לבטח? ומשפט טורן מטפל בתת גרף פשוט במיוחד: קליק. קליק מגודל {::nomarkdown}\( t\){:/nomarkdown}, שאותו אסמן ב-{::nomarkdown}\( K_{t}\){:/nomarkdown}, הוא פשוט קבוצה של {::nomarkdown}\( t\){:/nomarkdown} צמתים שכולם מחוברים אלה לאלה בקשתות. שימו לב להבדל בין זה ומשפט רמזי, שמדבר על מספר ה<strong>צמתים</strong> שצריך להיות בגרף לפני שיצוץ בו קליק מגודל מסויים או קבוצה בלתי תלויה מגודל מסויים; כאן מספר הצמתים {::nomarkdown}\( n\){:/nomarkdown} קבוע ונתון מראש ואנחנו רוצים לדעת מה מספר הקשתות; ולהבדיל ממשפט רמזי, כאן אנחנו יודעים את {::nomarkdown}\( \mbox{ex}\left(n,K_{t}\right)\){:/nomarkdown} במדויק וגם יודעים בדיוק איך הגרפים הקיצוניים (בעלי המספר המקסימלי של קשתות ש<strong>אינם</strong> מכילים את {::nomarkdown}\( K_{t}\){:/nomarkdown}) נראים.

בואו נתחיל עם מקרה פרטי שהיה ידוע בימיו של טורן - {::nomarkdown}\( K_{3}\){:/nomarkdown}, משולש. השאלה הראשונה, שעליה אתם יכולים לחשוב בעצמכם, היא איך אפשר לבנות גרף "גדול" (כלומר, עם הרבה קשתות - {::nomarkdown}\( n\){:/nomarkdown} קבוע, זוכרים?) שעדיין לא יכיל משולש. אספיילר אותה כעת מייד אז מי שרוצה לחשוב בעצמו, שיפסיק לקרוא.

התעלול הוא להשתמש במה שנקרא "גרף דו צדדי". גרף דו צדדי הוא כזה שניתן לחלק את צמתיו לשתי קבוצות - הטובים והרעים - כך שכל צומת שייך לאחת מהקבוצות, וכל קשת בהכרח מחברת בין טוב ורע; אין קשת בין שני טובים, או קשת בין שני רעים. בגרף כזה לא יכול להיות משולש, כי בקבוצה של שלושה קודקודים יש שני טובים (שאינם מחוברים בקשת) או שני רעים (שאינם מחוברים בקשת). מצד שני, בגלל שאנחנו יודעים שבגרף דו צדדי מובטח לנו שלא יהיה משולש אנחנו יכולים להתפרע ולהוסיף כמה קשתות שבא לנו כל עוד הן לא מחברות שני טובים או שני רעים. באופן כללי אם יש {::nomarkdown}\( a\){:/nomarkdown} טובים ו-{::nomarkdown}\( b\){:/nomarkdown} רעים וכל טוב מחובר לרע בקשת יהיו לנו {::nomarkdown}\( ab\){:/nomarkdown} קשתות בגרף. מכיוון ש-{::nomarkdown}\( n=a+b\){:/nomarkdown}, זה אומר שיהיו לנו {::nomarkdown}\( a\left(n-a\right)=na-a^{2}\){:/nomarkdown} קשתות בגרף, והשאלה היא איזה ערך של {::nomarkdown}\( a\){:/nomarkdown} ייתן לנו את המקסימום. <a href="http://www.gadial.net/?p=973">קצת חשבון דיפרנציאלי</a> (אני לא אומר שאין דרכים אחרות, ועוד נראה כאלו) נותן בקלות את התשובה הלא מפתיעה - {::nomarkdown}\( a=\frac{n}{2}\){:/nomarkdown} (אם {::nomarkdown}\( n\){:/nomarkdown} אי זוגי מעגלים כלפי מטה או מעלה, זה לא משנה). כלומר המספר המקסימלי של קשתות מתקבל כאשר מחלקים את הגרף לשתי קבוצות שוות של צמתים, ואז יהיו {::nomarkdown}\( \frac{n^{2}}{4}\){:/nomarkdown} קשתות. כלומר, {::nomarkdown}\( \mbox{ex}\left(n,K_{3}\right)=\frac{n^{2}}{4}\){:/nomarkdown}. כל זה היה ידוע בימיו של טורן; המשפט שלו הוא פשוט הכללה רדיקלית שנותנת את {::nomarkdown}\( \mbox{ex}\left(n,K_{t}\right)\){:/nomarkdown}לכל {::nomarkdown}\( t\){:/nomarkdown}.

כדי לפשט טיפה את הסימונים מכאן ואילך אניח שאנחנו מנסים למצוא את {::nomarkdown}\( \mbox{ex}\left(n,K_{t+1}\right)\){:/nomarkdown}; עוד שניה יהיה ברור לכולם למה עדיף לדבר על {::nomarkdown}\( t+1\){:/nomarkdown} כאן.

הצעד הראשון הוא לנסות ולבנות גרפים גדולים ככל האפשר שאינם מכילים קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown}. ממש מתבקש להכליל כאן את הרעיון שכבר הצגתי - במקום גרף דו-צדדי, לקחת גרף {::nomarkdown}\( t\){:/nomarkdown} צדדי, כלומר כזה שבו הצמתים מחולקים ל-{::nomarkdown}\( t\){:/nomarkdown} קבוצות ואין קשת בין שני חברי אותה קבוצה (אבל כל צומת מקבוצה מסויימת יכול להיות מחובר לכל צומת מכל קבוצה אחרת). ההוכחה שאין בגרף כזה קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown} זהה: אם יש {::nomarkdown}\( t+1\){:/nomarkdown} צמתים יש לפחות שני צמתים מאותה קבוצה (זהו עקרון שובך היונים בפעולה) ולכן זוג צמתים בלי קשת ביניהם).

כמקודם, די ברור שכדאי לבחור את כל הקבוצות מאותו הגודל בדיוק, ככל שזה אפשרי. למי שזה בכל זאת לא ברור לו, הנה הוכחה בנפנוף ידיים: אם בקבוצה של הטובים יש יותר צמתים מבקבוצה של הרעים, ו-{::nomarkdown}\( v\){:/nomarkdown} הוא צומת בקבוצה של הרעים, רק נאבד קשתות אם נעביר אותו לקבוצה של הטובים: מספר הקשתות שנאבד הוא כמספר הקשתות שבהן {::nomarkdown}\( v\){:/nomarkdown} חובר לטובים (עכשיו הוא לא יהיה מסוגל להיות מחובר אליהן), כלומר כמספר הטובים; ומספר הקשתות שנרוויח הוא כמספר הרעים <strong>פחות אחד</strong> כי הם איבדו את {::nomarkdown}\( v\){:/nomarkdown}. כלומר, הפסדנו יותר משהרווחנו. כעת, אם {::nomarkdown}\( v\){:/nomarkdown} שייך לטובים דווקא אז כשנעביר אותו נאבד קשתות כמספר הרעים, ונרוויח קשתות כמספר הטובים פחות אחד. במקרה הגרוע ביותר לא הרווחנו כלום (אם ההפרש בין הקבוצות הוא בדיוק אחד) ואחרת הרווחנו.

לצורך פשטות נניח מכאן ואילך ש-{::nomarkdown}\( t\){:/nomarkdown} מחלק את {::nomarkdown}\( n\){:/nomarkdown}, אחרת סתם הסימונים שלנו יהיו מסורבלים בהרבה. במקרה הזה, כל הקבוצות יהיו מאותו גודל - {::nomarkdown}\( \frac{n}{t}\){:/nomarkdown}. כמה קשתות יהיו? כמו שראינו קודם, בין כל שתי קבוצות של צמתים מחברות {::nomarkdown}\( \frac{n^{2}}{t^{2}}\){:/nomarkdown} קשתות; ויש לנו {::nomarkdown}\( {t \choose 2}=\frac{t\left(t-1\right)}{2}\){:/nomarkdown} זוגות (למי שלא מכיר את הסימון הזה - <a href="http://www.gadial.net/?p=543">נעים להכיר</a>). לכן יש בסך הכל {::nomarkdown}\( \frac{t\left(t-1\right)}{2}\cdot\frac{n^{2}}{t^{2}}=\frac{t-1}{t}\frac{n^{2}}{2}=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown} קשתות.

כעת אפשר לנסח את משפט טורן. פורמלית, הוא אומר ש-{::nomarkdown}\( \mbox{ex}\left(n,K_{t+1}\right)=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown}, אבל ניסוחים כאלו הם אחד מהדברים השנואים עלי במתמטיקה. לא כי הוא לא נכון או לא מדויק או כל דבר אחר, אלא כי אם זה מה שתראו למישהו מבחוץ הוא לא יבין את הקטע. אוקיי, אז יש לנו איזו נוסחה לא יפה במיוחד עבור {::nomarkdown}\( \mbox{ex}\left(n,K_{t+1}\right)\){:/nomarkdown}, אז מה? הפואנטה כאן לטעמי היא שמשפט טורן אומר שהגרפים האקסטרמליים במקרה הזה הם אכן הגרפים ה-{::nomarkdown}\( t\){:/nomarkdown} צדדיים שבנינו - דרך הרבה יותר ציורית ויפה להבין את המספר {::nomarkdown}\( \left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown} (כמובן, לערך המספרי יש חשיבות ביישומים של המשפט). כך זה תמיד במתמטיקה - המטרה היא לא איזו נוסחה סגורה מפוצצת, אלא ה<strong>הבנה של התופעה</strong> שמאחורי הנוסחה (הבנה שלא תהיה שלמה עד שההוכחות לא יסייעו לנו להבין <strong>למה</strong> הגרפים ה-{::nomarkdown}\( t\){:/nomarkdown} צדדיים הם אכן אקסטרמליים).

אני רוצה להציג שלוש הוכחות למשפט. הראשונה של טורן עצמו שהיא פשוטה ויפה וברורה. השניה של אלון וספנסר שהיא קסם וודו מוחלט, אבל ממחישה יפה את כוחה של השיטה ההסתברותית (שאלון וספנסר כתבו את הספר עליה, תרתי משמע). והשלישית היא אלמנטרית לחלוטין, מבהירה מיידית ובצורה מוחלטת למה הגרפים ה-{::nomarkdown}\( t\){:/nomarkdown} צדדיים הם האקסטרימליים, ולא ברור מי המציא אותה. כל ההוכחות מגיעות מהספר <a href="http://en.wikipedia.org/wiki/Proofs_from_THE_BOOK">Proofs from THE BOOK</a> שכולל גם שתי הוכחות שלא אראה כאן.

ראשית, ניסוח מדויק של המשפט שכוחו יפה גם ל-{::nomarkdown}\( n\){:/nomarkdown} שלא מתחלק על ידי {::nomarkdown}\( t\){:/nomarkdown}: אם {::nomarkdown}\( G\){:/nomarkdown} הוא גרף בעל {::nomarkdown}\( n\){:/nomarkdown} צמתים ואין בו קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown} (כאשר {::nomarkdown}\( t\ge2\){:/nomarkdown}), אז מספר הקשתות ב-{::nomarkdown}\( G\){:/nomarkdown} הוא לא יותר מ-{::nomarkdown}\( \left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown}.

נתחיל עם טורן. טורן מוכיח את המשפט באינדוקציה על {::nomarkdown}\( n\){:/nomarkdown}, כש-{::nomarkdown}\( t\){:/nomarkdown} קבוע. כל עוד {::nomarkdown}\( n\le t\){:/nomarkdown} אז לא משנה אילו קשתות יהיו בגרף, לא יוכל להיות בו קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown} כי אין מספיק צמתים; לכן צריך לוודא שמספר הקשתות הכולל בגרף לא יכול לעלות על החסם. מספר הקשתות המקסימלי האפשרי בגרף עם {::nomarkdown}\( n\){:/nomarkdown} צמתים הוא {::nomarkdown}\( \frac{n\left(n-1\right)}{2}\){:/nomarkdown}, ובעזרת אי השוויון {::nomarkdown}\( n\le t\){:/nomarkdown} מקבלים:

{::nomarkdown}\( \frac{n\left(n-1\right)}{2}\le\left(t-1\right)\frac{n}{2}\le\frac{t-1}{t}\cdot\frac{n^{2}}{2}=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown}

כך שעם זה סיימנו. החלק המעניין הוא לטפל במקרה שבו {::nomarkdown}\( n&gt;t\){:/nomarkdown}. מספיק להראות שבגרף עם מספר קשתות מקסימלי (ביחס לתכונה "לא מכיל את {::nomarkdown}\( K_{t+1}\){:/nomarkdown}) מתקיים החסם הנדרש, כי לכל גרף אחר אפשר להוסיף קשתות עד שמגיעים לגרף מקסימלי שכזה. גרף מקסימלי שכזה בהכרח יכיל את {::nomarkdown}\( K_{t}\){:/nomarkdown} (כי אם לא, הוא לא היה מקסימלי; הוספה של קשת לא הייתה יכול ליצור את {::nomarkdown}\( K_{t+1}\){:/nomarkdown} כי מ-{::nomarkdown}\( K_{t+1}\){:/nomarkdown} אפשר לקבל את {::nomarkdown}\( K_{t}\){:/nomarkdown} על ידי הסרה של קשת אחת וסילוק אחד הצמתים שמחוברים אליה). הרעיון הוא כעת לחלק את הגרף לשני חלקים: {::nomarkdown}\( A\){:/nomarkdown} תהיה קבוצת הצמתים של הקליק מגודל {::nomarkdown}\( t\){:/nomarkdown} הזה, ו-{::nomarkdown}\( B\){:/nomarkdown} תהיה קבוצת שאר הצמתים.

ב-{::nomarkdown}\( A\){:/nomarkdown} יש בדיוק {::nomarkdown}\( {t \choose 2}\){:/nomarkdown} קשתות שהרי בין כל זוג צמתים שם יש קשת. על {::nomarkdown}\( B\){:/nomarkdown} אנחנו יכולים להשתמש בהנחת האינדוקציה כי מספר הצמתים בה קטן מ-{::nomarkdown}\( n\){:/nomarkdown}, כך שאנחנו יודעים שיש בה לכל היותר {::nomarkdown}\( \left(1-\frac{1}{t}\right)\frac{\left(n-t\right)^{2}}{2}\){:/nomarkdown} קשתות. אילו עוד קשתות יכולות להתקיים בגרף? כאלו שמחברות את {::nomarkdown}\( A\){:/nomarkdown} עם {::nomarkdown}\( B\){:/nomarkdown}. כל צומת ב-{::nomarkdown}\( B\){:/nomarkdown} יכולה להתחבר כמעט לכל הצמתים של {::nomarkdown}\( A\){:/nomarkdown}, אבל רק כמעט; אם היא תתחבר לכל הצמתים של {::nomarkdown}\( A\){:/nomarkdown}, אז היא יחד עם {::nomarkdown}\( A\){:/nomarkdown} יהוו קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown}. לכן כל צומת מ-{::nomarkdown}\( B\){:/nomarkdown} מחוברת בקשת לכל היותר ל-{::nomarkdown}\( t-1\){:/nomarkdown} צמתים מ-{::nomarkdown}\( A\){:/nomarkdown}. אלו כל האבחנות שצריך, והיתר הוא חשבון מכולת. אנחנו מקבלים שמספר הקשתות הכולל בגרף חסום על ידי:

{::nomarkdown}\( {t \choose 2}+\left(1-\frac{1}{t}\right)\frac{\left(n-t\right)^{2}}{2}+\left(n-t\right)\left(t-1\right)\){:/nomarkdown}

אחרי סידור מחדש קטן מקבלים שזה שווה ל:

{::nomarkdown}\( \left(t-1\right)\left[\frac{t}{2}+\frac{\left(n-t\right)^{2}}{2t}+\left(n-t\right)\right]=\left(t-1\right)\left[\frac{t}{2}+\frac{\left(n-t\right)\left(n+t\right)}{2t}\right]\){:/nomarkdown}

{::nomarkdown}\( =\left(t-1\right)\left[\frac{t^{2}+n^{2}-t^{2}}{2t}\right]=\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown}

כמו קסם, קיבלנו לבסוף בדיוק את החסם שרצינו.

כמובן, אין כאן שום קסם אמיתי, זה היופי בהוכחה הזו - התוצאה חייבת להתקבל, אין מנוס מכך. יש לנו כאן דוגמה קלאסית להוכחה באינדוקציה: ראשית, טורן מזהה מרכיב כלשהו ש<strong>חייב</strong> להופיע בגרף אקסטרימלי כלשהו ({::nomarkdown}\( K_{t}\){:/nomarkdown}). האבחנה הזו היא המפתח לנצחון, ומאותו רגע ההמשך מתבקש: לפרק את הגרף, למתוח כמה קשתות שרק אפשר בין הרכיבים, ולהשתמש בהנחת האינדוקציה על מה שנשאר. בעצם טורן מראה כאן ש-{::nomarkdown}\( \mbox{ex}\left(n,K_{t+1}\right)\){:/nomarkdown} מקיים את נוסחת הנסיגה {::nomarkdown}\( \mbox{ex}\left(n,K_{t+1}\right)=\mbox{ex}\left(n-t,K_{t+1}\right)+{t \choose 2}+\left(n-t\right)\left(t-1\right)\){:/nomarkdown} עבור {::nomarkdown}\( n&gt;t\){:/nomarkdown}, רק שכאן אין לנו צורך לפתור את הנוסחה הזו כי כבר היה לנו ניחוש מוצלח לגבי הערך של {::nomarkdown}\( \mbox{ex}\left(n,K_{t+1}\right)\){:/nomarkdown} מלכתחילה (בסיטואציות קומבינטוריות אחרות לא יהיה לנו כזה ואז נוסחת נסיגה שכזו תעזור גם להבין מה בדיוק הערך שאנחנו מחפשים).

נעבור כעת להוכחה השניה, של אלון וספנסר. הם לוקחים גרף כלשהו {::nomarkdown}\( G\){:/nomarkdown} בעל {::nomarkdown}\( n\){:/nomarkdown} צמתים שמסומנים לצורך נוחות ב-{::nomarkdown}\( v_{1},\dots,v_{n}\){:/nomarkdown}, מסמנים ב-{::nomarkdown}\( d_{i}\){:/nomarkdown} את הדרגה של הצומת {::nomarkdown}\( v_{i}\){:/nomarkdown}, כלומר מספר הקשתות שמחוברות אליו. כעת, אם נסמן ב-{::nomarkdown}\( \omega\left(G\right)\){:/nomarkdown} את גודל הקליק הגדול ביותר ב-{::nomarkdown}\( G\){:/nomarkdown}, אלון וספנסר טוענים שמתקיים:

{::nomarkdown}\( \omega\left(G\right)\ge\sum_{i=1}^{n}\frac{1}{n-d_{i}}\){:/nomarkdown}

זו טענה דטרמיניסטית למהדרין, ומרגע שיש לנו אותה המשך ההוכחה נובע באופן טבעי. קודם נראה איך הטענה הזו מסיימת את ההוכחה, ואז נעבור להוכיח אותה עצמה - ההוכחה של הטענה תהיה מבוססת על השיטה ההסתברותית.

אז איך הטענה מסיימת את ההוכחה? כאן שולפים כלי מתמטי סטנדרטי מהשרוול - אי שוויון קושי-שוורץ. לאי השוויון הזה מספר ניסוחים ואבחר את הניסוח הפשוט יחסית שרלוונטי עבורנו: אם {::nomarkdown}\( a_{1},\dots,a_{n}\){:/nomarkdown} ו-{::nomarkdown}\( b_{1},\dots,b_{n}\){:/nomarkdown} הן סדרות מספרים אז:

{::nomarkdown}\( \left(\sum_{i=1}^{n}a_{i}b_{i}\right)^{2}\le\left(\sum_{i=1}^{n}a_{i}^{2}\right)\left(\sum_{i=1}^{n}b_{i}^{2}\right)\){:/nomarkdown}

ובמילים: ריבוע סכום המכפלות של אברי הסדרות קטן או שווה למכפלת סכום הריבועים של אברי הסדרות. לטעמי זה עוד אחד מהמקרים שבהם הנוסחה הרבה יותר קלה לקריאה מהניסוח המילולי.

השימוש כאן בקושי-שוורץ הוא פשוט יחסית. נבחר {::nomarkdown}\( a_{i}=\sqrt{n-d_{i}}\){:/nomarkdown} ו-{::nomarkdown}\( b_{i}=\left(\sqrt{n-d_{i}}\right)^{-1}\){:/nomarkdown}, נציב בנוסחה ונקבל:

{::nomarkdown}\( n^{2}\le\left(\sum_{i=1}^{n}\left(n-d_{i}\right)\right)\left(\sum_{i=1}^{n}\frac{1}{n-d_{i}}\right)\le\omega\left(G\right)\sum_{i=1}^{n}\left(n-d_{i}\right)\){:/nomarkdown}

עכשיו יש לנו עוד שני תעלולים לשלוף מהשרוול: ראשית, אנחנו מניחים ש-{::nomarkdown}\( \omega\left(G\right)\le t\){:/nomarkdown} - זו ההנחה הבסיסית שלנו, לפיה הגרף לא מכיל את הקליק {::nomarkdown}\( K_{t+1}\){:/nomarkdown}. שנית, יש לנו דרך לקשר בין הדרגות של כל הצמתים בגרף ובין מספר הקשתות בו. אם מספר הקשתות הוא {::nomarkdown}\( e\){:/nomarkdown}, אז בכל גרף (סופי) שהוא מתקיים השוויון {::nomarkdown}\( 2e=\sum_{i=1}^{n}d_{i}\){:/nomarkdown}, שכן כל קשת בגרף תורמת 1 לדרגות של שני הצמתים שהיא מחוברת אליהם. מכל אלה אפשר להסיק כעת:

{::nomarkdown}\( n^{2}\le t\cdot\left(n^{2}-2e\right)\){:/nomarkdown}

וכל שנשאר הוא ללהטט קצת כדי לחלץ את {::nomarkdown}\( e\){:/nomarkdown}. פתיחת סוגריים, העברת אגפים, ונקבל:

{::nomarkdown}\( 2et\le n^{2}\left(t-1\right)\){:/nomarkdown}

חלוקה ונקבל:

{::nomarkdown}\( e\le\left(1-\frac{1}{t}\right)\frac{n^{2}}{2}\){:/nomarkdown}

בדיוק מה שרצינו.

בינתיים זה היה טכני ולא הכי מעניין, אני חייב להודות; לב ההוכחה הוא בטענה {::nomarkdown}\( \omega\left(G\right)\ge\sum_{i=1}^{n}\frac{1}{n-d_{i}}\){:/nomarkdown} וההוכחה ההסתברותית שלה שאציג כעת.

במבט ראשון לא ברור איך הסתברות יכולה להשתחל לכאן. הגרף {::nomarkdown}\( G\){:/nomarkdown} נתון וקבוע; מה בדיוק נגריל ואיך? הרעיון של אלון וספנסר הוא להגריל <strong>סדר</strong> על הצמתים - פורמלית, פרמוטציה {::nomarkdown}\( \pi\){:/nomarkdown} כלשהי שלהם, כשכל פרמוטציה נבחרת בהסתברות שווה, {::nomarkdown}\( \frac{1}{n!}\){:/nomarkdown}. נניח שהצמתים {::nomarkdown}\( v_{1},\dots,v_{n}\){:/nomarkdown} כבר מסודרים על פי הפרמוטציה הזו, ונגדיר קבוצת צמתים {::nomarkdown}\( C_{\pi}\){:/nomarkdown} שמכילה את כל הצמתים {::nomarkdown}\( v_{i}\){:/nomarkdown} שמחוברים בקשת לכל הצמתים שבאים לפניהם בפרמוטציה, כלומר לכל {::nomarkdown}\( v_{j}\){:/nomarkdown} כך ש-{::nomarkdown}\( j&lt;i\){:/nomarkdown}.

הנקודה המהותית כאן היא ש-{::nomarkdown}\( C_{\pi}\){:/nomarkdown} היא <strong>קליק</strong>. למה? ובכן, קחו ב-{::nomarkdown}\( C_{\pi}\){:/nomarkdown} את הצומת עם האינדקס המקסימלי; על פי הגדרה, הוא מחובר לכל הצמתים עם אינדקס קטן יותר ובפרט לכל צמתי {::nomarkdown}\( C_{\pi}\){:/nomarkdown}. כעת קחו את הצומת המקסימלי הבא בתור... הבנתם את הרעיון.

יפה, אז הצלחנו להגדיר איכשהו מרחב הסתברות שמערב קליקים. אנחנו מעוניינים בחסם כלשהו על גדלי הקליקים, אז נגדיר <strong>משתנה מקרי</strong> {::nomarkdown}\( X=\left\|C_{\pi}\right\|\){:/nomarkdown} - גודל {::nomarkdown}\( C_{\pi}\){:/nomarkdown}. בגלל האופן שבה {::nomarkdown}\( C_{\pi}\){:/nomarkdown} נבנתה, קל לפרק את {::nomarkdown}\( X\){:/nomarkdown} לסכום של אינדיקטורים (משתנים מקריים שמקבלים 0 או 1 בלבד): {::nomarkdown}\( X=\sum_{i=1}^{n}X_{i}\){:/nomarkdown} כאשר {::nomarkdown}\( X_{i}\){:/nomarkdown} מקבל 1 אם {::nomarkdown}\( v_{i}\){:/nomarkdown} מחובר בקשת לכל הצמתים שקדמו לו.

כעת השאלה הפשוטה היא - מה ההסתברות ש-{::nomarkdown}\( X_{i}=1\){:/nomarkdown}? מכיוון שכל הקשתות כבר נקבעו, זה תלוי בדרגה של {::nomarkdown}\( v_{i}\){:/nomarkdown}: אם {::nomarkdown}\( v_{i}\){:/nomarkdown} מחובר ל-{::nomarkdown}\( d_{i}\){:/nomarkdown} צמתים, ההסתברות לכך שכל הצמתים שיהיו לפני {::nomarkdown}\( v_{i}\){:/nomarkdown} בפרמוטציה יהיו מתוך {::nomarkdown}\( d_{i}\){:/nomarkdown} הצמתים שהוא מחובר אליהם היא בעצם ההסתברות שמבין כל {::nomarkdown}\( n-d_{i}\){:/nomarkdown} הצמתים שאינם מחוברים אל {::nomarkdown}\( v_{i}\){:/nomarkdown}, כולל {::nomarkdown}\( v_{i}\){:/nomarkdown} עצמו, יהיה זה {::nomarkdown}\( v_{i}\){:/nomarkdown} שמופיע ראשון. מכיוון שיש סימטריה בין כל {::nomarkdown}\( n-d_{i}\){:/nomarkdown} הצמתים הללו, ההסתברות לכך היא {::nomarkdown}\( \frac{1}{n-d_{i}}\){:/nomarkdown} (אתם מוזמנים לעשות חישוב פורמלי אם לא שוכנעתם).

זה מסיים את העניין אם זוכרים מה קורה בדרך כלל בשלב הזה בשיטה ההסתברותית. תוחלת של אינדיקטור היא ההסתברות שהוא יקבל 1, כלומר {::nomarkdown}\( \mbox{E}\left[X_{i}\right]=\frac{1}{n-d_{i}}\){:/nomarkdown}. לינאריות התוחלת נותנת לנו כעת

{::nomarkdown}\( \mbox{E}\left[X\right]=\mbox{E}\left[\sum_{i=1}^{n}X_{i}\right]=\sum_{i=1}^{n}\mbox{E}\left[X_{i}\right]=\sum_{i=1}^{n}\frac{1}{n-d_{i}}\){:/nomarkdown}

ואנחנו מסיימים כי במרחב ההסתברות שלנו חייב להיות איבר שנותן ל-{::nomarkdown}\( X\){:/nomarkdown} לפחות את ערך התוחלת שלו, כלומר קליק שגודלו לפחות {::nomarkdown}\( \sum_{i=1}^{n}\frac{1}{n-d_{i}}\){:/nomarkdown}.

שלא יהיה לכם ספק; אני לא מקבל שום אינטואיציה ל"מה הולך פה" מההוכחה הזו. היא פשוט מגניבה.

נעבור כעת להוכחה השלישית, שכנראה מבהירה הכי טוב "מה הולך פה". מה שההוכחה מראה הוא שהגרף האקסטרמלי חייב להיות גרף {::nomarkdown}\( k\){:/nomarkdown}-צדדי <strong>כלשהו</strong>. כבר הגענו קודם למסקנה שמבין הגרפים ה-{::nomarkdown}\( k\){:/nomarkdown} צדדיים, הכי טוב הוא גרף {::nomarkdown}\( t\){:/nomarkdown} צדדי שבו כל הצדדים כמעט מאותו גודל (הפרש 1 לכל היותר בין כל שני צדדים), כי אם זה לא כך ניתן להזיז צמתים ולהגדיל את מספר הקשתות (וגרף {::nomarkdown}\( t+1\){:/nomarkdown} צדדי כבר יכיל קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown}).

גרף {::nomarkdown}\( k\){:/nomarkdown}-צדדי כלשהו מאופיין בדרך כלל על ידי ההגדרה ה"גלובלית" שלפיה "יש חלוקה של צמתי הגרף ל-{::nomarkdown}\( k\){:/nomarkdown} קבוצות, כך ש...". אך למעשה, קיימת גם הגדרה "לוקלית" פשוטה במקרה שבו הגרף מכיל את כל הקשתות האפשריות: גרף הוא {::nomarkdown}\( k\){:/nomarkdown}-צדדי מלא, עבור {::nomarkdown}\( k\){:/nomarkdown} כלשהו, אם לכל זוג צמתים {::nomarkdown}\( u,v\){:/nomarkdown} שמחובר בקשת, וצומת נוסף {::nomarkdown}\( w\){:/nomarkdown}, {::nomarkdown}\( w\){:/nomarkdown} חייב להיות מחובר ל-{::nomarkdown}\( u\){:/nomarkdown} או ל-{::nomarkdown}\( v\){:/nomarkdown}.

הטענה בבירור מתקיימת בגרף {::nomarkdown}\( k\){:/nomarkdown} צדדי מלא - אם {::nomarkdown}\( u,v\){:/nomarkdown} מחוברים בקשת זה אומר שהם לא באותו צד, ולכן לא ייתכן ש-{::nomarkdown}\( w\){:/nomarkdown} יהיה גם בצד של {::nomarkdown}\( u\){:/nomarkdown} וגם בצד של {::nomarkdown}\( v\){:/nomarkdown} בו זמנית, ולכן הוא יהיה מחובר לאחד מהם (הרי הגרף מכיל כל קשת חוקית).

למה אם הטענה נכונה הגרף הוא {::nomarkdown}\( k\){:/nomarkdown} צדדי מלא? ובכן, למי שמכיר את המושג: כי היחס "{::nomarkdown}\( u,v\){:/nomarkdown} לא מחוברים בקשת" הוא יחס שקילות; ולמי שלא מכיר, אפשר לבנות את הצדדים כך - ניקח צומת תמים {::nomarkdown}\( u\){:/nomarkdown}, ונגדיר את "הצד של {::nomarkdown}\( u\){:/nomarkdown}" בתור אוסף כל הצמתים ש-{::nomarkdown}\( u\){:/nomarkdown} לא מחובר אליהם. לא ייתכן שבקבוצה הזו יהיו שני צמתים {::nomarkdown}\( v,w\){:/nomarkdown} שמחוברים בקשת (כי אז העובדה ש-{::nomarkdown}\( u\){:/nomarkdown} לא מחובר לאף אחד מהם סותרת את הטענה שלנו), לכן זה אכן צד חוקי של גרף {::nomarkdown}\( k\){:/nomarkdown} צדדי. בנוסף, אם ניקח צומת {::nomarkdown}\( v\){:/nomarkdown} כלשהו בצד הזה, הוא יהיה חייב להיות מחובר לכל צומת שאינה באותו צד איתו; כי אם יש צומת {::nomarkdown}\( w\){:/nomarkdown} שאינה באותו צד איתו אז על פי הגדרת הצד, {::nomarkdown}\( w\){:/nomarkdown} מחובר ל-{::nomarkdown}\( u\){:/nomarkdown}, ולא ייתכן ש-{::nomarkdown}\( v\){:/nomarkdown} לא יהיה מחובר לא ל-{::nomarkdown}\( u\){:/nomarkdown} ולא ל-{::nomarkdown}\( w\){:/nomarkdown}.

יפה, אז יש לנו אפיון לוקלי פשוט, וכל שצריך להראות הוא שהאפיון מתקיים בגרף האקסטרמלי. נניח בשלילה שהוא לא, אז יש לנו שלושה צמתים בגרף: {::nomarkdown}\( u,v,w\){:/nomarkdown}, כך ש-{::nomarkdown}\( u,v\){:/nomarkdown} מחוברים בקשת ואילו {::nomarkdown}\( w\){:/nomarkdown} לא מחובר לאף אחד מהם. הרעיון הוא לבנות עכשיו מהגרף הקיים גרף חדש שבו יש <strong>יותר</strong> קשתות ואותו מספר צמתים ועדיין אין בו את {::nomarkdown}\( K_{t+1}\){:/nomarkdown}, בסתירה לאקסטרימליות של הגרף שלנו.

איך עושים את זה? פשוט: מעיפים מהגרף את אחד מהצמתים {::nomarkdown}\( u,v,w\){:/nomarkdown} שיש לו מעט קשתות ושמים במקומו עותק של אחד מהצמתים האחרים. אם למשל מתקיים ש-{::nomarkdown}\( d\left(u\right)&gt;d\left(w\right)\){:/nomarkdown}, אז נעיף מהגרף את {::nomarkdown}\( w\){:/nomarkdown}; בכך איבדנו {::nomarkdown}\( d\left(w\right)\){:/nomarkdown} קשתות. כפיצוי, נוסף לגרף צומת {::nomarkdown}\( u^{\prime}\){:/nomarkdown} שמחובר בדיוק לאותם צמתים ש-{::nomarkdown}\( u\){:/nomarkdown} מחובר אליהם; זה ייתן לנו עוד {::nomarkdown}\( d\left(u\right)\){:/nomarkdown} קשתות, כלומר הרווחנו. לא קשה לראות שהוספת {::nomarkdown}\( u^{\prime}\){:/nomarkdown} לגרף לא יכולה ליצור קליק מגודל {::nomarkdown}\( t+1\){:/nomarkdown}: אם יש קליק כזה, אז היה קליק כזה גם בגרף המקורי, רק עם {::nomarkdown}\( u\){:/nomarkdown} במקום {::nomarkdown}\( u^{\prime}\){:/nomarkdown} (לא ייתכן שיש קליק שמערב הן את {::nomarkdown}\( u\){:/nomarkdown} והן את {::nomarkdown}\( u^{\prime}\){:/nomarkdown} יחד, שכן אין קשת ביניהם).

באופן דומה מטפלים במקרה שבו {::nomarkdown}\( d\left(v\right)&gt;d\left(w\right)\){:/nomarkdown}. המקרה היחיד שנותר לנו הוא זה שבו {::nomarkdown}\( d\left(w\right)\ge d\left(u\right),d\left(v\right)\){:/nomarkdown}. כאן נעיף מהגרף את {::nomarkdown}\( u,v\){:/nomarkdown} שניהם גם יחד ונשים שני עותקים של {::nomarkdown}\( w\){:/nomarkdown}; הסיבה שבגללה נרוויח כך קשת היא שכשמסירים את {::nomarkdown}\( u,v\){:/nomarkdown} לא מאבדים {::nomarkdown}\( d\left(u\right)+d\left(v\right)\){:/nomarkdown} קשתות אלא רק {::nomarkdown}\( d\left(u\right)+d\left(v\right)-1\){:/nomarkdown} קשתות, שכן הקשת המשותפת של {::nomarkdown}\( u,v\){:/nomarkdown} מוסרת רק פעם אחת. זה מסיים את ההוכחה הזו.

למשפט יש עוד מספר הוכחות, יפות לא פחות, אבל אני חושב שכבר הבאתי מספיק להפעם; אני מקווה שעכשיו ברור לכל הקוראים "מה הולך שם" וגם למה זה מעניין.
