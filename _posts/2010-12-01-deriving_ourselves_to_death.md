---
id: 876
title: "היה זה תענוג לגזור"
date: 2010-12-01 23:14:56
layout: post
categories: 
  - אנליזה מתמטית
tags: 
  - גם טכני זה כיף!
  - חשבון אינפיניטסימלי
  - טכני
  - מתמטיקה תיכונית
  - נגזרת
---
<a href="http://www.gadial.net/?p=856">באחד הפוסטים הקודמים</a> הצגתי את מושג הנגזרת, אך כל מה שעשיתי היה להציג את ההגדרה הפורמלית; אם כל מה שיש לנו הוא את ההגדרה הזו, אנחנו עדיין לא יכולים לעשות הרבה. בפוסט הזה אני רוצה להציג את הכלים והתוצאות הבסיסיות על חישוב פרקטי של נגזרות, כדי לשכנע אתכם בשני דברים: ראשית, שחישוב נגזרות הוא אכן פרקטי; ושנית, שהוא ממש <strong>כיף</strong>. אנחנו יוצאים להרפתקאה בג'ונגל כשאנחנו חמושים רק במספריים, ומסתבר שנוכל לפלס לעצמנו את דרך המלך באופן הזה.

אם כן, כזכור, הגדרתי נגזרת עבור פונקציות ממשיות, {::nomarkdown}\( f:\mathbb{R}\to\mathbb{R}\){:/nomarkdown}, באופן הבא: {::nomarkdown}\( f^{\prime}\left(x_{0}\right)=\lim_{h\to0}\frac{f\left(x_{0}+h\right)-f\left(x_{0}\right)}{h}\){:/nomarkdown}. הנגזרת הוגדרה באופן "נקודתי" - בהינתן נקודה {::nomarkdown}\( x_{0}\){:/nomarkdown} מצאנו את ערך הנגזרת של הפונקציה בנקודה הזו. עם זאת, מה שאנחנו באמת רוצים הוא נגזרת "גלובלית" - בהינתן נוסחה עבור הפונקציה {::nomarkdown}\( f\){:/nomarkdown}, להסיק ממנה נוסחה עבור הפונקציה {::nomarkdown}\( f^{\prime}\){:/nomarkdown}. זה מה שנעשה בפוסט הזה.

בואו נתחיל ישר מללכלך את הידיים עם פונקציה פשוטה לדוגמה: {::nomarkdown}\( f\left(x\right)=x^{n}\){:/nomarkdown}. כאן אפשר לחשב את הנגזרת לכל {::nomarkdown}\( x_{0}\){:/nomarkdown} ישירות מתוך הגדרת הנגזרת, תוך שימוש ב<strong><a href="http://www.gadial.net/?p=543">בינום של ניוטון</a>: </strong>{::nomarkdown}\( \left(x_{0}+h\right)^{n}=x_{0}^{n}+n\cdot x_{0}^{n-1}h+\sum_{i=2}^{n}{n \choose i}x_{0}^{n-i}h^{i}\){:/nomarkdown}. הסכום המפחיד באגף ימין אינו כל כך חשוב - כל מה שחשוב בו הוא שהוא <strong>מתחלק </strong>ב-{::nomarkdown}\( h^{2}\){:/nomarkdown}. מדוע? כי כעת, מהו {::nomarkdown}\( \frac{f\left(x_{0}+h\right)-f\left(x_{0}\right)}{h}\){:/nomarkdown}, לכל נקודה {::nomarkdown}\( x_{0}\){:/nomarkdown} שרק תרצו? ובכן, {::nomarkdown}\( f\left(x_{0}+h\right)=\left(x_{0}+h\right)^{n}\){:/nomarkdown} ואילו {::nomarkdown}\( f\left(x_{0}\right)=x_{0}^{n}\){:/nomarkdown} ולכן לאחר ביצוע החיסור של שניהם נקבל במונה {::nomarkdown}\( n\cdot x_{0}^{n-1}h+\sum_{i=2}^{n}{n \choose i}x_{0}^{n-i}h^{i}\){:/nomarkdown}. אחרי חלוקה ב-{::nomarkdown}\( h\){:/nomarkdown} נקבל {::nomarkdown}\( n\cdot x_{0}^{n-1}+\sum_{i=2}^{n}{n \choose i}x_{0}^{n-i}h^{i-1}\){:/nomarkdown} - ושימו לב, הסכום שבאגף ימין עדיין מתחלק ב-{::nomarkdown}\( h\){:/nomarkdown}, כלומר אפשר לחשוב עליו בתור "{::nomarkdown}\( h\){:/nomarkdown} כפול משהו". אבל עכשיו אנו משאיפים את {::nomarkdown}\( h\){:/nomarkdown} לאפס, וזה גורם לסכום להיעלם (כי הדבר היחיד בו שמשתנה הוא {::nomarkdown}\( h\){:/nomarkdown} השואפת לאפס). נשארנו עם {::nomarkdown}\( n\cdot x_{0}^{n-1}\){:/nomarkdown}. זה מוביל אותנו לנוסחה הכללית: אם {::nomarkdown}\( f\left(x\right)=x^{n}\){:/nomarkdown} אז {::nomarkdown}\( f^{\prime}\left(x\right)=nx^{n-1}\){:/nomarkdown}. בפרט שימו לב שהנגזרת של {::nomarkdown}\( f\left(x\right)=x\){:/nomarkdown} היא {::nomarkdown}\( f^{\prime}\left(x\right)=1\){:/nomarkdown} ושהנגזרת של פונקציה קבועה - {::nomarkdown}\( f\left(x\right)=c=c\cdot x^{0}\){:/nomarkdown} - היא {::nomarkdown}\( f^{\prime}\left(x\right)=0\){:/nomarkdown} (התוצאה הזו מתאימה לאינטואיציה שלנו - אם ערך הפונקציה קבוע אז הפונקציה מתארת "עמידה במקום", כך שהמהירות של הפונקציה היא אפס).

בפני עצמה התוצאה הזו אולי לא עד כדי כך מעניינת, אך בשילוב עם תכונה נוספת של הנגזרת, התוצאה הזו נותנת לנו את הנגזרת של <strong>כל הפולינומים</strong> (ש<a href="http://www.gadial.net/?p=775">כפי שהזכרתי כאן בעבר</a>, הן אולי הפונקציות המעניינות הבסיסיות ביותר). מהי התכונה? מה שמכונה <strong>הלינאריות</strong> של הנגזרת, וניתן לתאר בפשטות כך: אם {::nomarkdown}\( f,g\){:/nomarkdown} הן שתי פונקציות גזירות (כלומר, יש להן נגזרת בכל נקודה בתחום שמעניין אותנו), אז {::nomarkdown}\( \left(f+g\right)^{\prime}=f^{\prime}+g^{\prime}\){:/nomarkdown}. כמו כן, אם {::nomarkdown}\( c\){:/nomarkdown} הוא מספר ממשי קבוע, אז {::nomarkdown}\( \left(cf\right)^{\prime}=cf^{\prime}\){:/nomarkdown}. במילים: נגזרת של סכום היא סכום הנגזרות, ונגזרת של {::nomarkdown}\( f\){:/nomarkdown}-כפולה-בקבוע היא הנגזרת של {::nomarkdown}\( f\){:/nomarkdown} כשהיא (הנגזרת) מוכפלת באותו קבוע. מכאן מגיעים מיידית לנוסחה הבאה: {::nomarkdown}\( \left(\sum_{k=0}^{n}a_{k}x^{k}\right)^{\prime}=\sum_{k=1}^{n}k\cdot a_{k}x^{k-1}\){:/nomarkdown}. ההוכחה של תכונת הלינאריות היא עסק מיידי אם כבר יש לנו את התכונה הדומה עבור גבולות; מתקיים:

{::nomarkdown}\( \left(f+g\right)^{\prime}\left(x_{0}\right)=\lim_{h\to0}\frac{\left(f+g\right)\left(x_{0}+h\right)-\left(f+g\right)\left(x_{0}\right)}{h}=\lim_{h\to0}\frac{f\left(x_{0}+h\right)+g\left(x_{0}+h\right)-f\left(x_{0}\right)-g\left(x_{0}\right)}{h}\){:/nomarkdown}

{::nomarkdown}\( =\lim_{h\to0}\frac{f\left(x_{0}+h\right)-f\left(x_{0}\right)}{h}+\lim_{h\to0}\frac{g\left(x_{0}+h\right)-g\left(x_{0}\right)}{h}=f^{\prime}\left(x_{0}\right)+g^{\prime}\left(x_{0}\right)\){:/nomarkdown}

הוכחה דומה עובדת גם עבור כפל בקבוע. המעבר היחיד כאן שהוא מתוחכם הוא הפירוק של הגבול האחד לשני גבולות - זה דורש הצדקה לא טריוויאלית, אך גם לא קשה במיוחד.

המזל שלנו לא נגמר כאן. מסתבר שקל לחשב גם את הנגזרת של מכפלת פונקציות: {::nomarkdown}\( \left(fg\right)^{\prime}=f^{\prime}g+fg^{\prime}\){:/nomarkdown}. איך מגיעים לנוסחה הזו? שוב, על פי הגדרה:

{::nomarkdown}\( \left(fg\right)^{\prime}\left(x_{0}\right)=\lim_{h\to0}\frac{\left(fg\right)\left(x_{0}+h\right)-\left(fg\right)\left(x_{0}\right)}{h}=\lim_{h\to0}\frac{f\left(x_{0}+h\right)g\left(x_{0}+h\right)-f\left(x_{0}\right)g\left(x_{0}\right)}{h}\){:/nomarkdown}

כאן אנחנו לכאורה נתקעים כי לא ברור איך אפשר לפשט את הנוסחה עוד; אבל אז נחלץ לעזרתנו טריק שימושי מאוד במתמטיקה - לחבר ולהחסיר את אותו איבר. אם אנחנו רוצים להחסיר מ-{::nomarkdown}\( f\left(x_{0}+h\right)g\left(x_{0}+h\right)\){:/nomarkdown} איבר כך שנקבל בסופו של דבר משהו שנראה כמו הנגזרת של {::nomarkdown}\( f\){:/nomarkdown}, מה עלינו להחסיר? די בבירור זה חייב להיות {::nomarkdown}\( f\left(x_{0}\right)g\left(x_{0}+h\right)\){:/nomarkdown}, כי {::nomarkdown}\( f\left(x_{0}\right)\){:/nomarkdown} הוא הגורם שחסר לנו כדי לקבל משהו שנראה כמו נגזרת של {::nomarkdown}\( f\){:/nomarkdown}, ו-{::nomarkdown}\( g\left(x_{0}+h\right)\){:/nomarkdown} הוא הגורם המשותף שאנחנו רוצים להוציא כדי להישאר רק עם {::nomarkdown}\( f\){:/nomarkdown} בסוגריים.

בקיצור, אחרי חיסור וחיבור של האיבר הזה, אנו מקבלים את:

{::nomarkdown}\( \lim_{h\to0}\frac{f\left(x_{0}+h\right)g\left(x_{0}+h\right)-f\left(x_{0}\right)g\left(x_{0}+h\right)+f\left(x_{0}\right)g\left(x_{0}+h\right)-f\left(x_{0}\right)g\left(x_{0}\right)}{h}\){:/nomarkdown}

{::nomarkdown}\( =\lim_{h\to0}\frac{g\left(x_{0}+h\right)\left(f\left(x_{0}+h\right)-f\left(x_{0}\right)\right)+f\left(x_{0}\right)\left(g\left(x_{0}+h\right)-g\left(x_{0}\right)\right)}{h}\){:/nomarkdown}

ואת זה ניתן לפשט עוד קצת עם כללי הכפל והחיבור של גבולות. למשל, ברור ש-{::nomarkdown}\( \lim_{h\to0}\frac{f\left(x_{0}\right)\left(g\left(x_{0}+h\right)-g\left(x_{0}\right)\right)}{h}=f\left(x_{0}\right)g^{\prime}\left(x_{0}\right)\){:/nomarkdown}. הבעיה היא דווקא במחובר הראשון, שעבורו קל לראות ש-{::nomarkdown}\( \lim_{h\to0}\frac{g\left(x_{0}+h\right)\left(f\left(x_{0}+h\right)-f\left(x_{0}\right)\right)}{h}=f^{\prime}\left(x_{0}\right)\cdot\lim_{h\to0}g\left(x_{0}+h\right)\){:/nomarkdown}, אבל מהו {::nomarkdown}\( \lim_{h\to0}g\left(x_{0}+h\right)\){:/nomarkdown}? היינו רוצים להגיד שאפשר פשוט להציב {::nomarkdown}\( h=0\){:/nomarkdown} ולקבל {::nomarkdown}\( g\left(x_{0}\right)\){:/nomarkdown}, אבל זה נכון רק אם הפונקציה {::nomarkdown}\( g\){:/nomarkdown} <a href="http://www.gadial.net/?p=820">רציפה</a> ב-{::nomarkdown}\( x_{0}\){:/nomarkdown}...

ובכן, יש לנו מזל, כי משפט בסיסי בחדו"א הוא שכל פונקציה שגזירה בנקודה כלשהי גם רציפה בה. לא אוכיח אותו פורמלית אלא אתן אינטואיציה פשוטה: אם {::nomarkdown}\( \lim_{h\to0}g\left(x_{0}+h\right)\ne g\left(x_{0}\right)\){:/nomarkdown} אז {::nomarkdown}\( \lim_{h\to0}\left(g\left(x_{0}+h\right)-g\left(x_{0}\right)\right)\ne0\){:/nomarkdown}, אבל אז הגבול {::nomarkdown}\( \lim_{h\to0}\frac{g\left(x_{0}+h\right)-g\left(x_{0}\right)}{h}\){:/nomarkdown} אינו קיים בכלל שכן המונה שואף לקבוע, ואילו המכנה שואף לאפס, ולכן הגבול שואף לאינסוף (יותר גרוע אפילו - לאינסוף ולמינוס אינסוף, כתלות בשאלה אם {::nomarkdown}\( h\){:/nomarkdown} חיובי או שלילי). מכאן שכדי שהנגזרת תהיה קיימת הפונקציה חייבת להיות רציפה: הערך של {::nomarkdown}\( g\left(x_{0}+h\right)\){:/nomarkdown} מתקרב לערך של {::nomarkdown}\( g\left(x_{0}\right)\){:/nomarkdown}, וכל השאלה שעליה עונה הנגזרת היא <strong>כמה מהר</strong> ההתקרבות הזו מתבצעת.

סיכום ביניים: אם אנחנו יודעים את הנגזרות של {::nomarkdown}\( f\){:/nomarkdown} ושל {::nomarkdown}\( g\){:/nomarkdown} אנחנו יודעים גם את הנגזרות של {::nomarkdown}\( f+g\){:/nomarkdown} ושל {::nomarkdown}\( f\cdot g\){:/nomarkdown} (כפל בסקלר הוא מקרה פרטי של כפל בפונקציה - סקלר הוא פונקציה קבועה). זה כבר נותן לנו הרבה כוח, כי פונקציות רבות ניתנות לתיאור באמצעות חיבור וכפל (למעשה, אפשר למצוא את הנגזרת של {::nomarkdown}\( f\left(x\right)=x^{n}\){:/nomarkdown} גם בעזרת נוסחה זו בלבד, תוך ביצוע אינדוקציה והסתמכות על הידע שהנגזרת של {::nomarkdown}\( f\left(x\right)=x\){:/nomarkdown} היא {::nomarkdown}\( 1\){:/nomarkdown}, מה שקל מאוד להוכיח מההגדרה; אבל אני חושב שההוכחה הכללית נחמדה יותר ולכן הבאתי אותה). אלא שעדיין לא הצגתי את מה שנותן לנו את הכי הרבה כוח: יש נוסחה גם עבור נגזרת של <strong>הרכבה</strong> של פונקציות. וכאן אולי כדאי להסביר למה אני מתכוון.

בואו נסתכל שניה על הפונקציה {::nomarkdown}\( f\left(x\right)=x^{2}+3x\){:/nomarkdown}. וכעת בואו ונסתכל על הפונקציה {::nomarkdown}\( h\left(x\right)=\sin^{2}x+3\sin x\){:/nomarkdown}. אלו שתי פונקציות שונות, אבל מאוד דומות באופיין: נראה כאילו {::nomarkdown}\( h\left(x\right)\){:/nomarkdown} היא מה שמתקבל מ-{::nomarkdown}\( f\left(x\right)\){:/nomarkdown} אם במקום {::nomarkdown}\( x\){:/nomarkdown} "מציבים" את {::nomarkdown}\( \sin x\){:/nomarkdown}. אם כן, אפשר לסמן {::nomarkdown}\( h\left(x\right)=f\left(\sin x\right)\){:/nomarkdown}. בדרך קצת יותר מסודרת נוכל להגדיר פונקציה {::nomarkdown}\( g\left(x\right)=\sin x\){:/nomarkdown} ואז יש הגיון בסימון {::nomarkdown}\( h\left(x\right)=f\left(g\left(x\right)\right)\){:/nomarkdown}. לדבר הזה - {::nomarkdown}\( f\left(g\left(x\right)\right)\){:/nomarkdown} - קוראים <strong>הרכבה</strong> של {::nomarkdown}\( f\){:/nomarkdown} על {::nomarkdown}\( g\){:/nomarkdown} ומסמנים אותו ב-{::nomarkdown}\( f\circ g\){:/nomarkdown} לפעמים (ולפעמים ב-{::nomarkdown}\( g\circ f\){:/nomarkdown} כדי לבלבל סטודנטים, כתלות בהקשר ובספר הלימוד - זו הסיבה שבגללה אני נמנע משימוש בסימון הזה). הרכבה היא כלי רב עוצמה מאוד לבנייה של פונקציות מסובכות מתוך פונקציות פשוטות, והעובדה שיש לנו נוסחה פשוטה עבור נגזרת של הרכבת פונקציות היא לא פחות מנס. הנוסחה, שמכונה "כלל השרשרת", היא {::nomarkdown}\( \left[f\left(g\left(x\right)\right)\right]^{\prime}=f^{\prime}\left(g\left(x\right)\right)\cdot g^{\prime}\left(x\right)\){:/nomarkdown}. במילים - גוזרים את {::nomarkdown}\( f\){:/nomarkdown}, ממשיכים להציב בה את {::nomarkdown}\( g\left(x\right)\){:/nomarkdown} כמקודם, ובנוסף לכך כופלים את הכל בנגזרת של {::nomarkdown}\( g\left(x\right)\){:/nomarkdown} (זו <strong>אינה</strong> מכפלת הנגזרת של {::nomarkdown}\( f\){:/nomarkdown} בנגזרת של {::nomarkdown}\( g\){:/nomarkdown} מכיוון שאת {::nomarkdown}\( f^{\prime}\){:/nomarkdown} מחשבים בנקודה {::nomarkdown}\( g\left(x\right)\){:/nomarkdown} בעוד שאת {::nomarkdown}\( g^{\prime}\){:/nomarkdown} מחשבים בנקודה {::nomarkdown}\( x\){:/nomarkdown} - כלומר, הן לא מחושבות באותה הנקודה).

דוגמה פשוטה: אם {::nomarkdown}\( f\left(x\right)=x^{2}\){:/nomarkdown} ו-{::nomarkdown}\( g\left(x\right)=\left(x+1\right)\){:/nomarkdown} אז ההרכבה שלהן היא {::nomarkdown}\( \left(x+1\right)^{2}\){:/nomarkdown}. כעת, {::nomarkdown}\( f^{\prime}\left(x\right)=2x\){:/nomarkdown} ו-{::nomarkdown}\( g^{\prime}\left(x\right)=1\){:/nomarkdown} ולכן מכלל השרשרת עולה שהנגזרת של הפונקציה המורכבת היא {::nomarkdown}\( 2\left(x+1\right)\cdot1=2x+2\){:/nomarkdown}. אתם מוזמנים לפתוח את הסוגריים של {::nomarkdown}\( \left(x+1\right)^{2}\){:/nomarkdown} ולחשב את הנגזרת באופן ישיר אם לא השתכנעתם.

הייתי שמח להוכיח את כלל השרשרת כאן, אבל בניגוד להוכחות שכבר הראיתי, ההוכחה של כלל השרשרת דורשת יותר תחכום, בגלל כל מני בעיות עדינות שצצות בהוכחה נאיבית "ישר על פי ההגדרה" שלה. גם להיכנס לבעיות יקח אותנו רחוק מדי. זה לא שההוכחה עד כדי כך מסובכת - היא לא; אבל הפוסט הזה ארוך מספיק בלעדיה. אם כן, קחו בינתיים את כלל השרשרת כנתון.

אילו עוד פונקציות אנחנו מכירים? הזכרתי קצת פונקציות בשעתו - {::nomarkdown}\( \sin x,\cos x,\ln x,e^{x}\){:/nomarkdown}... לכולן קל למצוא נגזרת, אם כי בכל אחד מהמקרים ההוכחה דורשת כלים שמותאמים למקרה הספציפי שאותו תוקפים (כך למשל בשביל הפונקציות הטריגונומטריות צריך את הגבול {::nomarkdown}\( \lim_{h\to0}\frac{\sin h}{h}=1\){:/nomarkdown} שה<a href="http://www.gadial.net/?p=108">הוכחה שלו היא סיפור שלם</a>). מגלים, כי {::nomarkdown}\( \left(\sin x\right)^{\prime}=\cos x\){:/nomarkdown}, {::nomarkdown}\( \left(\cos x\right)^{\prime}=-\sin x\){:/nomarkdown}, {::nomarkdown}\( \left(\ln x\right)^{\prime}=\frac{1}{x}\){:/nomarkdown} ו-{::nomarkdown}\( \left(e^{x}\right)^{\prime}=e^{x}\){:/nomarkdown} (זוהי התכונה המיוחדת של פונקצית האקספוננט - נגזרתה שווה לעצמה).

מכאן אפשר לפתח עוד כמה דברים מעניינים. למשל, מהי הנגזרת של {::nomarkdown}\( a^{x}\){:/nomarkdown} כאשר {::nomarkdown}\( a\){:/nomarkdown} הוא מספר ממשי חיובי כלשהו, לאו דווקא {::nomarkdown}\( e\){:/nomarkdown}? ובכן, אפשר תמיד לכתוב {::nomarkdown}\( a=e^{\ln a}\){:/nomarkdown} (למה? תרגיל למי שדברים כאלו מעניינים אותו) ולכן {::nomarkdown}\( a^{x}=e^{x\cdot\ln a}\){:/nomarkdown}. קיבלנו כאן <strong>הרכבה</strong> של שתי פונקציות: {::nomarkdown}\( f\left(x\right)=e^{x}\){:/nomarkdown} ו-{::nomarkdown}\( g\left(x\right)=x\ln a\){:/nomarkdown}. הנגזרת של {::nomarkdown}\( g\left(x\right)\){:/nomarkdown} היא {::nomarkdown}\( \ln a\){:/nomarkdown} ולכן נקבל {::nomarkdown}\( \left(a^{x}\right)^{\prime}=\ln a\cdot e^{x\ln a}=a^{x}\ln a\){:/nomarkdown}. זו עוד דוגמה לכוח שאנו מקבלים מכלל השרשרת.

בואו נראה עוד דוגמה. עד כה הצלחתי לטפל בפונקציה {::nomarkdown}\( f\left(x\right)=x^{n}\){:/nomarkdown} רק במקרה שבו {::nomarkdown}\( n\){:/nomarkdown} היה מספר שלם אי שלילי. מה על מספרים שליליים? ובכן, ב-{::nomarkdown}\( n=-1\){:/nomarkdown}, כלומר בפונקציה {::nomarkdown}\( f\left(x\right)=\frac{1}{x}\){:/nomarkdown}, ניתן לטפל באופן ישיר על פי ההגדרה:

{::nomarkdown}\( \lim_{h\to0}\frac{\frac{1}{x_{0}+h}-\frac{1}{x_{0}}}{h}=\lim_{h\to0}\frac{\frac{x_{0}-x_{0}-h}{x_{0}\left(x_{0}+h\right)}}{h}=\lim_{h\to0}-\frac{1}{x_{0}^{2}+hx_{0}}=-\frac{1}{x_{0}^{2}}\){:/nomarkdown}

מקבלים, אם כן, ש-{::nomarkdown}\( \left(\frac{1}{x}\right)^{\prime}=-\frac{1}{x^{2}}\){:/nomarkdown}. כעת, כל מספר שלם שלילי אפשר לכתוב כ-{::nomarkdown}\( -n\){:/nomarkdown} כאשר {::nomarkdown}\( n\){:/nomarkdown} הוא שלם חיובי, ואם {::nomarkdown}\( h\left(x\right)=x^{-n}\){:/nomarkdown} אז אפשר גם לכתוב {::nomarkdown}\( h\left(x\right)=\left(x^{n}\right)^{-1}=\frac{1}{x^{n}}\){:/nomarkdown}. במילים אחרות, יש לנו כאן את ההרכבה של הפונקציה {::nomarkdown}\( g\left(x\right)=x^{n}\){:/nomarkdown} בתוך הפונקציה {::nomarkdown}\( f\left(x\right)=\frac{1}{x}\){:/nomarkdown}. כלל השרשרת יניב לנו כאן את התוצאה {::nomarkdown}\( h^{\prime}\left(x\right)=-\frac{1}{g^{2}\left(x\right)}\cdot g^{\prime}\left(x\right)=-\frac{nx^{n-1}}{x^{2n}}=-nx^{-\left(n+1\right)}\){:/nomarkdown}. במילים אחרות, הנוסחה {::nomarkdown}\( \left(x^{m}\right)^{\prime}=mx^{m-1}\){:/nomarkdown} עובדת גם כאשר {::nomarkdown}\( m\){:/nomarkdown} שלילי. בדרך גם ראינו מהי באופן כללי הנגזרת של פונקציה מהצורה {::nomarkdown}\( \frac{1}{g\left(x\right)}\){:/nomarkdown}: היא פשוט {::nomarkdown}\( -\frac{g^{\prime}\left(x\right)}{g^{2}\left(x\right)}\){:/nomarkdown}. בשילוב עם הנוסחה לנגזרת של מכפלת פונקציות, מקבלים את הנוסחה למנה של פונקציות: {::nomarkdown}\( \left(\frac{f}{g}\right)^{\prime}=\left(f\cdot\frac{1}{g}\right)^{\prime}=\frac{f^{\prime}}{g}-\frac{fg^{\prime}}{g^{2}}=\frac{f^{\prime}g-fg^{\prime}}{g^{2}}\){:/nomarkdown}. בפרט, שימו לב שמכיוון שאנו יודעים לגזור כל פולינום, כעת אנחנו יכולים לגזור גם כל <strong>פונקציה רציונלית</strong> (פונקציה שהיא מנת שני פולינומים).

טרם דיגדגנו אפילו את קצה הגבול של מה שעוד נוכל לסחוט מכלל השרשרת! בואו נעבור לדבר על {::nomarkdown}\( x^{n}\){:/nomarkdown} כאשר {::nomarkdown}\( n\){:/nomarkdown} יכול להיות גם שבר. בפרט, מהו {::nomarkdown}\( x^{\frac{1}{n}}\){:/nomarkdown}? לצורך כך אני שוב אוכיח תוצאה כללית יותר - נגזרת של פונקציה הופכית. אם {::nomarkdown}\( f\left(x\right)\){:/nomarkdown} היא פונקציה, אז אומרים ש-{::nomarkdown}\( g\left(x\right)\){:/nomarkdown} היא הפונקציה ההופכית שלה אם ההרכבה של שתיהן היא פונקצית הזהות, כלומר הפונקציה {::nomarkdown}\( h\left(x\right)=x\){:/nomarkdown}. למשל, אם {::nomarkdown}\( f\left(x\right)=x^{n}\){:/nomarkdown} אז {::nomarkdown}\( g\left(x\right)=x^{\frac{1}{n}}\){:/nomarkdown} היא ההופכית שלה. אם כן, נניח שאני יודע את הנגזרת של {::nomarkdown}\( f\left(x\right)\){:/nomarkdown} - מה הנגזרת של ההופכית שלה {::nomarkdown}\( g\left(x\right)\){:/nomarkdown}?

כאן נשתמש בכלל השרשרת ובכך שאנחנו יודעים שהנגזרת של {::nomarkdown}\( x\){:/nomarkdown} היא 1. מכיוון ש-{::nomarkdown}\( g\){:/nomarkdown} היא ההופכית של {::nomarkdown}\( f\){:/nomarkdown} אז {::nomarkdown}\( f\left(g\left(x\right)\right)=x\){:/nomarkdown}, ולכן על ידי גזירת שני האגפים נקבל {::nomarkdown}\( f^{\prime}\left(g\left(x\right)\right)g^{\prime}\left(x\right)=1\){:/nomarkdown}, כלומר {::nomarkdown}\( g^{\prime}\left(x\right)=\frac{1}{f^{\prime}\left(g\left(x\right)\right)}\){:/nomarkdown}. ובמילים: נגזרת הפונקציה ההופכית של {::nomarkdown}\( f\){:/nomarkdown} בנקודה {::nomarkdown}\( x\){:/nomarkdown} שווה לאחד חלקי הנגזרת של {::nomarkdown}\( f\){:/nomarkdown} בנקודה {::nomarkdown}\( g\left(x\right)\){:/nomarkdown}. שימו לב - צריך להציב את {::nomarkdown}\( g\){:/nomarkdown} בתוך הנגזרת של {::nomarkdown}\( f\){:/nomarkdown}!

זו הייתה נקודה שבלבלה אותי מאוד כשרק למדתי את הנושא לראשונה. ניקח לדוגמה את {::nomarkdown}\( g\left(x\right)=\sqrt{x}\){:/nomarkdown} שהיא ההופכית של {::nomarkdown}\( f\left(x\right)=x^{2}\){:/nomarkdown}. הנגזרת של {::nomarkdown}\( f\left(x\right)\){:/nomarkdown} היא {::nomarkdown}\( f^{\prime}\left(x\right)=2x\){:/nomarkdown}, ולכן התבלבלתי וחשבתי ש-{::nomarkdown}\( \left(\sqrt{x}\right)^{\prime}=\frac{1}{2x}\){:/nomarkdown}, אך זה לא נכון; מה ששכחתי לעשות הוא להציב את {::nomarkdown}\( g\left(x\right)\){:/nomarkdown} בתוך הנגזרת של {::nomarkdown}\( f\){:/nomarkdown}. אחרי שעושים זאת, מקבלים את הנוסחה הנכונה {::nomarkdown}\( \left(\sqrt{x}\right)^{\prime}=\frac{1}{2\sqrt{x}}\){:/nomarkdown}. ובאופן כללי מקבלים, בצורה לא מפתיעה, ש-{::nomarkdown}\( \left(x^{\frac{1}{n}}\right)^{\prime}=\frac{1}{n}x^{\frac{1}{n}-1}\){:/nomarkdown}. כלומר, הנוסחה {::nomarkdown}\( \left(x^{m}\right)^{\prime}=mx^{m-1}\){:/nomarkdown} נכונה לכל {::nomarkdown}\( m\){:/nomarkdown} רציונלי. למעשה, זה מסיים את העניין גם עבור כל חזקה {::nomarkdown}\( m\){:/nomarkdown} ממשית, שכן חזקה שכזו מוגדרת בתור גבול שמשתמש בחזקות רציונליות, ושיקולי רציפות מעבירים את נוסחת הנגזרת מהמקרה הרציונלי למקרה הממשי הכללי. אם זה נשמע כמו ג'יבריש, לא נורא; גם זה משהו שאני לא רוצה להיכנס אליו.

אם נקבל לרגע את ההנחה ש-{::nomarkdown}\( \ln x\){:/nomarkdown} היא פונקציה שהוגדרה מראש כך שנגזרתה תהיה {::nomarkdown}\( \frac{1}{x}\){:/nomarkdown} (זו, למעשה, ההגדרה המקובלת בספרות), ושאנו יודעים כי {::nomarkdown}\( e^{x}\){:/nomarkdown} היא ההופכית שלה, אז קל להסיק מהכלל של נגזרת הפונקציה ההופכית את התוצאה {::nomarkdown}\( \left(e^{x}\right)^{\prime}=e^{x}\){:/nomarkdown}: {::nomarkdown}\( \left(e^{x}\right)^{\prime}=\frac{1}{1/e^{x}}=e^{x}\){:/nomarkdown}. זה היה שימוש טיפשי למדי בכלל הנגזרת של ההופכית. בואו ניישם אותו למשהו קצת יותר רציני - הפונקציות ההופכיות לפונקציות הטריגונומטריות. מכיוון שהפונקציה ההופכית האהובה עלי בהקשר הזה היא {::nomarkdown}\( \mbox{atan\ensuremath{\left(x\right)}}\){:/nomarkdown}, ההופכית של {::nomarkdown}\( \tan\left(x\right)\){:/nomarkdown}, בואו נבין איך באמת מחשבים את הנגזרת של {::nomarkdown}\( \tan\left(x\right)\){:/nomarkdown} קודם - הרי אמרתי (ללא הוכחה) מה הנגזרות של סינוס וקוסינוס אבל לא שלו; זאת מכיוון ש-{::nomarkdown}\( \tan\left(x\right)=\frac{\sin x}{\cos x}\){:/nomarkdown} על פי הגדרתו.

אם כן, נגזור על פי כלל המנה שראינו קודם ונקבל {::nomarkdown}\( \tan^{\prime}\left(x\right)=\frac{\sin^{\prime}\left(x\right)\cos\left(x\right)-\sin\left(x\right)\cos^{\prime}\left(x\right)}{\cos^{2}\left(x\right)}=\frac{\cos^{2}x+\sin^{2}x}{\cos^{2}x}=\frac{1}{\cos^{2}x}\){:/nomarkdown}, כשהמעבר האחרון מתבסס על הזהות הטריגונומטרית היסודית {::nomarkdown}\( \sin^{2}x+\cos^{2}x=1\){:/nomarkdown} (זוהי אחת מאותן נוסחאות בודדות שבאמת <strong>כדאי לזכור בעל פה</strong>, אבל היא גם בעלת משמעות אינטואיטיבית פשוטה - על פי משפט פיתגורס, זהו המרחק מראשית הצירים של נקודה שנמצאת על מעגל היחידה, בזווית {::nomarkdown}\( x\){:/nomarkdown} עם ציר ה-{::nomarkdown}\( x\){:/nomarkdown}; ובוודאי שמרחק כל נקודה על מעגל היחידה מהראשית הוא 1...).

{::nomarkdown}\( \frac{1}{\cos^{2}x}\){:/nomarkdown} זה נחמד אבל קצת בעייתי כשבאים למצוא את הנגזרת של {::nomarkdown}\( \mbox{atan}\){:/nomarkdown}. לכן נחזור שניה אחורה בזמן לרגע שבו הייתה לנו הזהות {::nomarkdown}\( \frac{\cos^{2}x+\sin^{2}x}{\cos^{2}x}\){:/nomarkdown}: אפשר לפרק את הסכום לשניים ולקבל ש-{::nomarkdown}\( \tan^{\prime}\left(x\right)=1+\tan^{2}\left(x\right)\){:/nomarkdown}. אם כן:

{::nomarkdown}\( \mbox{atan}^{\prime}\left(x\right)=\frac{1}{\tan^{\prime}\left(\mbox{atan}\left(x\right)\right)}=\frac{1}{1+\tan^{2}\left(\mbox{atan}\left(x\right)\right)}=\frac{1}{1+x^{2}}\){:/nomarkdown}

כשהמעבר האחרון נובע מכך ש-{::nomarkdown}\( \mbox{atan}\){:/nomarkdown} היא ההופכית של {::nomarkdown}\( \tan\){:/nomarkdown}. שימו לב לתוצאה המעניינת כאן - {::nomarkdown}\( \frac{1}{1+x^{2}}\){:/nomarkdown} היא פונקציה שכלל לא מזכירה פונקציות טריגונומטריות, ואיכשהוא היא נבעה מתוכן. זה אומר שאם נלך "בכיוון ההפוך" (ואדבר על זה יותר בקרוב), הפונקציות הטריגונומטריות יצוצו לנו באופן טבעי גם אם אנחנו בכלל לא מתעסקים בגאומטריה.

אם כן, בואו נעשה סיכום ביניים קצר. אנחנו יודעים לגזור: את כל הפולינומים והפונקציות הרציונליות, את כל הפונקציות הטריגונומטריות וההופכיות שלהן, את כל הפונקציות המעריכיות והלוגריתמיות, וכל פונקציה שמתקבלת מהפונקציות הללו על ידי חיבור, כפל, הרכבה או הוצאת הופכי. יותר מכך: אנחנו יודעים לעשות את כל זה באופן <strong>אלגוריתמי</strong>: אין שום קושי מהותי בכתיבת תוכנית מחשב שבהניתן פונקציה, מסובכת ככל שתהיה, שנבנתה באמצעות הפונקציות הבסיסיות שהצגתי ואוסף פעולות הבניה שהצגתי, תחשב את הנגזרת שלה (ואכן, קיימות תוכנות רבות שעושות זאת). זו אולי הסיבה שבגללה כל כך אוהבים לתת מטלות גזירה מעיקות בבית הספר - זה אלגוריתמי ובית הספר עוסק בעיקר בשינון כמה אלגוריתמים טכניים לפתרון בעיות. בעולם האמיתי גזירות מסובכות זה משהו שעדיף להשאיר למחשב...

אם כן, בפעולת הגזירה אנחנו שולטים די טוב. זה מעביר אותנו באופן טבעי לשאלה הבאה - מה עם הפעולה <strong>ההפוכה מגזירה</strong>? כלומר, אם נותנים לנו פונקציה ואומרים לנו שהיא הנגזרת של משהו, האם אנו יכולים לגלות את המשהו? אקרא כאן למשהו "האנטי-נגזרת" של הפונקציה, אם כי יש לו שם מקובל יותר שאתאר בפוסט הבא (כרגע אני לא רוצה לקלקל את אלמנט ההפתעה עבור המעטים שיופתעו - ומי שלא יופתע כבר יודע מה השם הנכון ממילא). אל תתבלבלו בין זה ובין מציאת נגזרת של פונקציה הפוכה. אני מתכוון, למשל, לכך שהפונקציה {::nomarkdown}\( x^{3}\){:/nomarkdown} מתקבלת על ידי גזירה של... מפתה אולי לומר {::nomarkdown}\( x^{4}\){:/nomarkdown}, אבל הנגזרת של {::nomarkdown}\( x^{4}\){:/nomarkdown} היא {::nomarkdown}\( 4x^{3}\){:/nomarkdown}, כך ש-{::nomarkdown}\( x^{3}\){:/nomarkdown} מתקבלת מגזירה של {::nomarkdown}\( \frac{x^{4}}{4}\){:/nomarkdown}. כאן אנחנו כבר רואים שהעסק טיפה מלוכלך.

באופן כללי במתמטיקה אם פעולה היא קלה, אפילו אלגוריתמית, לביצוע בכיוון אחד זה לא אומר הרבה על הכיוון השני. דוגמה קלאסית היא פעולת הכפל: קל לחשב אלגוריתמית את {::nomarkdown}\( a\cdot b\){:/nomarkdown} אם יש לנו את {::nomarkdown}\( a,b\){:/nomarkdown}, אבל אם נותנים לנו את המכפלה בלבד - כמה עבודה תידרש לנו כדי לפרק אותה לגורמים? התשובה היא שכל כך הרבה עבודה, ששיטות ההצפנה הפופולריות ביותר כיום מתבססות על כך שמדובר על בעיה קשה. כל ענף הקריפטוגרפיה המודרנית, למעשה, מתבסס על קיום פונקציות "חד-כיווניות" - שקל לחשב, אבל קשה להפוך (בהערת אגב אעיר ש"קל" ו"קשה" בהקשר הזה הם מושגים שמוגדרים באופן מתמטי מדויק ומסויים שאולי לא תואם לחלוטין את האינטואיציה שלנו; ויותר מכך, שלא באמת הוכח קיום של פונקציות שכאלו, אלא רק יש לנו אוסף של "חשודות" כדוגמת הזוג כפל/פירוק לגורמים).

הפונקציה {::nomarkdown}\( \frac{1}{1+x^{2}}\){:/nomarkdown} היא מקרה בוחן לקושי של היפוך פעולת הגזירה. כדי לדעת מה ייתן אותה כנגזרת, צריך "להמציא" את הפונקציות הטריגונומטריות. אם כן, גם אם יש לנו פונקציה שנבנתה באופן "נחמד" מתוך פונקציות אלמנטריות זה כלל לא מבטיח שהאנטי-נגזרת שלה תורכב מפונקציות שכאלו בעצמה באופן נחמד. דוגמה קלאסית לכך היא הפונקציה החשובה עד למאוד שהיא האנטי-נגזרת של {::nomarkdown}\( e^{x^{2}}\){:/nomarkdown} (למעשה של פונקציה טיפה יותר מסובכת אך אין הבדל מהותי) - אפשר <strong>להוכיח</strong> כי את האנטי-נגזרת הזו פשוט לא ניתן לכתוב באמצעות הפונקציות האלמנטריות ופעולות החיבור-כפל-הרכבה. מכאן שברור שאין מה לדבר על <strong>נוסחה</strong> שבהינתן הרכבה של שתי פונקציות פשוטות, תיתן את האנטי-נגזרת של ההרכבה באמצעות האנטי-נגזרות של הפונקציות המורכבות. אפילו כלל דומה עבור כפל פונקציות אין ממש (יש <strong>משהו</strong> שאולי אתאר בהמשך; הוא אמנם מפשט את העניינים לפעמים אבל זו לא נוסחה פשוטה כמו שהייתה עבור הנגזרת). רק פעולות החיבור והכפל בסקלר מתנהגות יפה כמקודם.

העיסוק בשאלת "בהינתן נגזרת, מהי האנטי-נגזרת?" יתגלה כקשור באופן הדוק למושג האינטרל שהצגתי <a href="http://www.gadial.net/?p=871">בפוסט הקודם</a>. כדי לא לספיילר יותר, אעצור כאן ואחכה לפוסט הבא. אני מקווה שנהניתם מהטיול בג'ונגל הגזירות ושאתם מסכימים שהצלחנו לסלול בו, פחות או יותר, כביש נוח למדי (אם כי, כמובן, טרם נוסעים עליו רכבים - עוד לא ממש הבנו איך הנגזרות משפרות לנו את החיים).
