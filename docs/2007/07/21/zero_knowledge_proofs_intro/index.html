<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>מוכיחים את הלא נודע | לא מדויק</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="מוכיחים את הלא נודע" />
<meta name="author" content="gadial" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="להוציא שורש של מספר ממשי זה קל. אולי לאדם קצת קשה לחשב במדוייק את שורש 2, אבל מחשב מסוגל לעשות זאת בשניות. יש טכניקות רבות לצורך כך, והחביבה עלי היא שיטת ניוטון-רפסון. כל מחשבון כיס מסוגל להוציא שורשים והפעולה הזו נראית לנו טבעית כמו ארבע פעולות החשבון הבסיסיות." />
<meta property="og:description" content="להוציא שורש של מספר ממשי זה קל. אולי לאדם קצת קשה לחשב במדוייק את שורש 2, אבל מחשב מסוגל לעשות זאת בשניות. יש טכניקות רבות לצורך כך, והחביבה עלי היא שיטת ניוטון-רפסון. כל מחשבון כיס מסוגל להוציא שורשים והפעולה הזו נראית לנו טבעית כמו ארבע פעולות החשבון הבסיסיות." />
<link rel="canonical" href="http://localhost:4000/blog/2007/07/21/zero_knowledge_proofs_intro/" />
<meta property="og:url" content="http://localhost:4000/blog/2007/07/21/zero_knowledge_proofs_intro/" />
<meta property="og:site_name" content="לא מדויק" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2007-07-22T01:41:59+03:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","datePublished":"2007-07-22T01:41:59+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2007/07/21/zero_knowledge_proofs_intro/"},"url":"http://localhost:4000/blog/2007/07/21/zero_knowledge_proofs_intro/","author":{"@type":"Person","name":"gadial"},"description":"להוציא שורש של מספר ממשי זה קל. אולי לאדם קצת קשה לחשב במדוייק את שורש 2, אבל מחשב מסוגל לעשות זאת בשניות. יש טכניקות רבות לצורך כך, והחביבה עלי היא שיטת ניוטון-רפסון. כל מחשבון כיס מסוגל להוציא שורשים והפעולה הזו נראית לנו טבעית כמו ארבע פעולות החשבון הבסיסיות.","headline":"מוכיחים את הלא נודע","dateModified":"2007-07-22T01:41:59+03:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/blog/feed.xml" title="לא מדויק" /><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$latex','$'], ["\\(","\\)"] ],
        processEscapes: true
      },
       TeX: {extensions: ["AMSmath.js","AMSsymbols.js","https://www.gadial.net/wp-includes/js/xypic.js"]}
    });
  </script>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">לא מדויק</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">מוכיחים את הלא נודע</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2007-07-22T01:41:59+03:00" itemprop="datePublished">Jul 22, 2007
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">gadial</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>להוציא שורש של מספר ממשי זה קל. אולי לאדם קצת קשה לחשב במדוייק את שורש 2, אבל מחשב מסוגל לעשות זאת בשניות. יש טכניקות רבות לצורך כך, והחביבה עלי היא <a href="http://he.wikipedia.org/wiki/%D7%A9%D7%99%D7%98%D7%AA_%D7%A0%D7%99%D7%95%D7%98%D7%95%D7%9F-%D7%A8%D7%A4%D7%A1%D7%95%D7%9F">שיטת ניוטון-רפסון</a>. כל מחשבון כיס מסוגל להוציא שורשים והפעולה הזו נראית לנו טבעית כמו ארבע פעולות החשבון הבסיסיות.</p>

<p>ועם זאת, אם אנו משנים את מערכת המספרים שלנו ועוברים מהמספרים הממשיים ל<a href="http://he.wikipedia.org/wiki/%D7%97%D7%91%D7%95%D7%A8%D7%AA_%D7%90%D7%95%D7%99%D7%9C%D7%A8">אוסף השאריות מודולו n</a> כאשר n הוא מכפלה של שני מספרים ראשוניים גדולים (אנסה להציג את הכל בצורה פורמלית בהמשך) הבעיה של הוצאת שורש הופכת לקשה הרבה יותר. עם זאת, <strong>העלאה בריבוע</strong> __של מספר נותרת קלה מאוד לביצוע. כתוצאה מכך, יש לנו שתי פעולות שהאחת היא היפוכה של השניה, אבל בעוד כיוון אחד קל לביצוע השני קשה. זוהי “<a href="http://he.wikipedia.org/wiki/%D7%A4%D7%95%D7%A0%D7%A7%D7%A6%D7%99%D7%94_%D7%97%D7%93_%D7%9B%D7%99%D7%95%D7%95%D7%A0%D7%99%D7%AA">פונקציה חד כיוונית</a>”, והיא אחד מהמושגים הבסיסיים והחשובים של הקריפטוגרפיה המודרנית.</p>

<p>למה זה טוב? הדוגמה הקלאסית היא פרוטוקול הזדהות. נניח שאני רוצה להתחבר למחשב מרוחק כלשהו ולקבל את הרשאות הגישה שלי. מן הסתם יהיה צורך בססמא כלשהי, אחרת כל אחד יהיה מסוגל להתחבר תחת שמי. ססמא פותרת את הבעיה; היא “סוד” שידוע רק לי ולא לאף אחד אחר, ולכן וידוא שאני אכן יודע אותו הוא וידוא שאני מי שאני מתיימר להיות.</p>

<p>מה הבעיות בססמא פשוטה? ראשית, המחשב שאני מתחבר אליו צריך לזכור אותה, ולכן לכאורה ניתן יהיה באמצעות חיטוט בקבצים שלו לאתר את הססמא. בפועל זו אינה בעיה; מה שנשמר על המחשב אינו הססמא אלא תוצאה של הפעלת פונקציה חד-כיוונית עליה. עוד דרישה מפונקציה חד-כיוונית היא שכמעט ולא יהיו “התנגשויות” בפונקציה – שני ערכים שממופים לאותה תוצאה – ולכן קל לבדוק שהתקבלה הססמא הנכונה (מפעילים עליה את הפונקציה ומשווים את התוצאה למידע השמור) אבל קשה לשחזר את הססמא המקורית גם אם מגלים את המידע השמור. למשל, במקרה שלנו הססמא תוכל להיות מספר כלשהו מודולו n, ומה שיהיה שמור במחשב הוא ריבוע המספר מודולו n.</p>

<p>אבל הבעיה השניה והחמורה בהרבה היא השאלה מה יישלח למחשב המרוחק. אם נשלח את הססמא עצמה יהיה קל למחשב לודא את נכונותה (כאמור, על ידי העלאה בריבוע והשוואה למספר ששמור אצלו תחת שמנו), אבל אז אנחנו לוקחים את הסיכון שכל מי שמצותת לקו התקשורת בינינו לבין המחשב (וההנחה היא שתמיד יש אויב מרושע שכזה) יצליח לשמוע את הססמא, ומעתה והלאה יוכל להעמיד פנים שהוא זה אנחנו.</p>

<p>לכן אנחנו צריכים קסם כאן: להיות מסוגלים לשכנע את המחשב שאנחנו יודעים את הססמא, מבלי שנגיד לו אותה. יותר מכך – אנחנו צריכים לשכנע אותו שאנחנו יודעים את הססמא מבלי שהדבר יחשוף, ולו ברמז, מהי הססמא הזו. הקסם שמקיים את התכונה הזו נקרא “<a href="http://he.wikipedia.org/wiki/%D7%94%D7%95%D7%9B%D7%97%D7%94_%D7%91%D7%90%D7%A4%D7%A1_%D7%99%D7%93%D7%A2">הוכחה באפס ידע</a>”.</p>

<p>מושג אפס הידע הוא מבלבל למדי. הכוונה אינה שבפרוטוקול כלל לא יועבר מידע (אחרת בשביל מה יש פרוטוקול), אלא שלא יתווסף למוודא שום ידע חדש – כש”ידע” פירושו “דברים שהמוודא (המוגבל פולינומית) לא מסוגל גם ככה לחשב בעצמו”. כך למשל להוכיח למישהו ש-1+1=2 פשוט על ידי כתיבת ההוכחה זו “הוכחת אפס ידע” כי המוודא ממילא מסוגל להגיע להוכחה בעצמו בלי קושי רב.</p>

<p>מכיוון שאנו פסימיים, אנחנו לא חוששים רק מציתות לפרוטוקול, אלא גם מכך שהגורם העויין יצליח להתחזות למחשב שאליו אנו מתחברים, וכך יהפוך בעצמו ל”מוודא” בפרוטוקול שלנו. על כן, דרישת אפס הידע תובעת ש<strong>לא משנה מה יעשה המוודא</strong>, אנחנו כמוכיחים לא נוסיף לו ידע (בדומה לכך שדרישה סטנדרטית מפרוטוקול היא ש<strong>לא משנה מה יעשה המוכיח</strong>, המוודא לא ישתכנע בנכונות שקר אלא בהסתברות נמוכה מאוד).</p>

<p>את הדיון הפורמלי יותר בכל זה, כמו גם הצגת מערכת ההוכחה הספציפית שמתאימה לבעיית הוצאת השורש, אציג בפוסט הבא. בינתיים אציג שתי דוגמאות קלאסיות ואינטואיטיביות יחסית להוכחות אפס ידע: בעיית “איפה אפי” ובעיית ה-3-צביעה של גרף.</p>

<p>“איפה אפי” (“Where’s Waldo” באנגלית) הוא גיבורה של סדרת ספרים שכל אחד מהם מורכב מתמונות רבות עמוסות באנשים, שבכל אחת מהן יש לאתר את אפי בתוך הקהל. אני אישית מעדיף את “ספר עולמי” וספרי “1000 מילים ראשונות” שיצאו בהוצאת מסדה פרס וא. קלין (מה קרה לספרים? מה קרה להוצאות? מתי יוציאו עוד ספרים כאלו?) שגם בהם היה צריך לחפש מישהו – כלב במקרה של ספר עולמי, ברווז וצפרדע במקרה של 1000 מילים ראשונות.</p>

<p><a href="http://www.gadial.net/wp-content/uploads/2007/07/0906200977958waldo.jpeg"><img class="alignnone size-full wp-image-2283" title="0906200977958waldo" src="http://www.gadial.net/wp-content/uploads/2007/07/0906200977958waldo.jpeg" alt="" width="307" height="541" /></a></p>

<p>ובכן, נניח שיש לי תמונה של “איפה אפי”, גיליתי את אפי ואני רוצה להוכיח לכם שאני יודע איפה הוא – אבל מבלי שאגלה לכם איפה הוא מופיע בתמונה או אפילו אתן לכם רמז. בלתי אפשרי? מתברר שלא רק שאפשרי, גם קל למדי.</p>

<p>מה שעושים הוא כדלהלן: לוקחים דף נייר חלק וגדול מאוד (גדול בהרבה מהתמונה), חותכים במרכזו חור בגודל של אפי (כפי שאפי מופיע בתמונה המקורית). מבקשים מהמוודא להסתכל הצידה לרגע (אם הוא חושד שנחליף את התמונה באחת אחרת הוא מוזמן לבצע חיפוש גופני מלא עלינו), ואז שמים את הדף החלק על התמונה בצורה כזו שרק אפי מציץ מהחור שיצרנו. עכשיו קוראים למוודא.</p>

<p>מה המוודא רואה? רק נייר לבן שבמרכזו חור ובו אפי. כלומר, הוא מבין שהצלחנו למצוא את אפי בתמונה, אחרת לא היינו מצליחים להראות לו אותו דרך החור. עם זאת, אין לו מושג <strong>איפה</strong> בתמונה אפי נמצא, כי החלון לא מספק שום רמז כזה: רק אפי מופיע בו, ולא שום דבר מהסביבה שלו. בגלל שהנייר גדול בהרבה מהתמונה, גם אי אפשר לנחש באיזה איזור של התמונה אפי נמצא (מה היה קורה אם הנייר היה בדיוק בגודל התמונה?)</p>

<p>כמובן שיש שיטה אחרת להוכחה הזו והיא פשוט לגזור את אפי מהתמונה המקורית – אבל אנחנו מעדיפים שיטות פחות אלימות.</p>

<p>ומכאן – ל-3-צביעה של גרף. כבר הזכרתי את מושג הגרף בפוסט הקודם. <strong>צביעה</strong> של גרף היא פשוט צביעה של כל אחד מצמתי הגרף בצבע כלשהו, כשהאתגר הוא ששני צמתים שמחוברים בקשת לא יהיו צבועים באותו הצבע (אם זה לא מתקיים, הצביעה “אינה חוקית”). בעיית 3 הצביעה היא הבעיה הבאה: בהינתן גרף, יש לומר האם מספיקים 3 צבעים כדי לצבוע אותו צביעה חוקית, או לא (שאלה דומה, השאלה “האם בהינתן גרף שמייצג מפה תמיד מספיקים 4 צבעים כדי לצבוע אותו” הפכה למפורסמת מאוד, ואני מקווה לפרט עליה בעתיד).</p>

<p>מתברר שבעיית ה-3-צביעה הזו היא קשה למדי (קשה לבדוק את כל האפשרויות כי יש המון דרכים לצבוע גרף בשלושה צבעים – $latex 3^n$ כאשר $latex n$ הוא מספר הקודקודים – ולא מוכרת דרכים יעילות הרבה יותר לבדוק האם הגרף 3-צביע או לא) , ומצד שני היא גם חשובה למדי, כי פתרונה יגרור פתרון של המוני בעיות קשות דומות שניתנות ל”תרגום” אליה (היא מה שמכונה “בעיה NP-שלמה”). משמעות קיום הוכחת אפס ידע עבורה היא שקיימת הוכחה כזו עבור כל בעיה מהמחלקה NP שהזכרתי בפוסט הקודם (למעשה, יש הוכחת אפס ידע לכל בעיה שניתן להוכיח באמצעות הוכחה אינטראקטיבית מהסוג שראינו בפוסט הקודם, אך ההוכחה לכך מסובכת יותר).</p>

<p>ובכן, נניח שאני חכם והצלחתי לגלות 3-צביעה לגרף כלשהו. עכשיו אני רוצה להוכיח למוודא שהגרף אכן ניתן לצביעה בשלושה צבעים, אבל לא לגלות לו את הצביעה הזו או אפילו לתת לו רמז מה היא. איך אני עושה את זה?</p>

<p>הפרוטקול שלנו מורכב מסיבובים שבהם מתבצע בכל פעם אותו הדבר. בכל סיבוב לא נחשף למוודא שום מידע, ובכל זאת מובטח שאם הגרף 3-צביע, הוא לא ימצא רבב בהוכחה שלנו, ואם הגרף אינו 3-צביע, קיימת הסתברות חיובית וקבועה כלשהי שהוא יתפוס אותנו בקלקלתנו. כל סיבוב הולך כך:</p>

<p>ראשית, אנו בוחרים באופן אקראי פרמוטציה על הצבעים שלנו, וצובעים את הגרף בצורה דומה לצביעה המקורית שמצאנו, אך בהתאם לפרמוטציה. למשל, אם הפרמוטציה שלנו הייתה “ירוק עובר לאדום, אדום עובר לצהוב, צהוב עובר לירוק”, אז נצבע באדום כל צומת שבצביעה המקורית שלנו הייתה ירוקה, וכדומה (למה הצביעה עדיין חוקית?)</p>

<p>כעת נכסה את כל הקודקודים כך שלא ניתן יהיה לראות את צבעם, ונציג את הגרף המכוסה למוודא. המוודא יבחר באקראי שני צמתים שמחוברים בקשת. נסיר את הכיסוי משני הצמתים הללו. כעת קורה אחד משניים:</p>

<ol>
  <li>אם באמת הצביעה שלנו הייתה חוקית, הרי ששני הצמתים יהיו צבועים בצבעים שונים. בגלל שהגרלנו פרמוטציה על צבעי הצמתים, זה גם כל המידע שהמוודא יפיק – ששני הצמתים הללו צבועים בצבע שונה (וזה מידע שממילא יש לו כי כל שני צמתים המחוברים בקשת צריכים להיות צבועים בצבע שונה).</li>
  <li>אם הצביעה שלנו אינה חוקית, אז יש שני צמתים שמחוברים בקשת שצבועים באותו הצבע. אם המוודא יבחר אותם באקראי, הלך עלינו. הסיכוי שהמוודא יבחר אותם הוא $latex 1/k$, כאשר $latex k$ הוא מספר הקשתות.</li>
</ol>

<p>אם כן, התנאים מתקיימים. אמנם, נראה כי הסתברות של $latex 1/k$ לגלות שקר היא עלובה למדי – אבל כמקודם, אם חוזרים על הפרוטוקול מספיק פעמים (כש”מספיק” פירושו “ממש לא הרבה ביחס לזמן שיקח לנו לבדוק את כל הצביעות האפשריות בעצמנו”), ההסתברות לטעות היא אפסית.</p>

<p>מכיוון שאפס-הידע הוא העיקר בפרוטקול הזה (בלעדיו, הוכחה אינטראקטיבית ל-3-צביעה היא קלה; פשוט שולחים את הצביעה) אני רוצה להתעכב שוב על טענת ה”המוודא לא לומד כלום” ולהמחיש אותה. נניח שבסיבוב אחד של הפרוטוקול חשפנו את צומת א’ וצומת ב’, וראינו שא’ צבוע אדום וב’ צהוב. בסיבוב שלאחר מכן חשפנו את צומת א’ וצומת ג’, וראינו שוב – א’ צבוע אדום, ב’ צהוב. האם למדנו מכך משהו? בפרט, האם למדנו שב’ ו-ג’ צבועים באותו הצבע?</p>

<p><a href="http://www.gadial.net/wp-content/uploads/2007/07/3colzkp.png" title="3-צביעה - הוכחה באפס ידע"><img src="http://www.gadial.net/wp-content/uploads/2007/07/3colzkp.png" alt="3-צביעה - הוכחה באפס ידע" /></a></p>

<p>התשובה היא שממש לא. ייתכן שבסיבוב הראשון הפרמוטציה שהגריל המוכיח הייתה “אדום-&gt;אדום, צהוב-&gt;צהוב, ירוק-&gt;ירוק” ובשני הייתה “אדום-&gt;אדום, צהוב-&gt;ירוק, ירוק-&gt;צהוב” ואז ב’ צבוע במקור בצהוב, וג’ בירוק והם שונים; אבל ייתכן שבסיבוב השני הוגרלה אותה פרמוטציה כמו בראשון, ואז ב’ וג’ שניהם צבועים במקור בצהוב והם זהים. בקיצור – המוודא לא לומד כלום, כי כל האפשרויות לצביעה אפשריות – פרט לאפשרות של “שני צמתים מחוברים בקשת צבועים באותו הצבע” (שאלת אתגר: למה המוודא חייב לבחור רק צמתים מחוברים בקשת? מה יקרה אם הוא יוכל לבקש מהמוכיח לחשוף גם צמתים שאינם מחוברים בקשת?).</p>

<p>ייתכן שתתהו איך מתבצעת בפועל ההסתרה של צמתי הגרף וחשיפתם. בצורה ידנית די ברור איך עושים זאת, אבל זו הוכחה איטית ומסורבלת. באמצעות מחשב הרבה יותר קשה לוודא שהמוכיח לא מרמה – צריך לוודא שברגע שהוא מציג את הגרף המכוסה למוודא הוא “מתחייב” על הצביעה שמוסתרת בו, ולא שהוא צובע את שני הצמתים שנבחרו ברגע האחרון, אחרי שהמוודא כבר בחר אותם. יש שיטות קריפטוגרפיות לעשות זאת, אך לא אכנס אליהן כרגע.</p>

<p>לסיכום, אני רוצה להזכיר לשם מה התכנסנו כאן – הוכחות לא קונסטרוקטיביות. לדעתי, ההוכחה ל-3-צביעות הגרף היא אחת מההוכחות הלא קונסטרוקטיביות היפות ביותר שאני מכיר. כאן האובייקט הוא לא מסובך, לא דרושות אקסיומות בחירה שונות ומשונות כדי לקבל אותו, ואנחנו זוכים לראות חלקים ממנו שוב ושוב ושוב. יותר קרוב מזה לקונסטרוקטיביות אי אפשר – ועם זאת, עדיין אין לנו שום מושג מהו. אפס מוחלט.</p>

  </div>

  <hr />
  <p>
    נהניתם? התעניינתם? אם תרצו, אתם מוזמנים לתת טיפ:
  </p>
  <a href='https://ko-fi.com/H2H5XFBQ' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://az743702.vo.msecnd.net/cdn/kofi2.png?v=2' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a><a class="u-url" href="/blog/2007/07/21/zero_knowledge_proofs_intro/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">לא מדויק</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">לא מדויק</li><li><a class="u-email" href="mailto:gadial@gmail.com">gadial@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/gadial"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">gadial</span></a></li><li><a href="https://www.twitter.com/gadialeks"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">gadialeks</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
