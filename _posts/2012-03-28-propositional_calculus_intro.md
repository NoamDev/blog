---
id: 1545
title: "תחשיב הפסוקים"
date: 2012-03-28 21:59:09
layout: post
categories: 
  - לוגיקה
tags: 
  - תחשיב הפסוקים
---
כשמדברים על לוגיקה מתמטית, צריך להבין שיש כמה סוגים שונים של "לוגיקות". כל לוגיקה מנסה למדל בצורה מתמטית-פורמלית את האופן האינטואיטיבי שבו אנחנו מבינים, ובכן, לוגיקה. לוגיקות שונות נבדלות אלו מאלו בסוגי הסימנים שיש בהן וכוח ההבעה שלהן, והדרך הכי טובה להבין על מה אני מדבר היא כנראה לראות דוגמאות. אני מתכנן להציג שני סוגים ספציפיים של לוגיקה, שהם אלו שבדרך כלל מציגים במבוא לנושא הזה: תחשיב הפסוקים, ותחשיב היחסים. בעוד תחשיב היחסים היא לוגיקה עם כושר הבעה רחב למדי, ואפשר להשתמש בה כדי לדבר (בערך) על כל המתמטיקה, תחשיב הפסוקים מוגבל בהרבה. אז למה בכלל לדבר על תחשיב הפסוקים? ובכן, ראשית בגלל שהוא דוגמת צעצוע טובה - קל להגדיר אותו, קל להבין אותו וקל להוכיח עליו תוצאות חשובות; ושנית, בגלל שאחרי שמבינים את תחשיב הפסוקים, אפשר לחשוב על תחשיב היחסים כעל הרחבה (חזקה למדי) של תחשיב הפסוקים ובמקום ללמוד את תחשיב היחסים מאפס, לראות איך מושגים מתחשיב הפסוקים צריכים להשתנות.

בואו נתחיל עם אמירה של חזאים: "מחר ירד גשם או שמחר לא ירד גשם". זו אמירה מעצבנת, כי היא לא באמת אומרת לנו כלום, ועם זאת ברור לנו שהיא נכונה תמיד. לאמירות כאלו, שהן נכונות תמיד ולא משנה מה, קוראים <strong>טאוטולוגיות</strong> (יש למילה משמעות דומה בשפת היום יום ובספרות, אבל לא זהה; טאוטולוגיה "ספרותית" היא להגיד כמה פעמים את אותו הדבר, כמו למשל "החוק הראשון של מועדון הטאוטולוגיה הוא החוק הראשון של מועדון הטאוטולוגיה" של <a href="http://xkcd.com/703/">xkcd</a> - אמירה שהיא מטבעה גם טאוטולוגיה מתמטית). הבה ונתבונן בטאוטולוגיה מתחום הספורט דווקא: "או שננצח במשחק או שלא ננצח בו" הוא ביטוי שגור בקרב מאמנים מסויימים. ואילו המתמטיקאי יכול להגיד "או ש-{::nomarkdown}\( p\){:/nomarkdown} ראשוני, או ש-{::nomarkdown}\( p\){:/nomarkdown} איננו ראשוני". בכל המקרים הללו הטאוטולוגיה היא בעצם <strong>אותה</strong> הטאוטולוגיה: זו טענה מהצורה "או שמשהו, או שלא משהו", כש"משהו" יכול להיות כל מה שנרצה. למעשה, זה בכלל לא משנה מהו אותו ה"משהו" - הנכונות של הטאוטולוגיה נובעת מהמבנה של המשפט, ולא מהתוכן שאנחנו יוצקים בו. בכתיבה מתמטית פורמלית, המשפט הזה יכתב בתור {::nomarkdown}\( X\vee\neg X\){:/nomarkdown}: כאן {::nomarkdown}\( X\){:/nomarkdown} הוא <strong>משתנה</strong> שיכול לקבל ערך של "אמת" או "שקר", ו-{::nomarkdown}\( \vee\){:/nomarkdown} מייצג את "או", ו-{::nomarkdown}\( \neg\){:/nomarkdown} מייצג את "לא". קראו את הפסוק הזה בתור "איקס או לא איקס". הנה לנו דוגמה לפסוק בתחשיב הפסוקים.

הבה ונישאר בדוגמאות מתחום הספורט. "אם נבקיע יותר שערים מהקבוצה השניה, אז ננצח" הוא עוד פסוק לגיטימי: במתמטית כותבים אותו בתור {::nomarkdown}\( X\to Y\){:/nomarkdown}, כלומר "איקס גורר וואי". דוגמה אחרת לאותו פסוק אבל מתחום אחר היא אמרתו של פסקל כי "אם היה אפה של קליאופטרה קצר יותר ההיסטוריה היתה כולה אחרת". כאן {::nomarkdown}\( X\){:/nomarkdown} הוא "אפה של קליאופטרה היה קצר יותר" ו-{::nomarkdown}\( Y\){:/nomarkdown} הוא "ההיסטוריה היתה כולה אחרת". כעת, כשמדובר על המשפט של ה"אם נבקיע יותר שערים" ברור לנו שהוא נכון; אבל בקשר למשפט של פסקל לא ממש ברור אם הוא נכון. אנחנו נזקקים לידע <strong>חיצוני</strong> כלשהו כדי לדעת את זה - האם באמת לאף של קליאופטרה הייתה השפעה קריטית על מרקוס אנטוניוס? למעשה, אין לנו ממש דרך לדעת. מכאן כבר ברור לנו ש-{::nomarkdown}\( X\to Y\){:/nomarkdown} הוא כנראה לא טאוטולוגיה: קיימת האפשרות שהפסוק הזה יהיה נכון או לא נכון, בהתאם למשמעות של {::nomarkdown}\( X,Y\){:/nomarkdown}. זה קיים גם בדוגמת הכדורגל; אם חוקי הכדורגל היו שונים כך שמי שמבקיע יותר דווקא מפסיד, אז "אם נבקיע יותר שערים מהקבוצה השניה, אז ננצח" היה משפט שגוי. ברור לנו, אם כן, שהנכונות של {::nomarkdown}\( X\to Y\){:/nomarkdown} היא לא צורנית בלבד.

הפסוקים שתחשיב הפסוקים עוסק בהם הם בדיוק אמירות פשוטות מהצורה שהצגתי כאן - כאלו שמערבות "משהו"-ים שיכולים להיות נכונים או לא נכונים, ומחוברים זה לזה באמצעות <strong>קשרים לוגיים</strong> של "או" ({::nomarkdown}\( \vee\){:/nomarkdown}), "וגם" ({::nomarkdown}\( \wedge\){:/nomarkdown}), "אז" ({::nomarkdown}\( \to\){:/nomarkdown}) ו"לא" ({::nomarkdown}\( \neg\){:/nomarkdown}). פסוק בנוי בערך כמו ביטוי חשבוני עם נעלמים: בשביל להבין מי בא קודם משתמשים בסוגריים, כלומר {::nomarkdown}\( \left(X\to Y\right)\vee\left(Y\to Z\right)\){:/nomarkdown} הוא יצור שונה מ-{::nomarkdown}\( X\to\left(Y\vee\left(Y\to Z\right)\right)\){:/nomarkdown}.

כמו בביטוי חשבוני רגיל עם נעלמים, אפשר להציב ערכים בנעלמים; במקרה שלנו הערכים הם "אמת" או "שקר", {::nomarkdown}\( T\){:/nomarkdown} או {::nomarkdown}\( F\){:/nomarkdown}. מרגע שהצבנו ערכים במשתנים, אפשר לחשב את הערך של הפסוק - שוב, כמו שמחשבים את ערכו של ביטוי חשבוני. כך למשל {::nomarkdown}\( X\vee Y\){:/nomarkdown} מקבל ערך {::nomarkdown}\( T\){:/nomarkdown} אם לפחות אחד מהמשתנים קיבל ערך {::nomarkdown}\( T\){:/nomarkdown}; {::nomarkdown}\( X\wedge Y\){:/nomarkdown} מקבל {::nomarkdown}\( T\){:/nomarkdown} רק אם שניהם קיבלו {::nomarkdown}\( T\){:/nomarkdown}; ו-{::nomarkdown}\( X\to Y\){:/nomarkdown} מקבל {::nomarkdown}\( T\){:/nomarkdown} אלא אם {::nomarkdown}\( X\){:/nomarkdown} קיבל {::nomarkdown}\( T\){:/nomarkdown} ו-{::nomarkdown}\( Y\){:/nomarkdown} קיבל {::nomarkdown}\( F\){:/nomarkdown}. מכיוון שלכל משתנה יש רק שני ערכים אפשריים, אפשר להגדיר קשר בקלות פשוט על ידי כתיבת הערך שהוא מחזיר עבור כל זוג קלטים אפשרי - לדבר כזה קוראים <strong>טבלת האמת</strong> של הקשר. קצת קומבינטוריקה: אם יש לנו קשר שפועל על שני משתנים, אז יש לו {::nomarkdown}\( 2^{2}\){:/nomarkdown} קלטים אפשריים ({::nomarkdown}\( \left(F,F\right),\left(T,F\right),\left(F,T\right),\left(T,T\right)\){:/nomarkdown}) ולכן יש רק {::nomarkdown}\( 2^{\left(2^{2}\right)}=16\){:/nomarkdown} קשרים שונים שפועלים על שני משתנים (קשר מוגדר באופן מוחלט על ידי ערכי האמת שהוא מחזיר לכל קלט אפשרי; יש 4 קלטים אפשריים ולכל אחד בוחרים אחד משני פלטים אפשריים ולכן יש {::nomarkdown}\( 2^{4}\){:/nomarkdown} אפשרויות). זה לא כל כך הרבה; אפשר לשבת ולכתוב את כולם אם יש לכם מספיק זמן. הסיבה שבגללה מכל הקשרים הללו בחרנו לדבר דווקא על {::nomarkdown}\( \vee,\wedge,\to\){:/nomarkdown} היא לא מקרית; אלו כנראה הקשרים הכי נוחים להבנה והכי פשוטים לתיאור מילולי.

שאלה אחת שכדאי לטפל בה מראש היא - האם הקשרים הללו <strong>מגבילים</strong> את יכולת ההבעה שלנו? האם יש משפטים שלא ניתן למדל אם אין לנו אותם? למשל, משפט כמו "בגרף סופי וקשיר יש מעגל אוילרי אם ורק אם דרגת כל צומת זוגית" הוא בבסיסו טענת {::nomarkdown}\( A\leftrightarrow B\){:/nomarkdown}, שמקבלת ערך "אמת" כל עוד הערכים של {::nomarkdown}\( A,B\){:/nomarkdown} זהים ואחרת מקבלת "שקר"; אבל אפשר לבנות אותה גם באופן שונה מהקשרים שכבר יש לנו: {::nomarkdown}\( \left(A\to B\right)\wedge\left(B\to A\right)\){:/nomarkdown}. די קל לראות, על ידי בדיקה של כל המקרים, שגם זה פסוק שמקבל ערך "אמת" רק כאשר ערכי האמת של {::nomarkdown}\( A,B\){:/nomarkdown} שווים.

באופן כללי, בעזרת {::nomarkdown}\( \wedge,\vee,\neg\){:/nomarkdown} אפשר לכתוב פסוק עבור <strong>כל</strong> פונקציה {::nomarkdown}\( f:\left\{ F,T\right\} ^{n}\to\left\{ F,T\right\} \){:/nomarkdown}, לא משנה על כמה משתנים היא. זה כבר די קסם - בעזרת כמה קשרים פשוטים על שני משתנים, אפשר לכתוב ביטוי עבור כל פונקציה על משתנים לוגיים, לא משנה כמה מסובכת. נסו להשוות את זה לעובדה שבעזרת ארבע פעולות החשבון הבסיסיות ממש <strong>אי אפשר</strong> לכתוב את רוב הפונקציות האפשריות מהרציונליים לעצמם (למה? ובכן, למי שמכיר עוצמות - יש {::nomarkdown}\( 2^{\aleph_{0}}\){:/nomarkdown} פונקציות כאלו אבל רק {::nomarkdown}\( \aleph_{0}\){:/nomarkdown} נוסחאות שאפשר לכתוב עם פעולות החשבון, כל עוד דורשים שהן יהיו סופיות).

ובכן, איך הקסם עובד? אפשר לחשוב על {::nomarkdown}\( f\){:/nomarkdown} כעל אוסף של {::nomarkdown}\( n\){:/nomarkdown}-יות של ערכים לוגיים שבדיוק עליהם היא מקבלת ערך {::nomarkdown}\( T\){:/nomarkdown} (אם {::nomarkdown}\( f\){:/nomarkdown} מחזירה {::nomarkdown}\( F\){:/nomarkdown} לכל דבר, אז {::nomarkdown}\( X\wedge\neg X\){:/nomarkdown} הוא פסוק שמחשב אותה). בואו נניח ש-{::nomarkdown}\( \left(a_{1},\dots,a_{n}\right)\){:/nomarkdown} היא {::nomarkdown}\( n\){:/nomarkdown}-יה כזו של ערכים לוגיים (כלומר, {::nomarkdown}\( a_{i}\in\left\{ T,F\right\} \){:/nomarkdown}) ונגדיר פסוק {::nomarkdown}\( \left(l_{1}\wedge\dots\wedge l_{n}\right)\){:/nomarkdown} כך ש-{::nomarkdown}\( l_{i}=X_{i}\){:/nomarkdown} אם {::nomarkdown}\( a_{i}=T\){:/nomarkdown}, ו-{::nomarkdown}\( l_{i}=\neg X_{i}\){:/nomarkdown} אם {::nomarkdown}\( a_{i}=F\){:/nomarkdown}. קל לראות שהפסוק הזה מקבל ערך {::nomarkdown}\( T\){:/nomarkdown} אך ורק על ההשמה {::nomarkdown}\( \left(a_{1},\dots,a_{n}\right)\){:/nomarkdown} למשתנים {::nomarkdown}\( X_{1},\dots,X_{n}\){:/nomarkdown}; וכעת נוסחה עבור {::nomarkdown}\( f\){:/nomarkdown} נקבל על ידי ביצוע {::nomarkdown}\( \vee\){:/nomarkdown} לכל הפסוקים הללו. למשל, עבור {::nomarkdown}\( f\left(X_{1},X_{2},X_{3}\right)\){:/nomarkdown} שמחזירה {::nomarkdown}\( T\){:/nomarkdown} אם בדיוק שניים מתוך שלושת המשתנים קיבלו {::nomarkdown}\( T\){:/nomarkdown} נקבל את הנוסחה {::nomarkdown}\( \left(X_{1}\wedge X_{2}\wedge\neg X_{3}\right)\vee\left(X_{1}\wedge\neg X_{2}\wedge X_{3}\right)\vee\left(\neg X_{1}\wedge X_{2}\wedge X_{3}\right)\){:/nomarkdown}. נוסחה בצורה הזו ({::nomarkdown}\( \mbox{\vee}\){:/nomarkdown} של תת-פסוקים - "פסוקיות" - שכל אחד מהם הוא {::nomarkdown}\( \wedge\){:/nomarkdown} של משתנה או של {::nomarkdown}\( \neg\){:/nomarkdown} של משתנה) נקראת נוסחת DNF (מלשון Disjunctive normal form). מה שראינו הוא שלכל פונקציה לוגית יש DNF ולכן די בשלושת הקשרים שמשתתפים ב-DNF כדי לכתוב פסוק שמבטא כל פונקציה לוגית אפשרית. מכיוון שאפשר לקבל את {::nomarkdown}\( \vee\){:/nomarkdown} ואת {::nomarkdown}\( \wedge\){:/nomarkdown} באמצעות הקשרים {::nomarkdown}\( \neg\){:/nomarkdown} ו-{::nomarkdown}\( \to\){:/nomarkdown}, אפשר להסתפק רק בשני קשרים אלו כדי לקבל כל פונקציה (ולעתים קרובות זה מה שעושים בספרי לוגיקה, כי יותר קל להוכיח משפטים כשיש פחות קשרים שצריך לדבר עליהם). למעשה, יש גם קשרים לוגיים שאיתם לבד אפשר לכתוב כל נוסחה: הקשר הידוע ביותר הוא NAND, שמסומן ב-{::nomarkdown}\( \uparrow\){:/nomarkdown} ומוגדר בתור {::nomarkdown}\( \neg\left(X_{1}\wedge X_{2}\right)\){:/nomarkdown} (כלומר, מקבל {::nomarkdown}\( F\){:/nomarkdown} רק כאשר {::nomarkdown}\( X_{1}=X_{2}=T\){:/nomarkdown}). זה תרגיל נחמד להוכיח שאכן אפשר לקבל ממנו את {::nomarkdown}\( \neg\){:/nomarkdown} ואת (למשל) {::nomarkdown}\( \to\){:/nomarkdown} ולכן די להשתמש רק בו. אז למה לא עושים את זה בדרך כלל? כי עדיין יותר פשוט להבין נוסחאות שכתובות עם {::nomarkdown}\( \to,\neg\){:/nomarkdown}.

אם כבר הצגתי את DNF, כדאי להציג גם צורה נורמלית נוספת של פסוקים שדואלית לה - CNF (Conjunctive normal form). זו נוסחה שמורכבת מ-{::nomarkdown}\( \wedge\){:/nomarkdown} של פסוקיות שכל אחת מהן כוללת {::nomarkdown}\( \vee\){:/nomarkdown} של משתנים ושלילות של משתנים ("משתנה או שלילה של משתנה" נקרא בדרך כלל "ליטרל" כדי לפשט עניינים). לכל טבלת אמת קיים פסוק בצורת CNF שמממש אותה; אבל זה כבר לא מובן מאליו כמו DNF. נסו שניה לחשוב למה ותראו שזה בעייתי. הפתרון הוא תעלול קטן ונחמד: אם אנחנו רוצים לבנות פסוק עבור טבלת אמת כלשהי, נתחיל מפסוק {::nomarkdown}\( \varphi\){:/nomarkdown} בצורת DNF עבור טבלת האמת <strong>ההפוכה</strong>; עכשיו פסוק ה-CNF המתאים יהיה מה שמתקבל מ-{::nomarkdown}\( \neg\varphi\){:/nomarkdown} כשמפעילים עליו את כללי דה מורגן, שאציג כרגע.

יש שני כללי דה-מורגן: האחד הוא ש-{::nomarkdown}\( \neg\left(X\vee Y\right)=\neg X\wedge\neg Y\){:/nomarkdown} והשני הוא ש-{::nomarkdown}\( \neg\left(X\wedge Y\right)=\neg X\vee\neg Y\){:/nomarkdown} (כאן שוויון פירושו שקילות). למה זה נכון? ובכן, אפשר לבדוק את הנוסחאות הללו באופן ישיר על ידי הצבה של כל הערכים האפשריים ב-{::nomarkdown}\( X,Y\){:/nomarkdown}, ואפשר גם לחשוב בהגיון שניה - להגיד "זה לא נכון שמתמטיקה היא גם משעממת וגם פדנטית" זה כמו להגיד "או שהמתמטיקה לא משעממת או שהמתמטיקה לא פדנטית. אולי שניהם".

פסוק DNF נראה כך: {::nomarkdown}\( C_{1}\vee C_{2}\vee\dots\vee C_{n}\){:/nomarkdown} כשכל {::nomarkdown}\( C_{i}\){:/nomarkdown} הוא מהצורה {::nomarkdown}\( \left(l_{1}\wedge l_{2}\wedge\dots\wedge l_{k}\right)\){:/nomarkdown}. אחרי שנפעיל {::nomarkdown}\( \neg\){:/nomarkdown} עליו נקבל {::nomarkdown}\( \neg C_{1}\wedge\dots\wedge\neg C_{n}\){:/nomarkdown}, ואחרי שנכניס את ה-{::nomarkdown}\( \neg\){:/nomarkdown} לתוך כל אחד מהסוגריים נקבל בהם {::nomarkdown}\( \left(\neg l_{1}\vee\dots\vee\neg l_{k}\right)\){:/nomarkdown}. ייתכן שנקבל כך דברים כמו {::nomarkdown}\( \neg\neg X\){:/nomarkdown} שאותם אפשר כמובן להחליף ב-{::nomarkdown}\( X\){:/nomarkdown}; סוף הסיפור. אם כן, כלל האצבע פשוט: רוצים CNF? קודם תמצאו DNF של ההפך, ואז תהפכו.

זה מסיים את הדיון בתחביר - באופן שבו ניתן לבנות סדרות של סימנים שתהיה להן משמעות עבורנו; בפרט, שה<strong>מבנה</strong> שלהן יהיה ברור לנו באופן חד משמעי. לנוסחאות כאלו קוראים Well-formed formulas, או WFF-ים; אני אקרא להן פשוט "פסוקים" או "נוסחאות" ואתייחס לסדרות אחרות של סימנים כאל ג'יבריש חסר חשיבות. נקודה חשובה אחת שקודם רפרפתי מעליה היא שבהינתן נוסחה, יש לה "קריאה יחידה" - דרך אחת בלבד לתאר אותה בתור עץ שבו העלים הם משתנים והצמתים הם הפעולות הלוגיות - כמו בביטוי חשבוני רגיל, שגם לו יש קריאה יחידה אם שמים סוגריים בצורה נבונה. די הופתעתי לגלות שיש ספרי לוגיקה רציניים (מנדלסון...) שפשוט מתעלמים מהעניין הזה לחלוטין. לתשומת לב כל מי שטוען שלוגיקאים הם פדנטיים.
