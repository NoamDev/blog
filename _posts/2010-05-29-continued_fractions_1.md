---
id: 514
title: "שברים משולבים, ולמה הם מגניבים"
date: 2010-05-29 16:31:47
layout: post
categories: 
  - תורת המספרים
tags: 
  - האלגוריתם האוקלידי
  - שברים משולבים
---
אוהבים לטעון שהמתמטיקה היא כל כולה ערב רב של נוסחאות מפחידות בעלות משמעות לא ברורה. אני חושב שזה מאוד לא מדויק, אבל מדי פעם אכן מתפלקת לה איזו נוסחה שנראית מפחיד גם למי שכבר יש לו נסיון בסיסי כלשהו במתמטיקה. מה שהפחיד אותי בשעתו היו <a href="http://he.wikipedia.org/wiki/%D7%A9%D7%91%D7%A8_%D7%9E%D7%A9%D7%95%D7%9C%D7%91">השברים המשולבים</a> - שברים מהצורה החביבה {::nomarkdown}\( \frac{1}{1+\frac{1}{3+\frac{1}{1+\frac{1}{4}}}}\){:/nomarkdown}. כשרואים דבר כזה, התגובה המיידית של אדם שפוי צריכה להיות "מה, לעזאזל...". בפוסט הזה אני רוצה להסביר מה, לעזאזל. מכיוון שאני חושב שבנושא הזה הדרך הטובה ביותר לדעת מה לעזאזל היא ללכלך את הידיים, חלקו השני של הפוסט יהיה יותר "חישובי" מהרגיל - אך חישובים שלדעתי הם יפים ומעניינים (ובלי לעשות אותם "בידיים"קצת קשה לראות את זה, לדעתי).

בראש ובראשונה, הדבר הזה הוא בסך הכל שבר רגיל. תלמיד כיתה ה' אמור כבר להיות מסוגל להבין מהו ולחשב את ערכו. במקרה של השבר שלעיל, למשל, פשוט צריך לעשות סדרה של חיבורים. {::nomarkdown}\( 1+\frac{1}{4}=\frac{5}{4}\){:/nomarkdown} ו-{::nomarkdown}\( \frac{1}{\frac{5}{4}}=\frac{4}{5}\){:/nomarkdown} כך שהשבר שווה ל-{::nomarkdown}\( \frac{1}{1+\frac{1}{3+\frac{4}{5}}}\){:/nomarkdown}; וכעת {::nomarkdown}\( 3+\frac{4}{5}=\frac{19}{5}\){:/nomarkdown} כך שנקבל שהשבר שווה ל-{::nomarkdown}\( \frac{1}{1+\frac{5}{19}}\){:/nomarkdown}; ולסיום נקבל שהוא שווה ל-{::nomarkdown}\( \frac{19}{24}\){:/nomarkdown}. מה שלא ברור הוא למה לבחור בדרך ייצוג כה מסורבלת ל-{::nomarkdown}\( \frac{19}{24}\){:/nomarkdown}, והתשובה הבסיסית היא - כי זו דרך הייצוג הטבעית והנכונה ביותר למספרים. לא מאמינים? חכו חכו.

ראשית בואו נוותר על הייצוג המסורבל והמזוויע טיפוגרפית. שבר משולב כללי הוא מהצורה {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}+\dots}}\){:/nomarkdown} (כמובן שאפשר להגדיר שברים משולבים בצורה כללית יותר כך שבמונים יהיו מספרים השונים מ-1, אך זה מסבך את האנליזה ואינו הכרחי כאן ולכן אשתמש בהגדרה המצומצמת) ואת אותו דבר אפשר לתאר בצורה ברורה בעזרת הסימון {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}\){:/nomarkdown}. למשל, השבר המשולב שלעיל מיוצג בידי {::nomarkdown}\( \frac{1}{1+}\frac{1}{3+}\frac{1}{1+}\frac{1}{4}\){:/nomarkdown}.

השאלה הראשונה שאני רוצה לעסוק בה היא זו - נניח שיש לנו מספר רציונלי, {::nomarkdown}\( \frac{a}{b}\){:/nomarkdown}; איך מציגים אותו כשבר משולב? למשל, {::nomarkdown}\( \frac{19}{24}\){:/nomarkdown}. מה עושים כדי לתת לו את הצורה ה"קנונית"? כדי לסבך עוד קצת את העניינים אעדיף לדבר על שבר שגדול מ-1, נניח {::nomarkdown}\( \frac{67}{24}\){:/nomarkdown}. את הייצור הזה אפשר לייצג כ-{::nomarkdown}\( 2+\frac{19}{24}\){:/nomarkdown}, כך ש-{::nomarkdown}\( a_{0}=2\){:/nomarkdown} במקרה שלנו. מה עכשיו? אנחנו רוצים להחליף את ה-{::nomarkdown}\( \frac{19}{24}\){:/nomarkdown} בגורם מהצורה אחד חלקי משהו, אז ראשית כל נכתוב {::nomarkdown}\( \frac{19}{24}=\frac{1}{\frac{24}{19}}\){:/nomarkdown}, וכעת במכנה יש לנו שוב שבר מדומה ואפשר לפרק אותו לחלק ממשי וחלק שברי: {::nomarkdown}\( \frac{1}{1+\frac{5}{19}}\){:/nomarkdown} (כלומר {::nomarkdown}\( a_{1}=1\){:/nomarkdown}). נחזור על התעלול שוב עבור {::nomarkdown}\( \frac{5}{19}\){:/nomarkdown} ונקבל {::nomarkdown}\( a_{2}=3\){:/nomarkdown} ו"שארית"של {::nomarkdown}\( \frac{4}{5}\){:/nomarkdown}; וכשנטפל ב-{::nomarkdown}\( \frac{5}{4}\){:/nomarkdown} נקבל {::nomarkdown}\( 1+\frac{1}{4}\){:/nomarkdown} והמשחק יסתיים. זה תהליך שיטתי ופשוט למדי, וייתכן שלחדי העין שבכם הוא הזכיר תהליך אחר במתמטיקה, שידוע עוד מימי היוונים הקדמונים - האלגוריתם האוקלידי.

בהינתן שני מספרים טבעיים {::nomarkdown}\( a,b\){:/nomarkdown}, האלגוריתם האוקלידי מוצא את המחלק המשותף המקסימלי שלהם: מספר טבעי {::nomarkdown}\( d\){:/nomarkdown} שמחלק הן את {::nomarkdown}\( a\){:/nomarkdown} והן את {::nomarkdown}\( b\){:/nomarkdown} והוא הגדול ביותר בעל תכונה זו. עבור {::nomarkdown}\( 67\){:/nomarkdown} ו-{::nomarkdown}\( 24\){:/nomarkdown} המחלק המקסימלי הזה הוא המספר הלא מרשים {::nomarkdown}\( 1\){:/nomarkdown} (במקרה כזה אומרים ש-67 ו-24 הם "זרים"), אבל מן הסתם יש דוגמאות מעניינות יותר - למשל המחלק המשותף המקסימלי של {::nomarkdown}\( 78\){:/nomarkdown} ו-{::nomarkdown}\( 42\){:/nomarkdown} הוא {::nomarkdown}\( 6\){:/nomarkdown}.

כדי למצוא מחלק מקסימלי אפשר לעשות דברים מטופשים כמו לעבור על כל המספרים הקטנים מ-{::nomarkdown}\( a\){:/nomarkdown} ו-{::nomarkdown}\( b\){:/nomarkdown} ולבדוק אם הם מחלקים אותם וכדומה, אבל מבחינה חישובית זו שיטה איטית ומייגעת. האלגוריתם האוקלידי, לעומת זאת, פועל מהר מאוד (פורמלית - זמן לוגריתמי בגודל המספרים המעורבים). למעשה, היעילות של האלגוריתם האוקלידי היא הבסיס לתורת המספרים האלגוריתמית; רבים מהחישובים שמתבצעים בתורה זו מסתמכים ברמה זו או אחרת על האלגוריתם האוקלידי (בפרט על גרסה מורחבת שלו, שמאפשרת למצוא {::nomarkdown}\( x,y\){:/nomarkdown} שלמים (לא בהכרח חיוביים) כך ש-{::nomarkdown}\( ax+by=d\){:/nomarkdown}, כש-{::nomarkdown}\( d\){:/nomarkdown} הוא המחלק המשותף המקסימלי) ואלמלא הוא היה יעיל, מספר הדברים שניתן לבצע ביעילות היה קטן משמעותית (בפרט, שימוש קריטי שלו הוא למציאת הופכי מודולו {::nomarkdown}\( n\){:/nomarkdown} של מספרים, מה שהוא הבסיס למימוש פעולות חשבון ב-{::nomarkdown}\( \mathbb{Z}_{n}^{*}\){:/nomarkdown} - אחרת, אין אפשרות לבצע חלוקה).

הרעיון שמאחורי האלגוריתם האוקלידי פשוט מאוד: בהינתן {::nomarkdown}\( a,b\){:/nomarkdown} (נניח ש-{::nomarkdown}\( a\){:/nomarkdown} גדול יותר מ-{::nomarkdown}\( b\){:/nomarkdown}) אפשר לחלק את {::nomarkdown}\( a\){:/nomarkdown} ב-{::nomarkdown}\( b\){:/nomarkdown} ולקבל שארית {::nomarkdown}\( r\){:/nomarkdown} (במילים אחרות, למצוא {::nomarkdown}\( q,r\){:/nomarkdown} כך ש-{::nomarkdown}\( a=qb+r\){:/nomarkdown} ו-{::nomarkdown}\( 0&lt;r&lt;b\){:/nomarkdown}). האבחנה המרכזית היא שהמחלק המשותף המקסימלי של {::nomarkdown}\( a,b\){:/nomarkdown} הוא גם המחלק המשותף המקסימלי של {::nomarkdown}\( b,r\){:/nomarkdown} (למה?) ולכן אפשר להפעיל את האלגוריתם באופן רקורסיבי על {::nomarkdown}\( b,r\){:/nomarkdown}, כשתנאי העצירה שלנו הוא שאם {::nomarkdown}\( b\){:/nomarkdown} מחלק את {::nomarkdown}\( a\){:/nomarkdown} ללא שארית, אז המחלק המשותף המקסימלי שלהם הוא {::nomarkdown}\( b\){:/nomarkdown} עצמו.

בואו ונראה איך זה עובד עבור {::nomarkdown}\( 67\){:/nomarkdown} ו-{::nomarkdown}\( 24\){:/nomarkdown}:

{::nomarkdown}\( 67=2\times24+19\){:/nomarkdown}

{::nomarkdown}\( 24=1\times19+5\){:/nomarkdown}

{::nomarkdown}\( 19=3\times5+4\){:/nomarkdown}

{::nomarkdown}\( 5=1\times4+1\){:/nomarkdown}

{::nomarkdown}\( 4=4\times1+0\){:/nomarkdown}

ובשלב האחרון סיימנו: קיבלנו {::nomarkdown}\( a=4,b=1\){:/nomarkdown} וראינו ש-{::nomarkdown}\( b\){:/nomarkdown} מחלק את {::nomarkdown}\( a\){:/nomarkdown} ללא שארית. אלא שמה שמעניין כאן הוא דווקא אותם ערכי {::nomarkdown}\( q\){:/nomarkdown} שהצטברו במהלך הדרך (המספרים שמשמאל לסימן ה-{::nomarkdown}\( \times\){:/nomarkdown} בכל שורה) - הסתכלו עליהם - האם הם נראים מוכרים?

הבה ונציג את החלוקות שמבצע האלגוריתם האוקלידי בדרך אחרת. במקום לדבר על חלוקה עם שארית, נעבוד ישירות עם שברים:

{::nomarkdown}\( \frac{67}{24}=2+\frac{19}{24}\){:/nomarkdown}

{::nomarkdown}\( \frac{24}{19}=1+\frac{5}{19}\){:/nomarkdown}

{::nomarkdown}\( \frac{19}{5}=3+\frac{4}{5}\){:/nomarkdown}

{::nomarkdown}\( \frac{5}{4}=1+\frac{1}{4}\){:/nomarkdown}

{::nomarkdown}\( \frac{4}{1}=4+0\){:/nomarkdown}

וזה כבר מאוד מזכיר את התהליך שתיארתי למעלה, של בניית השבר המשולב עבור {::nomarkdown}\( \frac{19}{24}\){:/nomarkdown}. המסקנה היא ש-{::nomarkdown}\( \frac{67}{24}\){:/nomarkdown} מתואר בידי השבר המשולב {::nomarkdown}\( 2+\frac{1}{1+}\frac{1}{3+}\frac{1}{1+}\frac{1}{4}\){:/nomarkdown}, ושבאופן כללי אפשר למצוא את השבר המשולב עבור {::nomarkdown}\( \frac{a}{b}\){:/nomarkdown} ביעילות באמצעות האלגוריתם האוקלידי - ובגלל שהעצירה של האלגוריתם האוקלידי מובטחת, גם העצירה של בניית השבר המשולב מובטחת. מה שעוד לא ברור כאן הוא שאם מספר מיוצג בידי שבר משולב, הייצוג הזה הוא יחיד, ולא ייתכן ששני שברים משולבים ייצגו את אותו המספר; גם את זה לא מסובך להוכיח אך ההוכחה טכנית ואפסח עליה.

עד כה לא ממש ברור ממה ההתלהבות הגדולה. אז כן, מצאנו דרך חדשה ומופרעת להציג שברים, אך במה היא טובה יותר מלכתוב סתם {::nomarkdown}\( \frac{a}{b}\){:/nomarkdown}? החלק המעניין מתחיל כשאנו רוצים לייצג באמצעות שברים משולבים מספרים שלא ניתן לייצג באמצעות שברים רגילים, כלומר מספרים אי רציונליים. לצורך כך יהיה הכרחי להרחיב קצת את ההגדרה של שברים משולבים, שכן לא קשה לראות שכרגע כל שבר משולב שאנו מדברים עליו הוא מספר רציונלי (פשוט "פותחים"אותו באופן שעליו כבר דיברתי קודם).

אם כן, מה שנעשה הוא להרשות לתהליך של יצירת השבר להימשך עד אינסוף. במקום שנייצג שבר משולב עם סדרה סופית {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}\){:/nomarkdown}, פשוט נרשה לסדרה להיות אינסופית: {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\dots\){:/nomarkdown}. למי שמטרידה אותו השאלה איך אפשר לתת משמעות פורמלית לכזה דבר, התשובה פשוטה: {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\dots=\lim_{n\to\infty}a_{0}+\frac{1}{a_{1}+}\dots\frac{1}{a_{n}}\){:/nomarkdown}. במילים אחרות, אם יש לנו סדרה אינסופית {::nomarkdown}\( a_{0},a_{1},\dots\){:/nomarkdown} אנחנו יכולים לקבל ממנה סדרה אינסופית של מספרים רציונליים שמתקבלים מכך ש"קוטמים"את השבר המשולב בכל פעם בשלב מתקדם יותר. כמובן שלא ברור מיידית שהסדרה הזו אכן שואפת למספר ספציפי יחיד; כדי להבין יותר טוב מה הולך כאן, נרצה קודם כל להבין את סדרת הקירובים שמגדיר שבר משולב. ההמשך יהיה יחסית טכני (אם כי לטעמי מעניין מאוד), ואת השורה התחתונה כבר אכתוב בפוסט הבא, לטובת אלו שלא יצליחו לעקוב.

באופן כללי, אם {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\){:/nomarkdown} הוא שבר משולב (סופי או אינסופי) אפשר להגדיר סדרה {::nomarkdown}\( \frac{A_{0}}{B_{0}},\frac{A_{1}}{B_{1}},\frac{A_{2}}{B_{2}},\dots\){:/nomarkdown} של הקירובים המתקבלים משלבי הביניים: {::nomarkdown}\( \frac{A_{0}}{B_{0}}=a_{0}\){:/nomarkdown}, ו-{::nomarkdown}\( \frac{A_{1}}{B_{1}}=a_{0}+\frac{1}{a_{1}}\){:/nomarkdown} וכן הלאה. השאלה המעניינת ביותר כאן לטעמי היא "האם אפשר לכתוב את {::nomarkdown}\( A_{n},B_{n}\){:/nomarkdown} בצורה פשוטה כפונקציות של {::nomarkdown}\( a_{0},\dots,a_{n}\){:/nomarkdown}?" והתשובה המפתיעה היא שלא רק שאפשר לעשות את זה, אלא גם ש-{::nomarkdown}\( A_{n}\){:/nomarkdown} ו-{::nomarkdown}\( B_{n}\){:/nomarkdown} מאוד, מאוד דומים.

בואו נראה לאט לאט כיצד נבנה שבר משולב. בשלב הראשון יש לנו {::nomarkdown}\( \frac{a_{0}}{1}\){:/nomarkdown} ותו לא. בשלב השני יש לנו את {::nomarkdown}\( a_{0}+\frac{1}{a_{1}}\){:/nomarkdown}; כדי לראות למה זה שווה אנחנו מבצעים מכנה משותף ומקבלים {::nomarkdown}\( \frac{a_{0}a_{1}+1}{a_{1}}\){:/nomarkdown}. בשלב השלישי יש לנו {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+\frac{1}{a_{2}}}\){:/nomarkdown} וכאן המכנה המשותף נוצר בשני שלבים: ראשית כל מתקבל {::nomarkdown}\( a_{0}+\frac{1}{\frac{a_{1}a_{2}+1}{a_{2}}}\){:/nomarkdown}, ולאחר מכן המכנה "מתהפך", מקבלים {::nomarkdown}\( a_{0}+\frac{a_{2}}{a_{1}a_{2}+1}\){:/nomarkdown}, ולבסוף מתקבל {::nomarkdown}\( \frac{a_{0}a_{1}a_{2}+a_{0}+a_{2}}{a_{1}a_{2}+1}\){:/nomarkdown}.

חדי העין בוודאי שמו לב לדמיון שבין המונה של {::nomarkdown}\( a_{0}+\frac{1}{a_{1}}\){:/nomarkdown} ובין <strong>המכנה</strong> של {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}\){:/nomarkdown}: הראשון הוא {::nomarkdown}\( a_{0}a_{1}+1\){:/nomarkdown}, השני הוא {::nomarkdown}\( a_{1}a_{2}+1\){:/nomarkdown}. זהו כמובן אינו מקרה: הרי המכנה של {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}\){:/nomarkdown} התקבל מהמונה של {::nomarkdown}\( a_{1}+\frac{1}{a_{2}}\){:/nomarkdown}. זכרו - כדי לחשב את {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}}\){:/nomarkdown} אמרנו "בואו קודם כל נשכח מה-{::nomarkdown}\( a_{0}\){:/nomarkdown} ונסתכל על המכנה {::nomarkdown}\( a_{1}+\frac{1}{a_{2}}\){:/nomarkdown}", אבל מכנה זה הוא בעצמו שבר משולב "רגיל". אחרי שגמרנו לחשב אותו ולהביא אותו לצורה {::nomarkdown}\( \frac{x}{y}\){:/nomarkdown} ביצענו בו "היפוך" שבו הוחלפו המונה והמכנה.

ההבנה הזו, שהמכנה של שבר משולב הוא בעצם המונה של שבר משולב קצת יותר פשוט, מאפשרת לנו לתאר בצורה קצת יותר נחמדה את המונה והמכנה. נשתמש בסימון {::nomarkdown}\( \left[a_{0},a_{1},\dots,a_{n}\right]\){:/nomarkdown} כדי לתאר את המונה של השבר המשולב, ועכשיו יש לנו תיאור יפה לקירובים: {::nomarkdown}\( \frac{A_{n}}{B_{n}}=\frac{\left[a_{0},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}\){:/nomarkdown}. זה עדיין לא עוזר לנו להבין איך בדיוק נראית המפלצת שמיוצגת על ידי {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown}, אבל זו התחלה טובה.

כעת בואו ונתבונן שניה בשבר המשולב {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\frac{1}{a_{n}}\){:/nomarkdown}. מצד אחד, אפשר לכתוב אותו כ-{::nomarkdown}\( \frac{\left[a_{0},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}\){:/nomarkdown} כפי שכבר אמרתי. מצד שני, אפשר לכתוב אותו כ-{::nomarkdown}\( a_{0}+\frac{\left[a_{2},\dots,a_{n}\right]}{\left[a_{1},\dots,a_{n}\right]}\){:/nomarkdown}, שכן אפשר "לחשב עד הסוף" את {::nomarkdown}\( a_{1}+\frac{1}{a_{2}+}\dots\frac{1}{a_{n}}\){:/nomarkdown} ולבסוף לבצע היפוך שלו. מכאן מתקבלת בקלות הנוסחה הבאה: {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]\){:/nomarkdown}. זו כבר ההתחלה של הגיון בשגעון - ראשית, כעת יש לנו דרך רקורסיבית פשוטה לחשב את {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown}; אבל שנית, כעת נוכל להוכיח באינדוקציה תיאור כללי ולא רקורסיבי של המבנה של {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown} שהתגלה, כמו מיליארד דברים אחרים, בידי אוילר.

הכלל נשמע טיפה מוזר ומפחיד בשמיעה ראשונה, אבל עברנו את פרעה ואת "<a href="http://www.gadial.net/?p=504">איך בוטלה המתמטיקה</a>"ונעבור גם את זה: {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown} הוא סכום של מכפלות שמתקבלות באופן הבא: ראשית, המכפלה {::nomarkdown}\( a_{1}a_{2}\cdots a_{n}\){:/nomarkdown}. שנית, המכפלה {::nomarkdown}\( a_{1}a_{2}\cdots a_{n}\){:/nomarkdown} כשהוסר ממנה זוג איברים סמוכים (נניח, {::nomarkdown}\( a_{3}a_{4}\){:/nomarkdown} הוסר ממנה) - כל המכפלות האפשריות שיכולות להתקבל מהסרת זוג כזה משתתפות בסכום. שלישית, כל המכפלות שמתקבלות מהסרת <strong>שני</strong> זוגות זרים (כלומר, למשל, {::nomarkdown}\( a_{2}a_{3}\){:/nomarkdown} ו-{::nomarkdown}\( a_{7}a_{8}\){:/nomarkdown}) וכן הלאה. אם כל האיברים הוסרו ממכפלה היא הופכת להיות "המכפלה הריקה" - 1 (שכן 1 הוא האיבר הנייטרלי לכפל, ולכן הוא מתאים רעיונית לייצוג מכפלה ריקה כשם ש-0 מתאים רעיונית לייצוג סכום ריק).

דוגמאות פשוטות עוזרות כמובן להבין. {::nomarkdown}\( \left[a_{0}\right]=a_{0}\){:/nomarkdown} שכן יש לנו את המכפלה של "כל" האיברים, וזהו (אין זוגות סמוכים שאפשר להוריד). {::nomarkdown}\( \left[a_{0}a_{1}\right]=a_{0}a_{1}+1\){:/nomarkdown} שכן יש לנו את המכפלה של כל האיברים {::nomarkdown}\( a_{0}a_{1}\){:/nomarkdown} ואת המכפלה הריקה {::nomarkdown}\( 1\){:/nomarkdown}. {::nomarkdown}\( \left[a_{0},a_{1},a_{2}\right]=a_{0}a_{1}a_{2}+a_{0}+a_{2}\){:/nomarkdown}, כש-{::nomarkdown}\( a_{1}\){:/nomarkdown} לא מופיע בסכום לבדו שכן אין זוג <strong>סמוך</strong> שניתן להוריד ויותיר רק אותו. לבסוף, הנה דוגמה יותר מורכבת:

{::nomarkdown}\( \left[a_{0},a_{1},a_{2},a_{3},a_{4}\right]=a_{0}a_{1}a_{2}a_{3}a_{4}+\){:/nomarkdown}

{::nomarkdown}\( a_{0}a_{1}a_{2}+a_{0}a_{1}a_{4}+a_{1}a_{2}a_{3}+a_{2}a_{3}a_{4}+\){:/nomarkdown}

{::nomarkdown}\( a_{0}+a_{2}+a_{4}\){:/nomarkdown}

כש-{::nomarkdown}\( a_{2}\){:/nomarkdown} התקבל מכך שהסרנו את הזוגות {::nomarkdown}\( a_{0}a_{1}\){:/nomarkdown} ו-{::nomarkdown}\( a_{3}a_{4}\){:/nomarkdown}.

מבלבל? כן, אבל לא קשה כל כך להוכחה באינדוקציה בעזרת הנוסחה {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]\){:/nomarkdown}. את הבסיס (עבור {::nomarkdown}\( \left[a_{0}\right]\){:/nomarkdown} ו-{::nomarkdown}\( \left[a_{0}a_{1}\right]\){:/nomarkdown}) אפשר לראות ישירות; באופן כללי, הבה ונראה מה קורה עם {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown}. ראשית, הגורם {::nomarkdown}\( \left[a_{2},\dots,a_{n}\right]\){:/nomarkdown} תופס את כל המחוברים שהתקבלו על ידי הסרת הזוג {::nomarkdown}\( a_{0}a_{1}\){:/nomarkdown} ואולי עוד דברים, כך שהגורם הזה בסדר; ואילו {::nomarkdown}\( a_{0}\left[a_{1},\dots,a_{n}\right]\){:/nomarkdown} תופס את כל הגורמים שהתקבלו ללא הסרת {::nomarkdown}\( a_{0}\){:/nomarkdown} מההתחלה, ומכיוון שאם מסירים את {::nomarkdown}\( a_{0}\){:/nomarkdown} זה חייב להיות במסגרת הזוג {::nomarkdown}\( a_{0}a_{1}\){:/nomarkdown} תפסנו את כל המקרים.

יופי, אז יש לנו תיאור די מפורש של {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown}; מה עכשיו? ראשית, עכשיו ברור ש-{::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]\){:/nomarkdown} הוא ביטוי סימטרי, במובן זה שהוא זהה ל-{::nomarkdown}\( \left[a_{n},\dots,a_{0}\right]\){:/nomarkdown}, ולכן את נוסחת הנסיגה {::nomarkdown}\( \left[a_{0},\dots,a_{n}\right]=a_{0}\left[a_{1},\dots,a_{n}\right]+\left[a_{2},\dots,a_{n}\right]\){:/nomarkdown} אפשר לכתוב גם מהסוף להתחלה, בתור {::nomarkdown}\( \left[a_{n},\dots,a_{0}\right]=a_{n}\left[a_{n-1},\dots,a_{0}\right]+\left[a_{n-2},\dots,a_{0}\right]\){:/nomarkdown}. עכשיו, מכיוון ש-{::nomarkdown}\( A_{n}=\left[a_{0},\dots,a_{n}\right]\){:/nomarkdown} ו-{::nomarkdown}\( B_{n}=\left[a_{1},\dots,a_{n}\right]\){:/nomarkdown}, קיבלנו את נוסחת הנסיגה {::nomarkdown}\( A_{n}=a_{n}A_{n-1}+A_{n-2}\){:/nomarkdown} ו-{::nomarkdown}\( B_{n}=a_{n}B_{n-1}+B_{n-2}\){:/nomarkdown}. אותה נוסחת נסיגה מתארת הן את המונה והן את המכנה וזה כמובן לא מפתיע בהתחשב בכך שכבר אמרתי שהם בעצם אותו הדבר.

מנוסחאות הנסיגה הללו אפשר לגזור נוסחה שקושרת את {::nomarkdown}\( A_{n},B_{n}\){:/nomarkdown} והיא לב-לבו של העסק. הבה ונסמן ב-{::nomarkdown}\( \Delta_{n}\){:/nomarkdown} את הביטוי הבא: {::nomarkdown}\( \Delta_{n}=A_{n}B_{n-1}-A_{n-1}B_{n}\){:/nomarkdown}. למה הוא שווה? מסתבר שניתן לחשב אותו במדוייק וערכו מאוד פשוט. כדי לראות זאת, נשתמש בנוסחת הנסיגה ונקבל את הפיתוח הבא:

{::nomarkdown}\( \Delta_{n}=A_{n}B_{n-1}-A_{n-1}B_{n}=\left(a_{n}A_{n-1}+A_{n-2}\right)B_{n-1}-A_{n-1}\left(a_{n}B_{n-1}+B_{n-2}\right)=\){:/nomarkdown}

{::nomarkdown}\( B_{n-1}A_{n-2}-A_{n-1}B_{n-2}=-\Delta_{n-1}\){:/nomarkdown}

ולא קשה לראות כי {::nomarkdown}\( \Delta_{1}=A_{1}B_{0}-A_{0}B_{1}=1\){:/nomarkdown}, כך שקיבלנו בסך הכל ש-{::nomarkdown}\( \Delta_{n}=\left(-1\right)^{n-1}\){:/nomarkdown}. הבה ונכתוב את הנוסחה במפורש:

{::nomarkdown}\( A_{n}B_{n-1}-A_{n-1}B_{n}=\left(-1\right)^{n-1}\){:/nomarkdown}

זו לדעתי דוגמה לנוסחה "יפה", ובכלל - כל החיפוש אחר התכונות של {::nomarkdown}\( A_{n},B_{n}\){:/nomarkdown} מהווה לטעמי דוגמה למתמטיקה שהיא מצד אחד טכנית וחשבונית מאוד, ומצד שני היא יפה ואף יצירתית.

טוב, חדל התלהבות, נשאלת השאלה מה יצא לנו מכל זה. התשובה היא שיצא לנו המון - עכשיו אנחנו יודעים לתאר היטב את ההתנהגות של הסדרה {::nomarkdown}\( \frac{A_{0}}{B_{0}},\frac{A_{1}}{B_{1}},\dots\){:/nomarkdown}. בפרט, אנחנו יודעים לתאר בקלות את ההפרש בין שני גורמים סמוכים. נסו לחשוב שנייה מדוע, ואז הציצו בשורה הבאה:

{::nomarkdown}\( \frac{A_{n}}{B_{n}}-\frac{A_{n-1}}{B_{n-1}}=\frac{A_{n}B_{n-1}-A_{n-1}B_{n}}{B_{n}B_{n-1}}=\frac{\left(-1\right)^{n-1}}{B_{n}B_{n-1}}\){:/nomarkdown}.

מכיוון ש-{::nomarkdown}\( B\){:/nomarkdown}-ים חיוביים תמיד, נובע שאם {::nomarkdown}\( n\){:/nomarkdown} אי זוגי, אז {::nomarkdown}\( \frac{A_{n}}{B_{n}}\){:/nomarkdown} גדול מ-{::nomarkdown}\( \frac{A_{n-1}}{B_{n-1}}\){:/nomarkdown} (הפרשם חיובי) ואחרת הוא קטן ממנו. מכאן שסדרת הקירובים "מזפזפת" מעלה ומטה. אבל האם היא נרגעת? ובכן, בואו ננסה לראות מה קורה כשמשווים איבר לא לקודמו, אלא לזה שלפניו, כלומר מנסים לחשב את {::nomarkdown}\( \frac{A_{n}}{B_{n}}-\frac{A_{n-2}}{B_{n-2}}\){:/nomarkdown}. הדרך הפשוטה ביותר לעשות זאת היא באמצעות תעלול נפוץ מאוד בחשבון: להוסיף ולהחסיר את אותו איבר. נקבל:

{::nomarkdown}\( \frac{A_{n}}{B_{n}}-\frac{A_{n-2}}{B_{n-2}}=\left(\frac{A_{n}}{B_{n}}-\frac{A_{n-1}}{B_{n-1}}\right)+\left(\frac{A_{n-1}}{B_{n-1}}-\frac{A_{n-2}}{B_{n-2}}\right)=\frac{\left(-1\right)^{n-1`}}{B_{n}B_{n-1}}+\frac{\left(-1\right)^{n-2}}{B_{n-1}B_{n-2}}=\frac{\left(-1\right)^{n-1}}{B_{n-1}}\left[\frac{1}{B_{n}}-\frac{1}{B_{n-2}}\right]\){:/nomarkdown}

האיבר בסוגריים המרובעים הוא ללא ספק שלילי, כי הוא מכיל משהו חיובי במכנה ו-{::nomarkdown}\( B_{n-2}-B_{n}\){:/nomarkdown} במונה, אבל ב-{::nomarkdown}\( B_{n}\){:/nomarkdown} גדול מ-{::nomarkdown}\( B_{n-2}\){:/nomarkdown} כי הוא מכיל את {::nomarkdown}\( B_{n-2}\){:/nomarkdown} כחלק מהסכום שלו (מדוע?). מסקנה: עבור ערכים זוגיים של {::nomarkdown}\( n\){:/nomarkdown}, אנחנו מקבלים שההפרש כולו חיובי, ולכן הסדרה של ה-{::nomarkdown}\( \frac{A_{n}}{B_{n}}\){:/nomarkdown}-ים הזוגיים היא עולה, ואילו סדרת ה-{::nomarkdown}\( \frac{A_{n}}{B_{n}}\){:/nomarkdown}-ים האי זוגיים היא יורדת; וסדרת האיברים הזוגיים חסומה מלמעלה על ידי סדרת האיברים האי זוגיים (ובאופן סימטרי, סדרת האיברים האי זוגיים חסומה מלמטה על ידי סדרת האיברים הזוגיים). כאן נכנס לתמונה משפט בסיסי מחשבון אינפיניטסימלי: אם יש לנו שתי סדרות מספרים, האחת עולה והשנייה יורדת, כך שהמרחק ביניהן שואף לאפס - הן מתכנסות, ולאותו הגבול (במקרה שלנו המרחק הוא {::nomarkdown}\( \frac{\left(-1\right)^{n-1}}{B_{n}B_{n-1}}\){:/nomarkdown} והוא בוודאי שואף לאפס כי ה-{::nomarkdown}\( B_{n}\){:/nomarkdown}-ים שואפים לאינסוף).

הגענו לשורה התחתונה: אם ניקח סדרה <strong>כלשהי</strong> של מספרים טבעיים ונתבונן בשבר המשולב שהיא מגדירה, {::nomarkdown}\( a_{0}+\frac{1}{a_{1}+}\frac{1}{a_{2}+}\dots\){:/nomarkdown}, נקבל תמיד שהשבר הזה מתכנס למספר ממשי כלשהו. השאלה שנותרה היא האם עבור <strong>כל</strong> מספר ממשי קיים שבר משולב שמתכנס אליו, ואני מניח שאתם מנחשים שהתשובה חיובית. מספיק לדבר על מספרים ממשיים חיוביים, כי עבור מספרים שליליים השינוי היחיד שיידרש הוא שהאיבר {::nomarkdown}\( a_{0}\){:/nomarkdown} יהיה שלילי.

ניקח אם כן מספר ממשי {::nomarkdown}\( \alpha\){:/nomarkdown} שהוא אי רציונלי (ברציונליים כבר טיפלנו). אפשר לפרק אותו לשני חלקים - החלק השלם {::nomarkdown}\( a_{0}\){:/nomarkdown}, שהוא המספר הטבעי הגדול ביותר שעודנו קטן מ-{::nomarkdown}\( \alpha\){:/nomarkdown}; והחלק השברי, שהוא מספר ממשי חיובי קטן מ-1. מכיוון שהוא קטן מ-1, ניתן לכתוב אותו בתור {::nomarkdown}\( \frac{1}{\alpha_{1}}\){:/nomarkdown}. אם כן: {::nomarkdown}\( \alpha=a_{0}+\frac{1}{\alpha_{1}}\){:/nomarkdown}. אני מניח שאתם מבינים מה יבוא כעת: אם {::nomarkdown}\( \alpha_{1}\){:/nomarkdown} אי רציונלי (אחרת {::nomarkdown}\( \alpha\){:/nomarkdown} היה רציונלי - מדוע?) ולכן נחזור על התעלול גם עבורו ונקבל {::nomarkdown}\( \alpha=a_{0}+\frac{1}{a_{1}+\frac{1}{\alpha_{2}}}\){:/nomarkdown} וכן הלאה וכן הלאה. כל שנשאר להבין הוא האם התוצאה אכן מתכנסת אל {::nomarkdown}\( \alpha\){:/nomarkdown} - ואם כן, כמה מהר?

לשם כך נשים לב לרגע לעובדה שלא באמת השתמשנו במה שעוללנו ל-{::nomarkdown}\( A_{n},B_{n}\){:/nomarkdown} בכך שה-{::nomarkdown}\( a_{n}\){:/nomarkdown}-ים כולם שלמים. זה מאפשר לנו לכתוב את {::nomarkdown}\( \alpha\){:/nomarkdown} בתור "שבר משולב" סופי אם נרשה לאיבר האחרון להיות לא שלם, דהיינו {::nomarkdown}\( \alpha=\frac{\left[a_{0},a_{1},\dots,a_{n},\alpha_{n+1}\right]}{\left[a_{1},a_{2},\dots,a_{n},\alpha_{n+1}\right]}\){:/nomarkdown}. אם נשתמש כאן בנוסחת הנסיגה שכבר מצאנו למונה והמכנה, אז אפשר לכתוב {::nomarkdown}\( \alpha=\frac{\alpha_{n+1}A_{n}+A_{n-1}}{\alpha_{n+1}B_{n}+B_{n-1}}\){:/nomarkdown}. עכשיו, כדי לראות עד כמה {::nomarkdown}\( \frac{A_{n}}{B_{n}}\){:/nomarkdown} הוא קירוב טוב ל-{::nomarkdown}\( \alpha\){:/nomarkdown} נחסר את האחד מהשני ונקבל:

{::nomarkdown}\( \alpha-\frac{A_{n}}{B_{n}}=\frac{\alpha_{n+1}A_{n}+A_{n-1}}{\alpha_{n+1}B_{n}+B_{n-1}}-\frac{A_{n}}{B_{n}}=\frac{A_{n-1}B_{n}+A_{n}B_{n-1}}{B_{n}\left(\alpha_{n+a}B_{n}+B_{n-1}\right)}=\frac{\left(-1\right)^{n-1}}{B_{n}\left(\alpha_{n+a}B_{n}+B_{n-1}\right)}\){:/nomarkdown}

כאן שוב השתמשנו בנוסחה הקסומה {::nomarkdown}\( A_{n}B_{n-1}-A_{n-1}B_{n}=\left(-1\right)^{n-1}\){:/nomarkdown}. ניקח ערך מוחלט לביטוי, ונקבל בסופו של דבר ש:

{::nomarkdown}\( \left\|\alpha-\frac{A_{n}}{B_{n}}\right\|&lt;\frac{1}{B_{n}B_{n+1}}\){:/nomarkdown} (מאיפה ה-{::nomarkdown}\( B_{n+1}\){:/nomarkdown} צץ פתאום? הוא קטן יותר מהגורם שבתוך הסוגריים במכנה - מדוע?).

ושוב, מכיוון ש-{::nomarkdown}\( B_{n}\){:/nomarkdown} היא סדרה עולה, נובע מכך ש-{::nomarkdown}\( \frac{A_{n}}{B_{n}}\){:/nomarkdown} מתכנסת ל-{::nomarkdown}\( \alpha\){:/nomarkdown}, בדיוק כפי שרצינו. לא רק זה - קצב ההתכנסות הוא ריבועי; אך על כך ארחיב בפוסט הבא.
