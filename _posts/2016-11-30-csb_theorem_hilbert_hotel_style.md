---
id: 3387
title: "משפט קנטור-שרדר-ברנשטיין - ועכשיו בגרסת המלון של הילברט!"
date: 2016-11-30 11:19:03
layout: post
categories: 
  - תורת הקבוצות
tags: 
  - המלון של הילברט
  - משפט קנטור-שרדר-ברנשטיין
---
אני הולך לעשות משהו שעדיין לא עשיתי בבלוג - לכתוב <strong>מחדש</strong> פוסט על נושא ש<a href="http://www.gadial.net/2012/01/21/cantor_schroeder-_bernstein_theorem/">כבר יש לי פוסט עליו בדיוק</a>; במקרה הנוכחי, הוכחת משפט קנטור-שרדר-ברנשטיין. כאילו שזה לא מעליב מספיק, אני אתן פה את אותה ההוכחה כמו בפוסט ההוא. אז למה לכתוב פוסט חדש? כי מאז הפוסט ההוא יצא לי להרצות כמה פעמים בקורסי תורת הקבוצות, ואני חושב שאני יכול להעביר את ההוכחה יותר טוב מאשר העברתי אותה אז, אז למה לא לנסות? בניגוד לפוסט ההוא, כאן אני הולך לספר סיפורים עליזים כדי לתת יותר אינטואיציה לגבי מה שהולך פה - ספציפית, אני אספר וריאציה על סיפור <strong>המלון של הילברט</strong>, <a href="http://www.gadial.net/2010/11/08/hilberts_hotel/">שגם עליו יש לי פוסט</a>. נראה לי שמאוד כדאי להדגיש את הנקודה לפיה משפט קנטור-שרדר-ברנשטיין הוא בסך הכל עוד סיפור בסגנון המלון של הילברט, כי המלון של הילברט נראה פשוט ונחמד יחסית, בעוד שההוכחה של קנטור-שרדר-ברנשטיין נתפסת כמפחידה למדי (לפחות על ידי היא נתפסה ככזו).

אני כן מניח שיש לכם היכרות כלשהי עם תורת הקבוצות, ברמה שתאפשר לכם להבין מה אומר משפט קנטור-שרדר-ברנשטיין: הוא אומר שאם {::nomarkdown}\( A,B\){:/nomarkdown} הן קבוצות כך שקיימות פונקציות חד-חד-ערכיות {::nomarkdown}\( f:A\to B\){:/nomarkdown} וגם {::nomarkdown}\( g:B\to A\){:/nomarkdown} אז קיימת פונקציה חד-חד-ערכית ועל {::nomarkdown}\( h:A\to B\){:/nomarkdown}. בניסוח ציורי, זה אומר שאם {::nomarkdown}\( \left\|A\right\|\le\left\|B\right\|\){:/nomarkdown} וגם {::nomarkdown}\( \left\|B\right\|\le\left\|A\right\|\){:/nomarkdown} אז {::nomarkdown}\( \left\|A\right\|=\left\|B\right\|\){:/nomarkdown}. אבל המשפט עושה קצת יותר מכך - הבנייה של {::nomarkdown}\( h\){:/nomarkdown} היא <strong>קונסטרוקטיבית</strong> לגמרי: אני יכול לתת תיאור מפורש של {::nomarkdown}\( h\){:/nomarkdown} שמתבסס על {::nomarkdown}\( f,g\){:/nomarkdown}; אני לא סתם מוכיח ש"קיימת {::nomarkdown}\( h\){:/nomarkdown} כלשהי שעובדת" (אני קצת מרמה כאן - למילה "קונסטרוקטיבית" במתמטיקה יש גם משמעות יותר מוגבלת, ובמשמעות הזו ההוכחה לא קונסטרוקטיבית; אבל זה דיון אחר שאולי נקיים בעתיד).

מה הקשר למלון של הילברט? המלון של הילברט הוא סיפור דיסטופי על עולם שבו מתרחשות זוועות שלא יאומנו. ואני לא מתכוון לקיום של מלון בן אינסוף חדרים, אלא לכך שכדי לאכסן במלון אורח חדש <strong>בועטים החוצה</strong> אורחים קיימים. בואו ניזכר איך זה הולך: בגרסה המקורית של הסיפור יש חדר במלון לכל מספר טבעי. בהתחלה כל החדרים תפוסים. הגיע אורח חדש ורוצה חדר? אין בעיה! <strong>נבעט החוצה</strong> את האורח מחדר מס' 0 ונאכסן במקומו את האורח החדש. אבל עכשיו מה יעשה האורח שהיה בחדר 0? יעזוב את המלון ויכתוב ביקורת ממורמרת באינטרנט? לא! הוא פשוט יעבור לחדר מס' 1. ומה קורה לאורח בחדר מס' 1? <strong>נבעט החוצה</strong> גם כן! וכן הלאה וכן הלאה; בכל פעם אנחנו בועטים אורח החוצה, ואז דואגים לו לפתרון על חשבון אורח אחר.

הקסם שבסיפור הזה הוא שהבעיה של "יש אורח ללא חדר" נפתרת למרות שבעצם בשום שלב לא פתרנו אותה; מה שאנחנו עושים הוא <strong>לדחוק את הבעיה לאינסוף</strong> ואיכשהו זה גורם לה להיעלם. כמובן, אפשר לטעון שהפתרון שלנו הוא רמאי כי ייקח למלון אינסוף זמן עד שהעניינים יסתדרו, אבל קל לספר את הסיפור באופן שעוקף את זה: מה שקורה הוא שכשמגיע אורח חדש, מייד פוקדים על <strong>כל</strong> האורחים במלון לצאת מהחדר שלהם ולעבור לחדר הבא בתור, ואז תוך עשר דקות כולם עוברים ויש לנו חדר ריק שאפשר לאכסן בו את האורח החדש.

ההוכחה של קנטור-שרדר-ברנשטיין עושה בערך את אותו הדבר. בואו נחשוב על {::nomarkdown}\( A\){:/nomarkdown} בתור קבוצת אנשים ועל {::nomarkdown}\( B\){:/nomarkdown} בתור קבוצת חדרים במלון. המטרה שלנו היא למצוא דרך לשכן את כל האנשים במלון כך שלכולם יש חדר בלי התנגשויות <strong>ואין חדר ריק</strong>. מכיוון שאנחנו לא יודעים כלום על הקבוצות {::nomarkdown}\( A,B\){:/nomarkdown} (אי אפשר להניח שהחדרים ממסופרים על ידי המספרים הטבעיים, למשל; ייתכן מאוד ש-{::nomarkdown}\( B\){:/nomarkdown} היא בכלל קבוצת הממשיים, וכדומה) אנחנו חייבים להתחיל עם <strong>משהו</strong>, ולכן מגיעות לעזרתנו הפונקציות {::nomarkdown}\( f,g\){:/nomarkdown}. על {::nomarkdown}\( f\){:/nomarkdown} אפשר לחשוב בתור "שיטה לשכן את כל האורחים במלון באופן שבו לא יהיו התנגשויות אבל אולי יישארו חדרים ריקים" ואילו על {::nomarkdown}\( g\){:/nomarkdown} אפשר לחשוב בתור "שיטה למלא את כל החדרים במלון באורחים אבל ייתכן שיישארו אורחים שאין להם חדר". הפונקציה {::nomarkdown}\( f\){:/nomarkdown} מקבלת אורח ואומרת לאיזה חדר הוא הולך; הפונקציה {::nomarkdown}\( g\){:/nomarkdown} מקבלת חדר ואומרת איזה אורח לשכן בו.

ועכשיו אפשר לספר את סיפור המלון כך: בהתחלה המלון כולו מלא, על ידי שיטת המילוי שהפונקציה {::nomarkdown}\( g\){:/nomarkdown} מתארת. זה אומר שאפשר לחלק את קבוצת האנשים {::nomarkdown}\( A\){:/nomarkdown} לשתי קבוצות: "ברי המזל" שיש להם חדר, ו"הממורמרים" שאין להם חדר. מבחינה מתמטית, קבוצת ברי המזל היא בדיוק {::nomarkdown}\( g\left(B\right)\triangleq\left\{ g\left(b\right)\ \|\ b\in B\right\} \){:/nomarkdown}. את קבוצת "הממורמרים" אני אסמן בתור {::nomarkdown}\( D_{0}\triangleq A/g\left(B\right)\){:/nomarkdown}, כשהאפס שנמצא פה אמור לרמוז לכם שעוד יהיו המון ממורמרים נוספים בהמשך. כי ככה זה - אנחנו חיים במציאות דיסטופית שבה בועטים אנשים מחדרי המלון שלהם.

הבעיה שלנו עכשיו היא הבעיה הבסיסית של המלון של הילברט, רק עם קבוצה של אנשים במקום עם אדם אחד. אנחנו רוצים לשכן את כל האורחים מ-{::nomarkdown}\( D_{0}\){:/nomarkdown} במלון שהוא כבר עכשיו מלא. מה נעשה? בשלב ראשון, נחליט לכל אדם ב-{::nomarkdown}\( D_{0}\){:/nomarkdown} לאיזה חדר ללכת, כך שלא יהיו התנגשויות עבור האנשים ב-{::nomarkdown}\( D_{0}\){:/nomarkdown}; ובשלב השני <strong>נבעט החוצה</strong> את כל האורחים שכבר נמצאים בחדרים הללו, ולקבוצת כל הממורמרים החדשים הללו נקרא {::nomarkdown}\( D_{1}\){:/nomarkdown}. אחר כך נפעל באותו האופן בדיוק על {::nomarkdown}\( D_{1}\){:/nomarkdown}: נשכן אותה במלון באותה שיטה שבה שיכנו את {::nomarkdown}\( D_{0}\){:/nomarkdown}, נבעט החוצה את מי שכבר בחדרים הללו, נקרא להם {::nomarkdown}\( D_{2}\){:/nomarkdown}, וכן הלאה וכן הלאה.

השאלה שנשאלת כעת היא איך מחליטים עבור כל אדם ב-{::nomarkdown}\( D_{0}\){:/nomarkdown} לאיזה חדר ללכת. התשובה היא שהפונקציה {::nomarkdown}\( f\){:/nomarkdown} באה כאן לעזרתנו. הפונקציה {::nomarkdown}\( f\){:/nomarkdown} יודעת לשכן <strong>את כל האנשים</strong> בקבוצה {::nomarkdown}\( A\){:/nomarkdown} בלי התנגשויות; ברור שהיא יודעת בפרט לשכן את כל האנשים ב-{::nomarkdown}\( D_{0}\){:/nomarkdown} ללא התנגשויות. אם כן, קבוצת החדרים שאנשי {::nomarkdown}\( D_{0}\){:/nomarkdown} יתפסו היא הקבוצה {::nomarkdown}\( f\left(D_{0}\right)\){:/nomarkdown}. כעת נשאלת השאלה - מהי קבוצת האנשים שייבעטו החוצה? כל האנשים הללו שייכים לקבוצת "ברי המזל" שהיו במלון כשהמשחק התחיל - ולכן, בהינתן חדר, כדי לגלות את בר המזל שהתגורר בו אני מפעיל את {::nomarkdown}\( g\){:/nomarkdown} על החדר. מכאן ש-{::nomarkdown}\( g\left(f\left(D_{0}\right)\right)\){:/nomarkdown} היא הקבוצה המתאימה - "קבוצת כל האנשים שהתגוררו בחדרים שאנשי {::nomarkdown}\( D_{0}\){:/nomarkdown} תפסו". לכן אני מגדיר {::nomarkdown}\( D_{1}\triangleq g\left(f\left(D_{0}\right)\right)\){:/nomarkdown}.

עבור {::nomarkdown}\( D_{2}\){:/nomarkdown} העיקרון דומה. מה שכדאי לשים אליו לב הוא שכל החדרים ב-{::nomarkdown}\( f\left(D_{1}\right)\){:/nomarkdown} הם חדרים שבהם גרים "ברי מזל". לא ייתכן שמישהו מ-{::nomarkdown}\( D_{1}\){:/nomarkdown} יקבל הקצאה של חדר ששייך כרגע למישהו מ-{::nomarkdown}\( D_{0}\){:/nomarkdown}, מכיוון שגם אנשי {::nomarkdown}\( D_{1}\){:/nomarkdown} וגם אנשי {::nomarkdown}\( D_{0}\){:/nomarkdown} משוכנים באמצעות הפונקציה {::nomarkdown}\( f\){:/nomarkdown} שמונעת התנגשויות. לכן {::nomarkdown}\( g\left(f\left(D_{1}\right)\right)\){:/nomarkdown} נותנת לנו את קבוצת "ברי המזל" שפונו מחדרם על מנת לפנות מקום לאנשי {::nomarkdown}\( D_{1}\){:/nomarkdown}, ונסמן {::nomarkdown}\( D_{2}\triangleq g\left(f\left(D_{1}\right)\right)\){:/nomarkdown}.

המשחק נמשך באופן הזה ואני מגדיר {::nomarkdown}\( D_{n+1}\triangleq g\left(f\left(D_{n}\right)\right)\){:/nomarkdown}. כך לאט לאט אנחנו נוגסים עוד ועוד מקבוצת "ברי המזל" והופכים אותם לממורמרים. עכשיו אני יכול לדבר על קבוצת הממורמרים המלאה: {::nomarkdown}\( D=\bigcup_{n=0}^{\infty}D_{n}\){:/nomarkdown}. אנחנו יודעים שכל מי ששייך ל-{::nomarkdown}\( D\){:/nomarkdown} שוכן בחדר שלו באמצעות {::nomarkdown}\( f\){:/nomarkdown}, וכל מי שלא שייך ל-{::nomarkdown}\( D\){:/nomarkdown} שוכן בחדר שלו באמצעות {::nomarkdown}\( g\){:/nomarkdown}. צריך להיות טיפה זהירים בעניין הסימונים כאן: אם {::nomarkdown}\( a\in A\){:/nomarkdown} מקיים ש-{::nomarkdown}\( a\notin D\){:/nomarkdown} אז החדר של {::nomarkdown}\( a\){:/nomarkdown} לא נתון באמצעות {::nomarkdown}\( g\left(a\right)\){:/nomarkdown} - זה ביטוי חסר משמעות, כי התחום של {::nomarkdown}\( g\){:/nomarkdown} הוא {::nomarkdown}\( B\){:/nomarkdown} ולא {::nomarkdown}\( A\){:/nomarkdown}. אפשר לומר את הדבר הבא: מכיוון ש-{::nomarkdown}\( g\){:/nomarkdown} היא חד-חד-ערכית ועל ומכיוון שהיא כמובן על התמונה שלה, {::nomarkdown}\( g\left(B\right)\){:/nomarkdown}, קיימת לה פונקציה הופכית {::nomarkdown}\( g^{-1}:g\left(B\right)\to B\){:/nomarkdown}. כעת, מכיוון ש-{::nomarkdown}\( D_{0}=A\backslash g\left(B\right)\){:/nomarkdown}, ברור שאם {::nomarkdown}\( a\notin D\){:/nomarkdown} הרי ש-{::nomarkdown}\( a\in g\left(B\right)\){:/nomarkdown} ולכן {::nomarkdown}\( g^{-1}\){:/nomarkdown} מוגדרת עליו. לכן אפשר לתת את ההגדרה הבאה של {::nomarkdown}\( h\){:/nomarkdown}:

{::nomarkdown}\( h\left(a\right)=\begin{cases}f\left(a\right) &amp; a\in D\\g^{-1}\left(a\right) &amp; a\notin D\end{cases}\){:/nomarkdown}

כל שנותר להסביר הוא למה {::nomarkdown}\( h\){:/nomarkdown} היא חד-חד-ערכית ועל.

האינטואיציה לגבי מדוע {::nomarkdown}\( h\){:/nomarkdown} על היא קלה: כל חדר במלון היה תפוס בהתחלה, כשהשתמשנו בשיטה {::nomarkdown}\( g\){:/nomarkdown}. אחר כך, אם פינינו אורח מחדר במלון, זה היה רק כדי להכניס לשם מישהו במקומו, אז ברור שכל החדרים במלון יהיו תפוסים גם בשיטה ש-{::nomarkdown}\( h\){:/nomarkdown} מתאר. פורמלית נוכיח זאת כך: יהא {::nomarkdown}\( b\in B\){:/nomarkdown}. המועמד הטבעי להיות האיש שבחדר {::nomarkdown}\( b\){:/nomarkdown} הוא פשוט מי שהיה בו בהתחלה, שזה {::nomarkdown}\( a=g\left(b\right)\){:/nomarkdown}. לכן אנחנו צריכים לבדוק מה עלה בגורלו של {::nomarkdown}\( a\){:/nomarkdown}. ייתכן ש-{::nomarkdown}\( a\){:/nomarkdown} היה בר מזל ואף אחד לא פינה אותו מחדרו בשום שלב, כלומר {::nomarkdown}\( a\notin D\){:/nomarkdown}; במקרה זה, {::nomarkdown}\( h\left(a\right)=g^{-1}\left(a\right)=b\){:/nomarkdown} והנה, מצאנו איבר שנותן את {::nomarkdown}\( b\){:/nomarkdown}. אבל ייתכן גם ש-{::nomarkdown}\( a\){:/nomarkdown} פונה מחדרו, כלומר {::nomarkdown}\( a\in D\){:/nomarkdown}. שימו לב לניואנס כאן: {::nomarkdown}\( a\){:/nomarkdown} <strong>פונה מחדרו</strong>; זה לא שלא היה לו חדר מלכתחילה. פורמלית זה אומר ש-{::nomarkdown}\( a\notin D_{0}\){:/nomarkdown} (וזה ברור, כי {::nomarkdown}\( a\in g\left(B\right)\){:/nomarkdown} אבל {::nomarkdown}\( D_{0}=A\backslash g\left(B\right)\){:/nomarkdown}) ומכאן שאם {::nomarkdown}\( a\in D\){:/nomarkdown} בהכרח {::nomarkdown}\( a\in D_{n}\){:/nomarkdown} כך ש-{::nomarkdown}\( n\ge1\){:/nomarkdown}. למה הניואנס הזה חשוב? כי אם {::nomarkdown}\( a\){:/nomarkdown} <strong>פונה</strong> מחדרו, זה אומר שהוא פונה כדי שמישהו <strong>אחר</strong> ייכנס. המישהו האחר הזה יהיה מי שתופס את החדר בסופו של דבר. איך נגלה מי זה? נשתמש בהגדרה של {::nomarkdown}\( D_{n}\){:/nomarkdown}: אנחנו יודעים ש-{::nomarkdown}\( D_{n}=g\left(f\left(D_{n-1}\right)\right)\){:/nomarkdown} (זה נכון לכל {::nomarkdown}\( n\ge1\){:/nomarkdown}) ולכן אם {::nomarkdown}\( a\in D_{n}\){:/nomarkdown} קיים {::nomarkdown}\( a^{\prime}\in D_{n-1}\){:/nomarkdown} כך ש-{::nomarkdown}\( a=g\left(f\left(a^{\prime}\right)\right)\){:/nomarkdown}. נפעיל את {::nomarkdown}\( g^{-1}\){:/nomarkdown} על שני האגפים ונקבל {::nomarkdown}\( b=g^{-1}\left(a\right)=f\left(a^{\prime}\right)=h\left(a^{\prime}\right)\){:/nomarkdown} - קיבלנו גם במקרה הזה איבר שנותן את {::nomarkdown}\( b\){:/nomarkdown}. זה מסיים את ההוכחה שהפונקציה היא על.

המשמעות של הוכחה ש-{::nomarkdown}\( h\){:/nomarkdown} חד-חד-ערכית היא שבשיטה הסופית שלנו אין שני אנשים ששוכנו באותו החדר. ניקח שני אנשים {::nomarkdown}\( a_{1},a_{2}\){:/nomarkdown} שכאלו. יש שלוש אפשרויות: או ששניהם "ממורמרים" שלא היה להם חדר בהתחלה או שנבעטו מתישהו מהחדר שלהם; או ששניהם "ברי מזל" שהיה להם חדר מההתחלה והם לא נבעטו ממנו; או שאחד הוא ממורמר והשני בר מזל.

במקרה הראשון, שני הממורמרים שוכנו בחדר שלהם בסופו של דבר בעזרת {::nomarkdown}\( f\){:/nomarkdown} שמבטיחה שלא יהיו התנגשויות. פורמלית, אם {::nomarkdown}\( a_{1},a_{2}\in D\){:/nomarkdown} אז {::nomarkdown}\( h\left(a_{1}\right)=f\left(a_{1}\right)\){:/nomarkdown} ו-{::nomarkdown}\( h\left(a_{2}\right)=f\left(a_{2}\right)\){:/nomarkdown}, ולכן אם {::nomarkdown}\( h\left(a_{1}\right)=h\left(a_{2}\right)\){:/nomarkdown} נובע מכך ש-{::nomarkdown}\( f\left(a_{1}\right)=f\left(a_{2}\right)\){:/nomarkdown} ומכיוון ש-{::nomarkdown}\( f\){:/nomarkdown} חד-חד-ערכית נובע מכך ש-{::nomarkdown}\( a_{1}=a_{2}\){:/nomarkdown} מה שמסיים את המקרה הזה.

המקרה השני, של שני ברי מזל, דומה: הרי ההתאמה לחדרים ש-{::nomarkdown}\( g\){:/nomarkdown} מגדירה גם כן לא מאפשרת התנגשויות. אם {::nomarkdown}\( a_{1},a_{2}\notin D\){:/nomarkdown} אז אם {::nomarkdown}\( h\left(a_{1}\right)=h\left(a_{2}\right)\){:/nomarkdown} נקבל ש-{::nomarkdown}\( g^{-1}\left(a_{1}\right)=g^{-1}\left(a_{2}\right)\){:/nomarkdown} ועל ידי הפעלת {::nomarkdown}\( g\){:/nomarkdown} על שני האגפים נקבל {::nomarkdown}\( a_{1}=a_{2}\){:/nomarkdown}.

במקרה השלישי אפשר להניח בלי הגבלת הכלליות ש-{::nomarkdown}\( a_{1}\in D\){:/nomarkdown} ו-{::nomarkdown}\( a_{2}\notin D\){:/nomarkdown}. מה קורה פה, אינטואיטיבית? {::nomarkdown}\( a_{2}\){:/nomarkdown} הוא "בר מזל", כלומר הוא לא פונה אף פעם מהחדר שלו; לעומתו, {::nomarkdown}\( a_{1}\){:/nomarkdown} הוא "ממורמר", וכדי לשכן אותו היה צריך להעיף מישהו אחר מהחדר שלו. לכן לא ייתכן ש-{::nomarkdown}\( a_{1}\){:/nomarkdown} יחלוק חדר עם מישהו שלא היה צריך להעיף מעולם. פורמלית, אם {::nomarkdown}\( h\left(a_{1}\right)=h\left(a_{2}\right)\){:/nomarkdown} אז {::nomarkdown}\( f\left(a_{1}\right)=g^{-1}\left(a_{2}\right)\){:/nomarkdown}; נפעיל את {::nomarkdown}\( g\){:/nomarkdown} על שני האגפים ונקבל {::nomarkdown}\( a_{2}=g\left(f\left(a_{1}\right)\right)\){:/nomarkdown}, שאומר "{::nomarkdown}\( a_{2}\){:/nomarkdown} נבעט מהחדר שלו כדי לפנות מקום ל-{::nomarkdown}\( a_{1}\){:/nomarkdown}". כי אם {::nomarkdown}\( a_{1}\in D\){:/nomarkdown} זה אומר שקיים {::nomarkdown}\( n\){:/nomarkdown} כך ש-{::nomarkdown}\( a_{1}\in D_{n}\){:/nomarkdown}, ואז על פי הגדרה {::nomarkdown}\( a_{2}\in g\left(f\left(D_{n}\right)\right)=D_{n+1}\){:/nomarkdown}, בסתירה להנחה ש-{::nomarkdown}\( a_{2}\notin D\){:/nomarkdown}, ולכן המקרה הזה לא יכול להתרחש כלל. זה מסיים את ההוכחה.

האם כל סיפורי המעשיות על המלון של הילברט עוזרים להבין את ההוכחה או סתם מסרבלים? אתם תגידו. אני יודע בעיקר שככה ההוכחה יותר <strong>כיפית</strong> לי.
