---
id: 1354
title: "מטריצות, דירוג מטריצות ומשוואות לינאריות"
date: 2011-10-05 09:48:58
layout: post
categories: 
  - אלגברה לינארית
tags: 
  - אלגברה לינארית
  - דירוג מטריצות
  - מטריצות
  - משוואה לינארית
---
משוואות לינאריות הן התירוץ המושלם להתחיל לדבר על האובייקט שבאמת מעניין אותנו - כנראה האובייקט המרכזי באלגברה לינארית ובמתמטיקה בכלל: מטריצות. מטריצה היא רשימה דו-ממדית של איברים (בהקשר שלנו, מספרים) אבל היא יותר מזה: היא אובייקט אלגברי שאפשר לבצע עליו מניפולציות אלגבריות: אפשר לחבר שתי מטריצות, אפשר לכפול מטריצה במספר כלשהו, ואפשר לכפול גם שתי מטריצות זו בזו, אבל עם התכונות האלגבריות הללו נחכה טיפה. בפוסט הזה נסתפק בלהבין מהן מטריצות, איך הן הופכות דיבור על משוואות לינאריות לקצת יותר פשוט, ואיך מתארים פתרון משוואות לינאריות ב"שפה" שלהן.

בואו ניקח לדוגמה מערכת של שתי משוואות לינאריות בשני נעלמים:

{::nomarkdown}\( 2x+7y=21\){:/nomarkdown}

{::nomarkdown}\( 2x-4y=10\){:/nomarkdown}

לאלו שממש ממש במתח, הפתרון של המערכת הוא {::nomarkdown}\( x=7,y=1\){:/nomarkdown}, אבל זה לא מה שמעניין אותנו כרגע, ואפילו לא איך פותרים אותה כי ראינו את השיטה לכך בפוסט הקודם, אלא פשוט איך אפשר לכתוב את המערכת הזו בצורה קצת פחות טרחנית מזו שבה כתבתי אותה. בצורת הכתיבה שלי יש הרבה טקסט מיותר - ה-{::nomarkdown}\( x,y\){:/nomarkdown} מיותרים כי אני יודע שבכל משוואה לינארית יהיו משתנים; וסימן השווה מיותר; וגם הפלוס שלפני ה-7 מיותר למרות שהמינוס שלפני הארבע לא. זה לא נראה כמו משהו גרוע עד כדי כך, אבל צריך לזכור שאנחנו חושבים על פתרון משוואות עוד יותר כלליות, כאלו שיש בהן גם שבעה נעלמים ושבע משוואות. בסיטואציות כאלו כבר מפסיקים לתת אות מיוחדת לכל משתנה ופשוט קוראים להם {::nomarkdown}\( x_{1},x_{2},\dots,x_{7}\){:/nomarkdown} וכדומה. די ברור שהשמות הללו הם חסרי משמעות עבורנו והיינו שמחים להימנע מהצורך להשתמש בהם.

מה שבאמת מעניין אותנו במערכת משוואות הוא ה<strong>מקדמים</strong> של המשתנים ומה שנמצא אחרי סימן ה"שווה". אלו המספרים שמשתנים ממשוואה למשוואה ומאפיינים אותה. אז מה שעושים הוא פשוט - כותבים <strong>רק</strong> את המספרים הללו:

{::nomarkdown}\( \begin{array}{ccc}2 &amp; 7 &amp; 21\\2 &amp; -4 &amp; 10\end{array}\){:/nomarkdown}

טוב. חייבים להודות שזה לא נראה משהו. אז כדי שיהיה ברור שכל המספרים הללו קשורים אחד לשני, מקיפים אותם בסוגריים:

{::nomarkdown}\( \left[\begin{array}{ccc}2 &amp; 7 &amp; 21\\2 &amp; -4 &amp; 10\end{array}\right]\){:/nomarkdown}

והנה קיבלנו מטריצה. לפעמים, במקרה הפרטי של מטריצה שבאה לייצג משוואה לינארית, מפרידים את העמודה הימנית ביותר מהיתר באיזה קו מקווקו כדי שיהיה ברור איפה המקדמים נגמרים ומה שאחרי השווה מתחיל, אבל ברשותכם אני אוותר על זה ופשוט נזכור את זה.

פורמלית, עבור מספרים טבעיים {::nomarkdown}\( n,m\){:/nomarkdown}, מטריצה מסדר {::nomarkdown}\( n\times m\){:/nomarkdown} (בעלת {::nomarkdown}\( n\){:/nomarkdown} שורות ו-{::nomarkdown}\( m\){:/nomarkdown} עמודות) היא אוסף של איברים ("איברים", בכל הקשר שנזדקק לו, פירושו כאן "מספרים") כך שלכל איבר יש שני אינדקסים שמציינים באיזו שורה ובאיזו עמודה הוא נמצא במטריצה. למשל, במטריצה שהצגתי למעלה, האיבר בשורה 1 ועמודה 1 הוא 2, וגם האיבר בשורה 2 ועמודה 1 הוא 2; ואילו האיבר בשורה 2 ועמודה 3 הוא 10. לרוב משתמשים באותיות לטיניות גדולות כמו {::nomarkdown}\( A,B,C\){:/nomarkdown} כדי לתאר מטריצות, ואז {::nomarkdown}\( A_{11}\){:/nomarkdown} מסמן את האיבר בשורה 1 ובעמודה 1 במטריצה {::nomarkdown}\( A\){:/nomarkdown} (ה"כניסה" ה-{::nomarkdown}\( 1,1\){:/nomarkdown} במטריצה), וכדומה. כלומר, אם

{::nomarkdown}\( A=\left[\begin{array}{ccc}2 &amp; 7 &amp; 21\\2 &amp; -4 &amp; 10\end{array}\right]\){:/nomarkdown}

אז {::nomarkdown}\( A_{12}=-4\){:/nomarkdown} ו-{::nomarkdown}\( A_{23}=10\){:/nomarkdown} וכדומה.

מה קורה אם יש במטריצה מספר דו ספרתי של שורות או עמודות? ובכן, אפשר לכתוב משהו כמו {::nomarkdown}\( A_{10,3}\){:/nomarkdown} עם פסיק ואז לא יהיו בלבולים. בכל מקרה הסימון שאני מציג כאן הוא לא קדוש ויש עוד הרבה וריאציות עליו שבהן משתמשים.

בפוסט הקודם הצגתי שתי מניפולציות שאפשר היה לעשות על משוואות במערכת משוואות - לכפול משוואה במספר, ולחבר שתי משוואות - מה שחיש קל הפך ל"לחבר למשוואה אחת משוואה אחרת כשהיא מוכפלת במספר כלשהו". דבר אחד שלא התייחסתי אליו אז כי הוא היה כמעט מובן מאליו הוא שבמערכת משוואות אפשר להחליף את ה<strong>סדר</strong> שבו משוואות מופיעות מבלי לשנות את הפתרונות של המערכת. כל זה מוביל אותנו לשלוש פעולות שאפשר לבצע על מטריצה שמייצגת מערכת משוואות אחת כדי לקבל מטריצה שמייצגת מערכת משוואות שונה עם בדיוק אותם פתרונות:
<ol>
	<li> אפשר להחליף שתי שורות.</li>
	<li> אפשר לכפול שורה במספר שונה מאפס.</li>
	<li> אפשר להוסיף לשורה אחת שורה אחרת שמוכפלת במספר כלשהו.</li>
</ol>
שלוש הפעולות הללו נקראות <strong>פעולות אלמנטריות</strong>. שימו לב שכולן הפיכות - אם החלפנו שתי שורות פשוט נחליף אותן שוב ונחזור למטריצה שממנה התחלנו; אם כפלנו שורה במספר שונה מאפס, אפשר לכפול את השורה גם במספר ההפוך לו ולחזור למטריצה שממנה התחלנו; ואם הוספנו לשורה אחת שורה אחת כפול מספר, אפשר עכשיו להוסיף לה את השורה האחרת כפול מינוס אותו המספר.

אם אפשר להגיע מהמטריצה {::nomarkdown}\( A\){:/nomarkdown} אל המטריצה {::nomarkdown}\( B\){:/nomarkdown} על ידי מספר סופי של הפעלות של פעולות אלמנטריות, אומרים שהן "שקולות-שורה". מכיוון שהפעולות הפיכות, זה גם אומר שאפשר להגיע מ-{::nomarkdown}\( B\){:/nomarkdown} אל {::nomarkdown}\( A\){:/nomarkdown}. מה שהיינו רוצים הוא להגיע ממטריצה כלשהי {::nomarkdown}\( A\){:/nomarkdown} אל מטריצה {::nomarkdown}\( B\){:/nomarkdown} שהיא פשוטה יחסית, במובן של "הפתרון של המשוואה ש-{::nomarkdown}\( B\){:/nomarkdown} מייצגת הוא מובן מאליו". בואו נראה איך זה קורה עם המטריצה שנתתי כדוגמה:

{::nomarkdown}\( \left[\begin{array}{ccc}2 &amp; 7 &amp; 21\\2 &amp; -4 &amp; 10\end{array}\right]\overset{r_{2}-r_{1}}{\to}\left[\begin{array}{ccc}2 &amp; 7 &amp; 21\\0 &amp; -11 &amp; -11\end{array}\right]\overset{-\frac{1}{11}r_{2}}{\to}\left[\begin{array}{ccc}2 &amp; 7 &amp; 21\\0 &amp; 1 &amp; 1\end{array}\right]\overset{r_{1}-7r_{2}}{\to}\left[\begin{array}{ccc}2 &amp; 0 &amp; 14\\0 &amp; 1 &amp; 1\end{array}\right]\overset{\frac{1}{2}r_{1}}{\to}\left[\begin{array}{ccc}1 &amp; 0 &amp; 7\\0 &amp; 1 &amp; 1\end{array}\right]\){:/nomarkdown}

כשאני כותב {::nomarkdown}\( r_{2}-r_{1}\){:/nomarkdown} אני מתכוון "משנים את {::nomarkdown}\( r_{2}\){:/nomarkdown} - שורה 2 - על ידי כך שמחסירים ממנה את {::nomarkdown}\( r_{1}\){:/nomarkdown}". כשאני כותב "{::nomarkdown}\( -\frac{1}{11}r_{2}\){:/nomarkdown}" אני מתכוון "כופלים את {::nomarkdown}\( r_{2}\){:/nomarkdown} ב-{::nomarkdown}\( -\frac{1}{11}\){:/nomarkdown}", וכדומה. גם זה לא ממש סימון סטנדרטי אבל אני מקווה שהוא מספיק ברור כאן.

המטריצה שקיבלנו לבסוף, {::nomarkdown}\( \left[\begin{array}{ccc}1 &amp; 0 &amp; 7\\0 &amp; 1 &amp; 1\end{array}\right]\){:/nomarkdown}, מייצגת את מערכת המשוואות הבאה:

{::nomarkdown}\( x=7\){:/nomarkdown}

{::nomarkdown}\( y=1\){:/nomarkdown}

שהיא בדיוק הפתרון שהבטחתי בתחילת הפוסט, כך שמה שקרה עם שרשרת המטריצות שהצגתי למעלה הוא פשוט פתרון של המשוואה - אבל פתרון בצורה שיטתית וחסכונית למדי. במערכת של שתי משוואות בשני נעלמים זה אולי עוד נראה מסורבל למדי, אבל כשצריך לעשות את זה, נאמר, על ארבע משוואות בארבעה נעלמים או למעלה מכך היתרון של השיטה המטריציונית הוא ברור. עם זאת, שלא יהיה לכם ספק - עדיין מדובר על עבודה טכנית משעממת ביותר. מה שאנחנו באמת רוצים הוא להבין את העקרונות הכלליים של התהליך כדי שנוכל להגיד למחשב לעשות אותו.

מדוע המטריצה {::nomarkdown}\( \left[\begin{array}{ccc}1 &amp; 0 &amp; 7\\0 &amp; 1 &amp; 1\end{array}\right]\){:/nomarkdown} היא נקודת סיום טובה כל כך עבורנו? מכיוון שבכל שורה מופיע רק אחד המשתנים, והוא מופיע עם המקדם 1. זה אומר שאותה השורה בעצם אומרת "המשתנה כך וכך שווה ל..." ותו לא. אבל איך הצלחנו להגיע אליה? הפתרון טמון דווקא בעמודות. שימו לב שכבר הפעולה הראשונה שביצעתי בשרשרת המטריצות למעלה יועדה לגרום לכך שבעמודה הראשונה במטריצה, בשורה השניה, יהיה 0. מה שזה אומר בפועל הוא שמחקתי את המשתנה {::nomarkdown}\( x\){:/nomarkdown} מהמשוואה השניה והשארתי אותו רק בראשונה. אחר כך, כשחיברתי את השורה השניה לראשונה, זה כבר לא יכל להשפיע על המשתנה {::nomarkdown}\( x\){:/nomarkdown}, כלומר על העמודה הראשונה, כי בשורה השניה היה שם 0.

זה מתווה את השיטה הכללית שלנו: אנחנו רוצים לקחת את העמודה הראשונה במטריצה, ולגרום לכך שבשורה הראשונה יהיה שם 1, ובשאר השורות יהיה 0. אחר כך אנחנו רוצים לקחת את העמודה השניה במטריצה ולגרום לכך שבשורה <strong>השניה</strong> יהיה שם 1, ובשאר השורות 0. כך זה במערכת של שתי משוואות בשני נעלמים אבל גם במערכות גדולות יותר.

אלא מה, לא תמיד אפשר לעשות את זה בכלל. למשל, מה עם המטריצה {::nomarkdown}\( \left[\begin{array}{ccc}1 &amp; 0 &amp; 7\\0 &amp; 0 &amp; 0\end{array}\right]\){:/nomarkdown}? לא משנה מה נעשה, העמודה השניה תמיד תכיל 0. ומה עם המטריצה {::nomarkdown}\( \left[\begin{array}{ccc}1 &amp; 1 &amp; 1\\1 &amp; 1 &amp; 1\end{array}\right]\){:/nomarkdown}? אנחנו לא יכולים לאפס את הכניסה בשורה 2 ועמודה 1 מבלי לאפס גם את הכניסה בשורה 2 ועמודה 2. לכן צריך להיות קצת יותר זהירים ביחס ליעד שלנו. זה המקום שבו צצה ההגדרה של <strong>מטריצה מצומצמת.</strong> זו הגדרה מדויקת של "מה שאנחנו יכולים לצפות לו תמיד מהתהליך שתיארנו", אבל לא קריטי להבין אותה במלואה בינתיים. בכל זאת אביא אותה פה, כמובן. מטריצה היא מצומצמת אם היא מקיימת ש:
<ol>
	<li> בכל שורה שלה, הכניסה הראשונה שאיננה 0 היא 1.</li>
	<li> בכל עמודה שלה, אם יש כניסה שהיא הכניסה הראשונה שאינה 0 בשורה כלשהי, אז שאר הכניסות בעמודה הן 0.</li>
	<li> כל השורות שמכילות רק אפסים נמצאות מתחת לכל השורות האחרות.</li>
	<li> בהינתן שתי שורות שאינן שורות אפסים, הכניסה הראשונה שאיננה אפס בשורה העליונה יותר מופיעה בעמודה מוקדמת יותר מאשר הכניסה הראשונה שאיננה אפס בעמודה השניה.</li>
</ol>
אולי הכי ברור להבין את ההגדרה הזו על ידי דוגמאות שלא מתאימות לה:

המטריצה {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\0 &amp; 2\end{array}\right]\){:/nomarkdown} לא עונה לדרישה 1, כי הכניסה הראשונה שאיננה 0 בשורה 2 היא 2.

המטריצה {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\1 &amp; 1\end{array}\right]\){:/nomarkdown} לא עונה לדרישה 2 כי העמודה הראשונה מפירה את התנאי: יש <strong>שתי</strong> כניסות שהן הכניסות הראשונות שאינן 0. גם {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 1\\0 &amp; 1\end{array}\right]\){:/nomarkdown} מפירה את התנאי בצורה דומה - כאן הכניסה {::nomarkdown}\( A_{12}\){:/nomarkdown} אמנם איננה הכניסה הראשונה שאיננה 0 בשורה הראשונה, אבל {::nomarkdown}\( A_{22}\){:/nomarkdown} היא כן הכניסה הראשונה שאיננה 0 בשורה 2, ולכן שאר העמודה צריכה להכיל אפסים.

דוגמה נגדית ל-3 זה קל מאוד: {::nomarkdown}\( \left[\begin{array}{cc}0 &amp; 0\\1 &amp; 0\end{array}\right]\){:/nomarkdown}.

ההגדרה של 4 מסובכת אבל דוגמה נגדית היא פשוטה גם כאן: {::nomarkdown}\( \left[\begin{array}{cc}0 &amp; 1\\1 &amp; 0\end{array}\right]\){:/nomarkdown} היא דוגמה נגדית, כי השורה של ה-01 באה לפני השורה של ה-10 אבל הכניסה הראשונה שאיננה 0 בשורה 01 היא בעמודה 2, ואילו הכניסה הראשונה שאיננה 0 בשורה 10 היא בעמודה 1.

בוודאי תשאלו, בשביל מה כל התנאים הללו טובים? התשובה פשוטה: לכל מטריצה {::nomarkdown}\( A\){:/nomarkdown} <strong>כלשהי</strong>, קיימת מטריצה מצומצמת אחת ויחידה שאליה ניתן להגיע מ-{::nomarkdown}\( A\){:/nomarkdown} על ידי פעולות אלמנטריות. זה אולי משפט הקיום והיחידות הראשון שבו נתקלים סטודנטים למתמטיקה. זה אומר ש<strong>כל</strong> מערכת משוואות לינארית ניתן להחליף במערכת שקולה לה (שקולה לה במובן זה שיש להן אותן פתרונות) שמתוארת על ידי מטריצה מצומצמת. לתהליך הזה, שבו עוברים ממטריצה כלשהי למטריצה המצומצמת המתאימה לה, קוראים <strong>דירוג מטריצות</strong>.

כעת אפשר להבין למה כל ארבע התכונות שתיארתי למעלה הן הכרחיות בשביל שהמטריצה המצומצמת תהיה יחידה: כל הדוגמאות הנגדיות שנתתי עונות על כל שלוש הדרישות פרט לדרישה שהן באות לנגוד, כך שאם נשמיט ולו אחת מהדרישות, כבר יהיו שתי מטריצות מצומצמת אפשריות. במקרה הראשון {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\0 &amp; 2\end{array}\right]\){:/nomarkdown} ניתנת לצמצום אל {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\0 &amp; 1\end{array}\right]\){:/nomarkdown}; במקרה השני {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\1 &amp; 1\end{array}\right]\){:/nomarkdown} ניתנת לצמצום אל {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\0 &amp; 1\end{array}\right]\){:/nomarkdown}; במקרה השלישי {::nomarkdown}\( \left[\begin{array}{cc}0 &amp; 0\\1 &amp; 0\end{array}\right]\){:/nomarkdown} ניתנת לצמצום אל {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\0 &amp; 0\end{array}\right]\){:/nomarkdown} ובמקרה הרביעי {::nomarkdown}\( \left[\begin{array}{cc}0 &amp; 1\\1 &amp; 0\end{array}\right]\){:/nomarkdown} ניתנת לצמצום אל {::nomarkdown}\( \left[\begin{array}{cc}1 &amp; 0\\0 &amp; 1\end{array}\right]\){:/nomarkdown}.

כעת, איך מדרגים מטריצה באופן כללי? ובכן, קודם כל מוצאים בעמודה הראשונה את השורה הראשונה שבה לא מופיע 0 (אם בכולן מופיע 0 עוברים מייד לעמודה הבאה). מחליפים את סדר השורות (פעולה אלמנטרית 1) כך שהשורה הזו תופיע הראשונה במטריצה. כופלים את השורה הזו בקבוע מתאים (פעולה אלמנטרית 2) כך שבעמודה הראשונה יופיע בה כעת 1. לבסוף, מחסירים את השורה הזו מכל האחרות כשהיא מוכפלת בכל פעם בקבוע מתאים כדי לאפס את כל שאר הכניסות בעמודה הזו. בואו נראה את התהליך על מטריצה מסדר {::nomarkdown}\( 3\times3\){:/nomarkdown}:

{::nomarkdown}\( \left[\begin{array}{ccc}0 &amp; 2 &amp; 1\\2 &amp; 1 &amp; 1\\1 &amp; 3 &amp; 1\end{array}\right]\overset{r_{1}\leftrightarrow r_{2}}{\to}\left[\begin{array}{ccc}2 &amp; 1 &amp; 1\\0 &amp; 2 &amp; 1\\1 &amp; 3 &amp; 1\end{array}\right]\overset{\frac{1}{2}r_{1}}{\to}\left[\begin{array}{ccc}1 &amp; \frac{1}{2} &amp; \frac{1}{2}\\0 &amp; 2 &amp; 1\\1 &amp; 3 &amp; 1\end{array}\right]\overset{r_{3}-r_{1}}{\to}\left[\begin{array}{ccc}1 &amp; \frac{1}{2} &amp; \frac{1}{2}\\0 &amp; 2 &amp; 1\\0 &amp; \frac{5}{2} &amp; \frac{1}{2}\end{array}\right]\){:/nomarkdown}

בסופו של דבר קיבלתי בעמודה 1 מופע בודד של 1 וכל היתר 0. כעת נטפל בצורה דומה בעמודה 2, פרט לכך ששורה 1 היא כבר "מחוץ למשחק" במובן זה שלא מזיזים אותה יותר (אבל כן צריך לאפס בתוכה את עמודה 2 אם מגיעים לשלב הזה).

כל התהליך הזה, שנקרא <strong>אלימינציה גאוסית</strong>, ניתן לביצוע מהיר מאוד יחסית, והוא לא מצריך מחשבה כמעט כלל. במילים אחרות, זה אלגוריתם מושלם למחשב; כתרגיל לקורא זה קצת יותר משעמם.

ייתכן שאתם תוהים מה היה הטעם בכל זה. המעבר למטריצות גרם לי לשינוי טרמינולוגיה וסימונים אבל לא הוספתי כאן תוכן מהותי על מה שאמרתי בפוסט הקודם. זה נכון, אבל בפוסט הבא אציג את המושג של כפל מטריצות, וזה יאפשר לתאר את כל מה שעשינו כאן באופן עוד יותר קומפקטי, ויסייע לנו לעבור לשלב הבא, של להבין בדיוק איך פתרונות של מערכות משוואות יכולים להיראות.
